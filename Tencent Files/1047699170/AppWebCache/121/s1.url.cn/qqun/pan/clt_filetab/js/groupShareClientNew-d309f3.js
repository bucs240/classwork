!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//s1.url.cn/qqun/pan/clt_filetab/",t(t.s=237)}([function(e,t,n){"use strict";function a(e){if(1===e.orcType){var t=1===G.module()?1:0,n=$("#"+e.domid),a=n.attr("idx"),i=t;void 0!==a&&(i+="_"+a);var o=e.uin===G.info.uin?1:2;return{ver1:e.isDown?1:2,ver2:G.info.isAdmin?1:2,ver3:o,ver4:encodeURIComponent(e.fname),ver5:encodeURIComponent(e.filetype),ver6:i}}if(2===e.orcType){var r=0,l=$("#"+e.domid),s=l.attr("idx"),d=r;void 0!==s&&(d+="_"+s);var p=G.info.uin===e.uin?1:2;return{ver1:e.filenum===e.downNum?1:2,ver2:G.info.isAdmin?1:2,ver3:p,ver4:encodeURIComponent(e.name),ver5:d}}return!1}function i(){if("/"===G.nowFolder){y.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);x.css("width",e+"%"),$("#fileNum").removeClass("hide")}}function o(e){return e+="",e.replace(/\//gi,"-")}function r(e){var t={};for(var n in e)t[n]=e[n];return t}function l(e){return!(!G.info.isAdmin&&e!==G.info.uin)}function s(e){if(!e||void 0===e.name)return void console.log(!e,!e.name);if(e.filepath&&(e.filepath=e.filepath.replace(/\\\//g,"/")),!e.remoteType)switch(e.busid){case 102:e.remoteType=F;break;case 104:case 105:e.remoteType=k;break;default:e.remoteType=F}if(e.lp&&(G.mac?e.localpath=f.decode(e.lp):e.localpath=f.decode(e.lp).replace(/\\|\//g,"\\\\")),e.upsize<e.size)e.uin===G.info.uin&&(e.type="continueupload",e.status="continue",e.canContinueUpload=!0,e.taskStarttime=e.ct,e.styles="upload pause",e.csize=e.upsize,e.csizeStr=p.getSize(e.upsize),e.cPercent=0,e.upsize&&e.size&&(e.cPercent=100*e.upsize/e.size),e.notComplete=!0,e.result=1,_.parse(e));else{e.result=2,e.auditflag>0&&console.warn("auditFlag",e);var t=(e.name,e.size);e.ct;e.down||(e.down=0),"图片"===e.filetype&&(e.result=3,G.info.isVisitor||(e.preview=!0)),e.remoteType===k&&e.isAdmin&&(e.canForever=!0);var n=0;t<102400?n=5:t<1048576?n=4:t<10485760?n=3:t<52428800?n=2:t<104857600&&(n=1);var a=[];e.isAdmin&&(e.canDelete=!0,e.canRename=!0,a.push("can_delete=1 "),a.push("can_rename=1 ")),e.preview&&a.push("can_preview=1 "),e.canForever&&a.push("can_forever=1 "),e.canDo=a.join(""),e.showMore="",""===e.canDo&&(e.showMore="disable_more"),e.sizeType=n,e.styleTemp||(e.styleTemp=""),e.styleIssucc||(e.styleIssucc=""),e.expireStr="",e.fileTitle=e.filename,e.remotetype===k&&(e.styleTemp="temp",e.expireStr=h.getExpriesDayNum(e.ttl)+"天后到期",e.fileTitle+=" (临时文件：剩余"+data.getExpriesDayNum(e.ttl)+"天)")}return e}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(19),c=n(16),f=n(61),u=n(49),m=n(72),h=n(7),_=n(17),v=n(12),w=$(G.handler),g={},b=!1,y=$("#groupSize"),x=$("#groupSizeBar");G.getReportInfo=a,e.exports=g,g.getId=o,g.updateFile=function(e,t){"rename"===t&&e&&(e.mt=Math.ceil((new Date).getTime()/1e3),e.mtStr=c.getDateStr(e.mt),e.mtoStr=c.getorcDateStr(e.mt)),"permanent"===t&&e&&(delete G.fileMap()[e.filepath],e.id&&delete G.fileMap()[e.id],G.fileMap()[e.newFilePath]=e,e.filepath=e.newFilePath)},g.updateFolder=function(e){return delete G.folderMap()[e.id],e.modify_time=Math.ceil((new Date).getTime()/1e3),e.mt=e.modify_time,e.mtStr=c.getDateStr(e.modify_time),e.mtoStr=c.getorcDateStr(e.modify_time),G.folderMap()[e.id]=e,e},g.filterFolder=function(e){var t={fname:e.name,fnameEsc:f.decode(e.name),name:e.name,id:e.id,icon:"folder",ct:e.create_time,ctStr:c.getDateStr(e.create_time),ctoStr:c.getorcDateStr(e.create_time),mt:e.modify_time,mtStr:c.getDateStr(e.modify_time),mtoStr:c.getorcDateStr(e.modify_time),uin:e.owner_uin||G.info.uin,filenum:e.size,nick:e.owner_name||G.info.nickName,mnick:e.modify_name||G.info.nickName,muin:e.modify_uin||G.info.uin,orcType:e.type||2,domid:o(e.id),downNum:0},n=v.check(t.id);return n&&(t.localpath=n,t.succ=!0),t},g.addData=function(e){e&&(2===e.orcType?G.folderMap()[e.id]=e:G.fileMap()[e.filepath]=e)},g.getData=function(e){return G.folderMap()[e]||G.fileMap()[e]||!1},g.remove=function(e){G.folderMap()[e]&&delete G.folderMap()[e];var t=G.fileMap()[e];t&&(t.isRemoved=!0,delete G.fileMap()[e],delete G.fileMap()[t.filepath])},g.getFile=function(e,t){return G.fileMap()[e]||G.fileMap()[t]||!1},g.getTask=function(e){return G.cMap[e]||!1},g.setAllNum=function(e){G.file||(G.file={}),0===G.module()&&(G.file.allnum=e.total||0)},g.setFileCount=function(e){G.file||(G.file={}),G.file.fileCount=e.file_count||0,G.file.isTooMany=e.is_too_many,G.file.isFull=e.is_full},g.setAllSpace=function(e){G.file||(G.file={}),G.file.capacitytotal=p.getSize(e.totalSpace),G.file.capacityused=p.getSize(e.usedSpace),G.file.ct=e.totalSpace,G.file.cu=e.usedSpace},g.removeAllNum=function(e){G.file.allnum&&G.file.allnum--,1===e.remoteType&&(G.file.cu-=e.size,G.file.capacityused=p.getSize(G.file.cu))},g.addAllNum=function(e){},g.updateAllNum=function(e){var t={files:[],action:""};e=h.extend(t,e);for(var n=e.action,a=e.files,o=0,r=a.length-1;r>=0;r--)o+=a[r].size;"add"===n?(G.file.allnum=G.file.allnum+a.length,G.file.cu+=o):"remove"===n?(G.file.allnum=G.file.allnum-a.length,G.file.cu-=o):console.log("illegal action"),i()},g.setRole=function(e){if(!b){b=!0;var t=e.userRole||0,n=e.openFlag||0,a=0,i=0,o=!1,r=3===e.userRole;t>=1&&4!==t?(a=1,1===t&&(i=1),o=!0):3===t&&1===n&&(r=!0),G.info.isAdmin=a,G.info.isMaster=i,G.info.isVisitor=r,G.info.isPublic=n,G.info.role=t,w.trigger("filecount.getrole"),G.canCreateFolder=o,report("enter",n),report("showSearchBtn"),$("body").addClass("auth"+G.info.isAdmin)}},g.task2file=function(e){var t=e,n=t.filepath.substr(1,3);n=parseInt(n);var a=parseInt((new Date).getTime()/1e3,10),i=p.getFileName(t.filename);if("downloadcomplete"!==t.status)t.name=i.filename_name,t.fname=t.filename,t.fnameEsc=f.decode(t.filename),t.nameEsc=f.decode(i.filename_name),t.folderid=o(t.folderpath),t.down=0,t.filepath=t.filepath,t.fp=t.filepath.substr(4),t.domid=o(t.filepath),t.busid=n,t.filetype=p.getType(i.filename_suf),t.uin=G.info.uin,t.nick=G.info.nickName,t.upsize=t.filesize,t.temp=102!=n,t.ttl=86400,t.ct=a,t.ctStr=c.dayStr(a),t.ctoStr=c.getorcDateStr(a),t.mt=a,t.mtStr=c.getDateStr(a),t.mtoStr=c.getorcDateStr(a),t.type=1,t.succ=!0,t.admin=!0,t.isDown=!0,t.remove=!0,t.rename=!0,t.size=t.size,t.canEdit=p.canEdit(t.filetype,t.admin),t.remoteType=102===n?1:2,t.parentId=t.folderpath||"/";else{var l=void 0,s=t.id;l=r(1===t.downloadtasktype?G.folderMap()[t.filepath]:G.fileMap()[t.filepath]),t=$.extend(!0,l,t),t.taskId=s,t.isDown=!0,t.succ=!0,t.domid=o(t.filepath)}return G.cMap[t.id]&&delete G.cMap[t.id],G.cMap[t.filepath]&&delete G.cMap[t.filepath],2===t.orcType&&(t.id=t.filepath),g.addData(t),t},g.setFileList=function(e,t,n){var a;"number"==typeof n&&(a=n),G.cMap||(G.cMap={});var i=[],r=[],d=[],_=[];t=h.extend({fn:"name",t:"bus_id",uin:"owner_uin",dt:"download_times",ut:"create_time",mt:"modify_time",lp:"local_path",ufs:"upload_size",fp:"id",fs:"size",owner_name:"owner_name"},t);var b=t.fn,y=t.t,x=t.uin,F=t.dt,k=t.ut,T=t.mt,C=t.lp,S=t.ufs,M=t.fp,R=t.fs,D=t.owner_name;e=e||[];for(var L=0,E=e.length;L<E;L++){var O=e[L];if(void 0===O.type&&(O.type=1),1===O.type){var N=p.getFileName(O[b]),I={t:O[y],exp:O.exp||0,lp:O[C],busid:O[y],fname:O[b],fnameEsc:f.decode(O[b]),name:N.filename_name,nameEsc:f.decode(N.filename_name),suf:N.filename_suf,icon:p.getIcon(N.filename_suf),domid:o("/"+O[y]+O[M]),filepath:"/"+O[y]+O[M],fp:O[M],admin:!1,filetype:p.getType(N.filename_suf),uin:O[x],nick:O[D],size:O[R],sizeStr:p.getSize(O[R]),upsize:O[S],temp:104===O[y],down:O[F],ct:O[k],ctStr:c.dayStr(O[k]),ctoStr:c.getorcDateStr(O[k]),mt:O[T],parentId:O.parent_id,mtStr:c.dayStr(O[T]),mtoStr:c.getorcDateStr(O[T]),orcType:O.type,md5:O.md5,safeType:O.safe_type,remove:!1,rename:!1,isDown:!1};O.gc&&(I.gc=O.gc),O.group_name&&(I.gname=O.group_name),I.admin=l(O[x]),I.admin&&(I.remove=!0,I.rename=!0),I.canEdit=p.canEdit(I.filetype,I.admin),I=s(I);var P=v.check(I.filepath);if(P?(I.isDown=!0,I.localpath=P,I.succ=!0,report("showOpenFile",G.module(),1)):report("showDownloadBtn",G.module(),1),reportNew("newFileShow",{ver1:I.isDown?1:2,ver2:G.info.isAdmin?1:2}),I.safeType){var j=G.getReportInfo(I);j.ver3=j.ver4,j.ver4=j.ver5,j.ver5=j.ver6,delete j.ver6,reportNew("blackExp",j)}3!==I.result||G.previewCache[I.filepath]||i.push(I),G.previewCache[I.filepath]&&(I.previewObj=G.previewCache[I.filepath]),G.fileMap(a)[I.filepath]?(I=$.extend(G.fileMap(a)[I.filepath],I),G.fileMap(a)[I.filepath]=I):G.fileMap(a)[I.filepath]=I,O[R]===O[S]?r.push(I):O[x]===G.info.uin&&(u.add(I),d.push(I))}else{var A=g.filterFolder(O);A.id.indexOf("online_doc_folder")>=0&&(A.isDoc=!0),G.folderNum++,g.addData(A),_.push(A),reportNew("folderShow",{ver1:A.downNum===A.fileNum?1:2,ver2:G.info.isAdmin?1:2}),report("showOpenFile",G.module(),1)}}return G.topFolder={fname:"群文件",fnameEsc:"群文件",id:"/",icon:"folder",mt:0,mtStr:0,uin:0,filenum:0,nick:0,type:2},d.length>0&&(G.cList=d,w.trigger("box.renderNum")),i.length>0&&m.getThumb(i),_.length>0&&report("folderNum",G.module(),_.length),report("showSeeBtn",G.module()),{file:r,clist:d,folder:_}};var F=1,k=2;!function(){var e=window.external&&window.external.getPreviewSuffixConfig&&window.external.getPreviewSuffixConfig();if(null===e&&(e={content:[]}),"string"==typeof e)try{e=JSON.parse(e)}catch(e){}"object"!==(void 0===e?"undefined":d(e))&&(e={content:[]});var t={};if(e=e.content)for(var n=function(n,a){var i=e[n].suffix,o=e[n].maxsize;i.split(".").forEach(function(e,n,a){e&&(t[e]=o)})},a=0,i=e.length;a<i;a++)n(a,i)}();g.clearComplete=function(){u.clearComplete()}},,function(e,t,n){"use strict";var a=n(129),i=n(59),o={};e.exports=o;var r="//pan.qun.qq.com/cgi-bin/group_file/",l={getFileList:r+"get_file_list",renameFolder:r+"rename_folder",getFileInfo:r+"get_file_info",createFolder:r+"create_folder",deleteFolder:r+"delete_folder",renameFile:r+"rename_file",deleteFile:r+"delete_file",moveFile:r+"move_file",fileSearch:r+"search_file",getSpace:r+"get_group_space",getUserFlag:r+"get_user_flag",setUserFlag:r+"set_user_flag",previewFile:"//pan.qun.qq.com/cgi-bin/thumbnail",permanent:r+"permanent",checkOneFile:"//pan.qun.qq.com/cgi-bin/checkAuditFlag",getFileAttr:r+"get_file_attr",checkVip:"//pan.qun.qq.com/cgi-bin/get_vip_info",checkWhite:r+"white_list",getFileCount:r+"get_file_count",cleanFile:r+"clean_file",getRedPoint:"//docs.qq.com/cgi-bin/group_online_docs/list_lastmodify"};o.getRedPoint=function(e){var t={};t.gc||(t.group_code=G.info.gc),t.bkn=a.getToken(),i.ajaxGet({url:l.getRedPoint,param:t,ajaxType:"POST",success:function(t){e(t)},error:function(t){e(t)}})},o.getEditFlag=function(){var e={bus_id:3};return a.ajax({url:l.checkWhite,type:"GET",data:e})},o.setPermanent=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.permanent,type:"POST",data:e})},o.getFileList=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.getFileList,type:"GET",data:e})},o.deleteFile=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),e.bus_id&&(e.file_list=JSON.stringify({file_list:[{gc:G.info.gc,app_id:G.appid,bus_id:e.bus_id,file_id:e.file_id,parent_folder_id:e.parent_folder_id}]})),a.ajax({url:l.deleteFile,type:"POST",data:e})},o.renameFile=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.renameFile,type:"POST",data:e})},o.moveFile=function(e){var t={};return t.file_list=JSON.stringify({file_list:e}),t.gc||(t.gc=G.info.gc),a.ajax({url:l.moveFile,type:"POST",data:t})},o.createFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.createFolder,type:"POST",data:e})},o.deleteFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.createFolder,type:"POST",data:e})},o.renameFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.renameFolder,type:"POST",data:e})},o.deleteFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.deleteFolder,type:"POST",data:e})},o.getPreview=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.previewFile,type:"POST",data:e})},o.checkOneFile=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.checkOneFile+"?_="+(new Date).getTime(),type:"POST",data:e})},o.search=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.fileSearch,type:"GET",data:e})},o.getSpace=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),a.ajax({url:l.getSpace,type:"GET",data:e})},o.getFileAttr=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:l.getFileAttr,type:"GET",data:e})},o.checkVip=function(){var e={gc:G.info.gc};return a.ajax({type:"GET",data:e,url:l.checkVip+"?_="+(new Date).getTime()})},o.getUserFlag=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),a.ajax({url:l.getUserFlag,type:"GET",data:e})},o.setUserFlag=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),a.ajax({url:l.setUserFlag,type:"POST",data:e})},o.getFileCount=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),e.bus_id||(e.bus_id=0),a.ajax({url:l.getFileCount,type:"GET",data:e})},o.cleanFile=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),a.ajax({url:l.cleanFile,type:"POST",data:e})}},function(e,t,n){"use strict";function a(){var e={};if(window.external&&P.getTaskList){var t=P.getTaskList();if("string"!=typeof t&&(t=""),""===t)e.map={},e.status="busy";else if("{}"===t)e.map={},e.status="ok",e.empty=!0;else{try{e.map=JSON.parse(t)}catch(e){console.error("客户端接口getTaskList返回的数据有问题?parse出错["+t+"]")}"object"===I(e.map)&&null!==e.map?e.status="ok":(e.map={},e.status="parseerror")}}else e={map:{},status:"ok",empty:!0};return e}function i(){var e={};if(window.external&&P.getCompleteTaskList){var t=P.getCompleteTaskList();if("string"!=typeof t&&(t=""),""===t)e.map={},e.status="busy";else if("{}"===t)e.map={},e.status="ok",e.empty=!0;else{try{e.map=JSON.parse(t)}catch(e){console.error("客户端接口getCompleteTaskList返回的数据有问题?parse出错["+t+"]")}"object"===I(e.map)&&null!==e.map?e.status="ok":(e.map={},e.status="parseerror")}}else e={map:{},status:"ok",empty:!0};return e}function o(e){if(window.external&&P.getTaskInfo){P.getTaskInfo(e)}return ret}function r(e,t){var n=void 0;return e||(e=1),window.g_flag_upload_temp&&(e=2),"addUploadTask"in P&&(n=P.addUploadTask(e,t)),n}function l(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=void 0;return window.external&&P.addDownloadTask?(n+="",r=P.addDownloadTask(e,t,n,a,i||!1,o)):r=-1,r}function s(e,t,n){var a=void 0;return window.external&&P.downloadByXF?(n+="",a=P.downloadByXF(e,t,n)):a=-1,a}function d(e,t,n){return window.external&&P.forwardFile?P.forwardFile(t,e,n):-1}function p(e,t,n){return window.external&&P.forwardFileToDataLine?P.forwardFileToDataLine(t,e,n):-1}function c(e,t,n,a){return window.external&&P.addContinueUploadTask?P.addContinueUploadTask(e,t,n,a):-1}function f(e){return window.external&&P.removeTask?P.removeTask(e):-1}function u(e){return window.external&&P.removeCompleteTask?P.removeCompleteTask(e):-1}function m(e){return window.external&&P.pauseTask?P.pauseTask(e):-1}function h(e){return window.external&&P.resumeTask?P.resumeTask(e):-1}function _(){var e=top.external&&top.external.CallHummerApi;if(e){var t=void 0;try{return t=e.apply(this,arguments),t=JSON.parse(t)}catch(e){return!1}}return!1}function v(){if(!G.mac)return _("IM.GetVersion");try{return{errorCode:0,version:P.getVersion()}}catch(e){return{errorCode:1,version:0}}}function w(){return!!window.G_DEBUG||!!_("Contact.IsOnline")&&_("Contact.IsOnline").online}function g(e,t){return t=t||1,_("Group.OpenGroupInfoCard",'{ "groupId" : "'+e+'", "tabId" : '+t+" }")}function b(e,t){return _("Group.OpenGroupFile",JSON.stringify({gc:""+e,webParams:t}))}function y(e){if(j)return j;var t={uin:e+""};t=JSON.stringify(t);var n=_("Contact.GetNickName",t);if(n&&0===n.errorCode&&n.nickName&&(j=n.nickName),G.mac)try{j=P.getNickName(e)}catch(t){j=e}return j||e}function x(){return _("IM.GetClientKey")}function F(e){var t=void 0;return e.indexOf("OSRoot")<0?(e+="&pictype=scaled&size=1024*1024",t=G.mac?window.external&&window.external.previewPicture(e):_("Misc.OpenWebPic",'{"url":"'+e+'"}')):t=_("Misc.OpenImageViewer",'{"picName":"'+e.replace(/\\/gi,"\\\\")+'"}'),t}function k(e,t){window.external&&window.external.previewFile(e,t)}function T(){var e=i();if(e.map)for(var t in e.map){var n=e.map[t];if(n.id){var a=u(n.id);-1===a&&console.warn("移除完成任务失败！")}}}function C(e,t,n){return G.mac?window.alert(n):_("Window.Alert",'{ "iconType" : '+e+', "title" : "'+t+'", "text" : "'+n+'" }')}function S(e,t,n){if(G.mac){return{errorCode:0,ret:window.confirm(n)}}return _("Window.Confirm",'{ "iconType" : '+e+', "title" : "'+t+'", "text" : "'+n+'" }')}function $(){return window.external&&P.getUploadFiles?P.getUploadFiles():-1}function M(e,t,n){n||(n=1);return window.external&&P.uploadFiles?P.uploadFiles(e,t,n):-1}function R(e,t,n){var a=void 0;return n||(n=1),"onlineEditFile"in P&&(a=P.onlineEditFile(e,t,n)),a}function D(e){return remotetype||(remotetype=1),window.external&&P.setUploadFileRemotePath?P.setUploadFileRemotePath(e):-1}function L(e){return window.external&&P.addMultiDownloadTasks?P.addMultiDownloadTasks(e):-1}function E(){var e={};if(window.external&&P.getMapLocationPathToRemotePath){var t=P.getMapLocationPathToRemotePath();if("string"!=typeof t&&(t=""),""===t)e.map={},e.status="busy";else if("{}"===t)e.map={},e.status="ok",e.empty=!0;else{try{e.map=JSON.parse(t)}catch(e){console.error("客户端接口getTaskList返回的数据有问题?parse出错["+t+"]")}"object"===I(e.map)&&null!==e.map?e.status="ok":(e.map={},e.status="parseerror")}}else e={map:{},status:"ok",empty:!0};return e}function O(e){if(window.external&&window.external.openImageViewer){P.openImageViewer({picName:e});console.log("open image view",e)}}function N(e){window.external&&window.external.GF_LOG&&window.external.GF_LOG(function(){},e)}var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=window.external,j=null;e.exports={getVersion:v,getBatchFiles:$,batchUpload:M,setUploadFileRemotePath:D,getTaskListAdv:a,getCompleteTaskListAdv:i,addUploadTask:r,addDownloadTask:l,addDownloadFast:s,addContinueUploadTask:c,removeTask:f,removeCompleteTask:u,pauseTask:m,resumeTask:h,getTaskInfo:o,forwardFile:d,forwardFileToDataLine:p,callHummerApi:_,getNickName:y,isOnline:w,getClientKey:x,preview:F,previewFile:k,clearClist:T,alert:C,confirm:S,openGroupInfoCard:g,openGroupFile:b,addMultiDownloadTasks:L,onlineEditFile:R,getMapLocationPathToRemotePath:E,openImageViewer:O,printLog:N}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){var e=G.getDomPanel();e.find(".list-item").length||e.addClass("files-empty")}function o(e){if("/"===G.nowFolder){var t=A({list:[e]});if(0===O.find(".icons-empty").length){var n=$("#onlineDocsFolder");0===n.length?O.prepend(t):n.after(t)}else O.html(t)}}function r(e){if(e)if(e.domid){var t=e.domid;$("#"+t).remove()}else if(e.id){var n=e.id;$("[data-path="+n+"]").remove()}setTimeout(i,500)}function l(e){var t=G.getDomPanel();if(t.removeClass("files-empty"),3!==G.module()&&2!==G.module()||(t=$("#fileListDom")),"/"!==e.folderpath&&"fileListDom"===t.attr("id"))return console.debug("----------------------",L.getData(e.folderpath),e.folderpath),void m({});console.debug("appendFile:",e);var n=t.find(".fold").last(),a=A({list:[e]});console.debug("file : ",e),G.info.version<G.folderVersion?"/"===e.parentId&&"/"===G.nowFolder&&(n.length?n.after(a):t.prepend(a)):n.length?n.after(a):"/"!==G.folder&&0===t.find(".icons-empty").length?t.prepend(a):t.html(a),P.renderSpace()}function s(e){if("/"===e.parentId){var t="#fileListDom",n=$(t),a=A({list:[e]});$("#"+e.domid).remove(),n.find(".fold").length>0?n.find(".fold").last().after(a):n.prepend(a)}}function d(e){if(console.debug("remove:",e),e){var t=e.domid;$("#"+t).remove(),$("#search"+t).remove(),E.removeEase($("#"+t))}}function p(e){2===e.orcType?r(e):d(e),0===G.getDomPanel().find(".list-item").length&&i()}function c(e,t){M.setAllSpace(function(t){f(),Q(t.all_upload),e&&e(t)},t)}function f(){if("/"===G.nowFolder){N.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件"),G.file.capacitytotal?$("#ariaSpace").attr("aril-label","已用容量"+G.file.capacityused+"共"+G.file.capacitytotal):$("#ariaSpace").attr("aril-label","已用容量未知G,共未知G");var e=parseInt(G.file.cu/G.file.ct*100);I.css("width",e+"%"),$("#fileNum").removeClass("hide")}}function u(e){var t=e||{},n=t.container||"#folderOrSearchResult",a=t.succ,i=t.searchParams||{},o=JSON.stringify(i);void 0==G.searchFuncSingtons[o]&&(G.searchFuncSingtons[o]=D.search(i)),G.searchFuncSingtons[o](function(e){void 0==G.renderListFuncSingtons[folderId]&&(G.renderListFuncSingtons[folderId]=renderList(n)),G.renderListFuncSingtons[folderId](e),a&&a(e)},function(){})}function m(e){var t=void 0;if(e&&(t=e.folderId||e.ukey||e.skey),t)if(S.default["menu.closeBatch"](),"/"!==G.nowFolder?$("body").addClass("folder-module"):$("body").removeClass("folder-module"),G.filesClass[t]){var n=G.filesClass[t];e.uin?e.uin===n.filterUin?n.setshow():n.changeStatus(e):e.skey?n.changeStatus(e):e.sort_by?n.changeStatus(e):n.setshow()}else{e.skey?G.filesClass[t]=new T.default(e):G.filesClass[t]=new F.default(e);var a=G.filesClass[t];a.getData(!0),"/"===t&&J(),G.continueUploadMap.init&&a.appendContinueUpload&&a.appendContinueUpload()}}function h(e){m({folderId:"/",noShow:e}),G.file&&G.file.ct||c()}function _(e){var t=function(t){if(0!==t.length){var n=t.find(".file-aria-btn");n.length>0&&("downloadcomplete"===e.status?n.attr("aria-label","打开文件"+e.name+e.suf).attr("data-action","file.openFolder"):"downloadprogress"===e.status?n.attr("aria-label","文件"+e.name+e.suf+"下载中").removeAttr("data-action"):"downloadready"===e.status&&n.attr("aria-label","准备下载文件"+e.name+e.suf).removeAttr("data-action")),""!==e.filepath&&(t.attr("data-path",e.filepath),t.attr("id",e.domid)),e.id&&t.attr("data-id",e.taskId),t.find(".file-status-action").attr("class","file-status-action "+e.styles);var a="上传";"upload"!=e.type&&(a="下载"),"图片"===e.filetype&&t.attr("data-dbaction","file.preview");var i=function(){if(e.failedFileList&&e.failedFileList.length>0){for(var t=[],n=0,a=e.failedFileList.length;n<a;n++)t.push("<p>"+e.failedFileList[n].filename+"</p>");return'<div class="error-message">有'+e.failedFileList.length+"个文件下载失败<br /> "+t.join("")+"</div>"}return'<div class="error-message">'+e.wording+"</div>"};if("remove"===e.status&&"upload"===e.type)t.remove();else if(!1===e.succ&&!1===e.isDowning)t.removeClass("succ").find(".item-action button").attr("class","v3-down").attr("data-action","file.downloadByBtn").attr("aria-label","下载文件"+e.fname);else if(t.find(".file-status").length>0)"uploadcomplete"===e.status||"downloadcomplete"===e.status?(t.addClass("succ"),1===e.orcType?(t.find(".file-status").hide(),t.find(".item-time .drag-dom").show(),t.find(".item-size").attr("title",e.sizeStr),t.find(".item-size span").text(e.sizeStr),t.find(".item-action button").attr("class","v3-open").attr("title","在文件夹中打开").attr("data-action","file.openFolder").attr("aria-label","在文件夹中打开")):2===e.orcType&&(console.debug("文件夹下载完成!"),t.find(".width").css("width","100%"),e.failedFileList&&e.failedFileList.length>0?(console.debug("文件夹下载失败!!!"),t.find(".file-task-txt").html('下载失败 <span class="show-error" data-action="error:show">详情</span>'+i())):(t.find(".file-status").hide(),t.find(".item-time .drag-dom").show()))):(t.find(".file-status").attr("class","file-download file-status "+e.styles),t.find(".width").css("width",e.cPercent+"%"),e.styles&&e.styles.indexOf("err")>0?t.find(".file-task-txt").html(a+'失败 <span class="show-error" data-action="error:show">详情</span>'+i()):t.find(".file-task-txt").html(""+e.wording),e.cPercent>=100||"remove"===e.status?(t.find(".item-time .drag-dom").show(),t.find(".item-time .file-status").hide()):(t.find(".item-time .drag-dom").hide(),t.find(".item-time .file-status").show()));else{var o=R(e);t.find(".item-time .drag-dom").hide(),t.find(".item-time").append(o)}}},n=e.domid,a=$("#"+n);if(0===a.length&&(n="task"+e.taskId,a=$("#"+n)),t(a),1===e.orcType){t($("#search"+n))}}function v(e,t){console.debug("updateRow:",e);var n=void 0;if(1===e.orcType){if(!(n=$('.list-item[data-path="'+e.filepath+'"]')))return;"rename"===t&&(n.find(".item-name-wrap").attr("title",""+e.nameEsc+e.suf+"\n创建时间："+e.ctoStr),n.find(".item-name .name").text(e.nameEsc+e.suf)),e.mtoStr&&n.find(".item-time").attr("title","更新时间："+e.mtoStr),n.find(".item-time span").text(e.mtStr),n.find(".item-download-times").text(e.down+"次")}else{if(!(n=$("#"+e.domid)))return;if(e.toFirst)return n.remove(),void o(e);n=$("#"+e.domid),e.filenum&&n.find(".file-size").text(e.filenum+"个文件").attr("title",e.filenum+"个文件"),n.find(".item-name").attr("title",e.fnameEsc+"\n文件个数："+e.filenum+"\n创建时间："+e.ctoStr+"\n创建人："+e.nick),e.mtoStr&&n.find(".item-time").attr("title","更新时间："+e.mtoStr),n.find(".item-time span").text(e.mtStr)}if("uploadcomplete"===e.status||"downloadcomplete"===e.status){n.addClass("succ");G.mac&&"",n.find(".file-status").attr("tabindex","3").attr("aria-label","打开文件"+e.nameEsc+e.suf).attr("data-actioin","file.openFolder")}else if(e.isDown||e.isDowning)e.isDowning&&n.find(".file-status").attr("tabindex","3").attr("aria-label","文件"+e.nameEsc+e.suf+"下载中").removeAttr("data-actioin");else{if(1===e.orcType){G.mac&&"",n.find(".file-status").attr("tabindex","3").attr("aria-label","下载文件"+e.nameEsc+e.suf).attr("data-action","file.download")}n.find(".item-time .drag-dom").show(),n.find(".item-time .file-download").hide(),n.removeClass("succ")}}function w(e,t){var n=e.domid;n||(n=L.getId(e.oldfilepath));var a=$("#"+n),i=void 0;a.find(".item-time .drag-dom").hide(),i='<div class="file-status">正在更新中</div>',a.find(".item-time").append(i),a.find(".file-icons").addClass("editing")}function g(e){var t=L.getData(e.oldfilepath),n=$("#"+t.domid);n&&(n.attr("id",e.domid),n.attr("data-path",e.filepath),n.find(".item-time .drag-dom").attr("title","更新时间："+e.mtoStr).show(),n.find(".item-time .drag-dom span").text(e.mtStr),n.find(".file-icons").removeClass("editing"),n.find(".item-time .file-status").hide(),e.preview||n.attr("data-dbaction","file.downloadByDom")),delete G.editFileList[t.filepath],L.remove(e.oldfilepath)}function b(e){H||($("body").append('<div class="loader" id="loaderDom"><div class="loading"></div></div>'),H=$("#loaderDom")),e?H.removeClass("open"):H.addClass("open")}function y(e){if(e&&("downloadgeturl"===e.status||"downloadprogress"===e.status||"downloadcomplete"===e.status)){var t=L.getData(e.filepath);if(t){if("downloadcomplete"===e.status)return t.hasCountDownloadTime=!1;if(!t.hasCountDownloadTime&&("downloadgeturl"===e.status||"downloadprogress"===e.status)){if(G.pList.some(function(e){return e.filepath===t.filepath}))return;t.hasCountDownloadTime=!0,t.down++,console.debug("download file is:",t.fname," path:",t.filepath);var n=$('.list-item[data-path="'+t.filepath+'"]');2===t.orcType||isNaN(t.down)||(n.find(".item-download-times").attr("title","下载次数："+t.down+"次"),n.find(".item-download-times").text(t.down+"次"))}}}}var x=n(181),F=a(x),k=n(182),T=a(k),C=n(22),S=a(C),M=n(73),R=n(103),D=(n(100),n(176)),L=n(0),E=(n(21),n(7)),O=(n(14),n(31),$("#fileListDom")),N=($("#fileNumText"),$("#groupSize")),I=$("#groupSizeBar"),P=n(180),j=$(G.handler),A=(location.href,void 0);A=n(38);var H=void 0;G.renderListFuncSingtons={},G.getListFuncSingtons={},G.searchFuncSingtons={},j.bind("file.thumbUpdate",function(e,t){var n=$("#"+t.domid);if(n.length&&t.previewObj&&t.previewObj.url){var a=t.previewObj.url+"&pictype=scaled&size=50*50";G.checkHttps&&G.checkHttps()&&(a=a.replace("http://",""),a="https://proxy.qun.qq.com/tx_tls_gate="+a);var i=new Image;i.onload=function(){n.find(".filev3-pic").css("background-image",'url("'+a+'")').addClass("thumb")},i.onerror=function(){console.log("缩略图加载失败!",a)},i.src=a,report("imgurl")}}),j.bind("file.dataUpdate",function(e,t){var n=$("#"+t.domid);1===t.remoteType&&(n.removeClass("temp"),n.find(".item-tags").hide(),n.find(".tmp").remove()),t.newFilePath&&n.attr("data-path",t.newFilePath),n.find(".file-info .name").text(t.fnameEsc)});var U=function(){var e=G.module(),t=function(e){return'<section class="file-list" id="'+e+'"></section>'},n=function(){var e=L.getData(G.nowFolder),n=e.domid;if(!e&&G.nowFolder&&(n=G.nowFolder.replace(/\//g,"-")),"-"===n&&(n=!1),n){var a=$("#list"+n);return a.length>0?a:(O.after(t("list"+n)),a=$("#list"+n))}return $("#fileListDom")},a=function(){var e=$("#searchResult");return e.length>0?e:(O.after(t("searchResult")),e=$("#searchResult"))},i=function(){var e=$("#userFileDom");return e.length>0?e:(O.after(t("userFileDom")),e=$("#userFileDom"))};switch($(".file-list").hide(),e){case 0:return 0===e&&O.show(),O;case 1:return n().show();case 3:return a().show();case 2:return i().show()}},B=function(){var e=G.module(),t=function(e){return'<section class="file-list" id="'+e+'"></section>'},n=function(){var e=L.getData(G.nowFolder),n=e.domid;if(!e&&G.nowFolder&&(n=G.nowFolder.replace(/\//g,"-")),"-"===n&&(n=!1),n){var a=$("#list"+n);return a.length>0?a:(O.after(t("list"+n)),a=$("#list"+n))}return $("#fileListDom")},a=function(){var e=$("#searchResult");return e.length>0?e:(O.after(t("searchResult")),e=$("#searchResult"))},i=function(){var e=$("#userFileDom");return e.length>0?e:(O.after(t("userFileDom")),e=$("#userFileDom"))};switch(e){case 0:return O;case 1:return n();case 3:return a();case 2:return i()}};G.onlyGetDom=B,G.getDomPanel=U;var z=0,q=0,Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;z++,-1!==e&&(q=e),z<2||(G.info.isAdmin||q?G.info.canCreateFolder=!0:(G.info.canCreateFolder=!1,$("#createFolder").hide()))},J=function(){var e={filterUin:G.info.uin,filterCode:4};M.getList(e)(function(e){console.debug(e);for(var t in e.clist){var n=e.clist[t];0!==n.lp.indexOf("/")&&(G.continueUploadMap[n.parentId]||(G.continueUploadMap[n.parentId]={}),G.continueUploadMap[n.parentId][n.filepath]=n)}G.continueUploadMap.init=!0;for(var a in G.filesClass)G.filesClass[a]&&G.filesClass[a].appendContinueUpload()},function(e){for(var t in G.filesClass)G.filesClass[t]&&G.filesClass[t].appendContinueUpload()})},V=function(){var e={};M.getList(e)()};e.exports={init:h,appendFold:o,removeFold:r,appendFile:l,appendFileToFolder:s,updateRow:v,search:u,renderSpace:f,removeRow:p,getList:m,getRoot:V,showLoad:b,updateDownloadRow:_,updateEditFileRow:g,fileInEditRow:w,getDomPanel:U,updateDownloadTimes:y,folderFileList:F.default}},,function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){function e(e){var t,n=function(e){if(!e)return e;for(;e!=unescape(e);)e=unescape(e);for(var t=["<",">","'",'"',"%3c","%3e","%27","%22","%253c","%253e","%2527","%2522"],n=["&#x3c;","&#x3e;","&#x27;","&#x22;","%26%23x3c%3B","%26%23x3e%3B","%26%23x27%3B","%26%23x22%3B","%2526%2523x3c%253B","%2526%2523x3e%253B","%2526%2523x27%253B","%2526%2523x22%253B"],a=0;a<t.length;a++)e=e.replace(new RegExp(t[a],"gi"),n[a]);return e};return n((t=document.cookie.match(RegExp("(^|;\\s*)"+e+"=([^;]*)(;|$)")))?unescape(t[2]):null)}function t(e,t){for(var n=0,a=0;a<e.length;a++){var i=e.charAt(a);if(encodeURI(i).length>2?n+=1:n+=.5,n>=t){var o=n==t?a+1:a;return e.substr(0,o)}}return e}function n(e){e&&e.length>0&&(e.addClass("remove-ease"),setTimeout(function(){e.remove()},300))}function i(){for(var e={},t=Object.keys(G.folderMap()),n=t.length-1;n>=0;n--){var a=G.folderMap()[t[n]];a&&(e[a.fnameEsc]=a)}for(var i="新建文件夹",o=1;void 0!==e[i];)i="新建文件夹("+o+")",o++;return i}function o(e,t){var n=t.map(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}),a="("+n.join("|")+")";return e.split(new RegExp(a,"i"))}function r(e,t){for(var n=t.length-1;n>=0;n--)t[n]=(""+t[n]).toUpperCase();for(var a=[],i=e.length-1;i>=0;i--)-1!==t.indexOf(e[i].toUpperCase())?a[i]='<span class="match-word">'+e[i]+"</span>":a[i]=e[i];return a.join("")}function l(e,t){return r(o(e,t),t)}var s=function(){var t=e("uin");return t?(t+="",t.replace(/^[\D0]+/g,"")):0},d=function(e,t){t=t||location.href;var n=new RegExp("(\\?|#|&)"+e+"=([^&^#]*)(&|#|$)"),a=t.match(n);return decodeURIComponent(a?a[2]:"")},p=function(e){return e+="",e.replace(/^[ 　]*/gi,"")},c=function(e,t){var n=t||3;e+="",e=p(e);var a=e.match(/[^\x00-\xff]/g)||[],i=e.replace(/[^\x00-\xff]/g,"");return parseInt(a.length*n+i.length)},f=function(e,t,n){var a=c(e,3);return!(a<t||a>n)},u=function(e,t){var t=t||10,n=c(e),a=t-n;return a>=0?a:0},m=function(e,t){};window.onerror=function(e,t,n){};var h=function(e,t){return function(n){var a=arguments.length;if(t&&(n=Object(n)),a<2||null==n)return n;for(var i=1;i<a;i++)for(var o=arguments[i],r=e(o),l=r.length,s=0;s<l;s++){var d=r[s];t&&void 0!==n[d]||(n[d]=o[d])}return n}},_=function(e){var t=void 0===e?"undefined":a(e);return"function"===t||"object"===t&&!!e},v=function(e){if(!_(e))return[];var t=[];for(var n in e)t.push(n);return t},w=h(v);return{getCookie:e,getUin:s,getParameter:d,getLen:c,changeLen:u,checkLength:f,checkLen:m,extend:w,removeEase:n,subString:t,quickSortByObjectAttr:function e(t,n){if(t.length<=1)return t;for(var a=Math.floor(t.length/2),i=t.splice(a,1)[0],o=[],r=[],l=0;l<t.length;l++)t[l]&&(t[l][n]>i[n]?o.push(t[l]):r.push(t[l]));return e(o,n).concat([i],e(r,n))},getFolderNameDefault:i,heightLight:l}}()},,,function(e,t,n){"use strict";function a(e,t){c.trigger("menu.hide");var n=void 0;"object"===(void 0===t?"undefined":s(t))&&(e.find(".panel-title span").text(t.title),e.find(".rename-hint").text(t.tips),e.find(".btn-ok").attr("data-action",t.action),n=e.find(".new-name"),t.showValue&&n.val(t.showValue)),e.find(".error-message").removeClass("show"),e.addClass("open").focus(),t&&t.showValue&&(n[0].inputStart=!0,n[0].placeholder=t.tips,n[0].focus(),n[0].select(),setTimeout(function(){n[0].inputStart=!1},200))}function i(e){e.removeClass("open")}function o(e){c.trigger("menu.hide");var t=$("#containerFolderTreePanel");t.html(d.folderTreePanel(e)),p.render(t.find(".folder-tree-box")),t.find("#folderTreePanel").addClass("open")}function r(e,t){c.trigger("menu.hide"),e.addClass("open").focus(),t&&(t.hideAll?e.find(".panel-footer").addClass("hide"):e.find(".panel-footer").removeClass("hide"),t.hideOk?e.find(".btn-ok").addClass("hide"):e.find(".btn-ok").removeClass("hide"),t.closeText?e.find(".btn-no").text("确定").val("确定"):e.find(".btn-no").text("取消").val("取消"),t.okBtnText&&e.find(".btn-ok").text(t.okBtnText).val(t.okBtnText),2===t.module?e.find(".icons-new-alert").addClass("icons-fail-alert"):e.find("icons-new-alert").removeClass("icons-fail-alert"),e.find(".panel-title span").text(t.title),e.find(".panel-content").html(t.text),e.find(".btn-ok").attr("data-action",t.action))}function l(){$(".panel-overlay").removeClass("open"),console.log("hide all!")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d={folderTreePanel:n(108)},p=n(23),c=$(G.handler);c.bind("panel.hideAll",l),e.exports={show:a,hide:i,hideAll:l,showFolderTreePanel:o,showBatchPanel:r}},,function(e,t,n){"use strict";function a(){return u||(u="lp"+G.info.gc+"-"+G.info.uin),h||(h="tips"+G.info.gc+"-"+G.info.uin),m||(m="clist"+G.info.gc+"-"+G.info.uin),u}function i(e){try{v.setItem(h,e)}catch(t){v.clear(),v.setItem(h,e)}}function o(){return v.getItem(h)}function r(e){w[e.filepath]=e.localpath,_.push(e);try{v.setItem(u,JSON.stringify(w)),v.setItem(m,JSON.stringify(_))}catch(e){v.clear(),v.setItem(u,JSON.stringify(w)),v.setItem(m,JSON.stringify(_))}}function l(e){1===e.orcType?delete w[e.filepath]:delete w[e.id];try{v.setItem(u,JSON.stringify(w))}catch(e){v.clear(),v.setItem(u,JSON.stringify(w))}}function s(e){return w[e]||!1}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";"push"===t?_.push(e):"delete"===t&&(_=_.filter(function(t){return e.localpath!==t.localpath}));try{v.setItem(m,JSON.stringify(_))}catch(e){v.clear(),v.setItem(m,JSON.stringify(_))}}function p(){var e=v.getItem(m);if(null===e)return[];try{return JSON.parse(e)}catch(e){return[]}}function c(){v.removeItem(m)}function f(){u=a(),_=p();var e=v.getItem(u);e&&(w=JSON.parse(e))}var u=void 0,m=void 0,h=void 0,_=[],v=window.localStorage,w={};e.exports={set:r,remove:l,check:s,init:f,setTips:i,getTips:o,clearClist:c,getClist:p,setClist:d}},,function(e,t,n){"use strict";function a(e,t){var n=void 0;return n=t?w.find('[data-path="'+e+'"]').filter('[data-name="'+t+'"]'):w.find('[data-path="'+e+'"]'),n.length>0&&!n.hasClass("complete")&&n}function i(e){var t=w.find('[data-id="'+e+'"]');return t.length>0&&!t.hasClass("complete")&&t}function o(e){return 1===e.type||"upload"===e.type?i(e.taskId):2===e.orcType?i(e.taskId):a(e.filepath,e.filename)}function r(e){return}function l(e){var t=o(e);if(F=!0,!(t.length>0)){var n=_({list:[e]});b=!0,y++,p(),w.prepend(n),w.removeClass("empty")}}function s(e){}function d(e,t){}function p(){}function c(){F=!1}function f(e,t){var n=_(t);b?w.append(n):w.html(n)}function u(){if(x){x=!1;var e=[],t=G.pList,n=G.compList,a=k(t);e.length;e=a,n&&(e=a.concat(n)),e=k(e),f(null,{list:e}),e.length>0&&w.removeClass("empty"),n.length>0&&$("#boxTitle").attr("class","box-title tri")}}function m(){if(v.removeEase(w.find(".complete")),G.mac)for(var e=w.find(".err"),t=e.length,n=0;n<t;n++){var a=e.eq(n),i=a.data("id");g.trigger("task.removeOne",i),v.removeEase(a)}setTimeout(function(){0===w.find(".file2").length&&w.addClass("empty")},500),$("#boxTitle").attr("class","box-title empty")}function h(e){w.find('[data-path="'+e.filepath+'"]').find(".go-folder").addClass("disable")}var _=n(110),v=(n(101),n(7)),w=($("#boxNum"),$("#boxListDom")),g=$(G.handler),b=!1,y=0,x=!0,F=!1,k=function(e){for(var t=[],n=[],a=0,i=e.length;a<i;a++)$.inArray(e[a].id,t)<0&&$.inArray(e[a].filepath,t)<0&&(e[a].id&&t.push(e[a].id),e[a].filepath&&t.push(e[a].filepath),n.push(e[a]));return n};e.exports={updateBoxRow:r,addBoxRow:l,removeBoxRow:s,cleanBox:d,render:f,firstRender:u,updateBoxNum:p,clearComplete:m,removePoint:c,removeOpenFolder:h}},,function(e,t,n){"use strict";function a(e){return Math.ceil(e/86400)}function i(e){return e=w(e),e.getFullYear()==G.getFullYear()&&(e.getMonth()==G.getMonth()&&e.getDate()==G.getDate())}function o(e){e=w(e);var t=i(e),n=!1;if(!t){var a=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=a>0&&a<864e5}return n}function r(e){e=w(e);var t=i(e),n=!1;if(!t){var a=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=a>0&&a<1728e5}return n}function l(e){e=w(e);var t=i(e),n=!1;if(!t){var a=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=a>=0&&a<=864e5}return n?"昨天":"前天"}function s(e){e=w(e);var t=i(e),n=!1;if(!t){var a=new Date(G.getFullYear(),G.getMonth(),G.getDate())-e;n=a>0&&a<1728e5}return n}function d(e){return(e=w(e))>u(G)}function p(e){return e=w(e),e.getYear()==G.getYear()}function c(e){e||(e=G.getFullYear());var t=new Date(e,0,1),n=t.getDay();0===n&&(n=7);var a=[null,"一","二","三","四","五","六","日"];a[n];return 1!=n&&t.setDate(9-n),t}function f(e){var t=new Date(e),n=c(t.getFullYear()),a=0;return n.getDate()>1&&(a=1),t<n?1:Math.floor((t-n)/7/864e5)+a}function u(e){var t=w(e),n=t.getDay();0===n&&(n=7);var a=n-1;return new Date(t.getTime()-864e5*a)}function m(e){var t=w(e),n=t.getDay();return 0===n&&(n=7),n}function h(){}function _(e){if(e){var t=w(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),o=t.getHours(),r=t.getMinutes();return a<10&&(a="0"+a),i<10&&(i="0"+i),r<10&&(r="0"+r),n+"-"+a+"-"+i+" "+o+":"+r}}function v(e){var t=w(e),n=new Date,a=n.getTime()-t.getTime(),i=parseInt(a/36e5,10);return i<1?i="刚刚":i+="小时前",i}function w(e){var t=e;return"string"==typeof e&&(t=new Date(e)),"number"==typeof e&&(t=new Date(1e3*e)),t}function g(e){if(e){var t=60,n=3600,a=86400;return e>=a?Math.ceil(e/a)+"天":e>=n?Math.ceil(e/n)+"小时":e>=t?Math.ceil(e/t)+"分钟":e>0?e+"秒":"已过期"}}function b(e){var t=void 0;return"number"==typeof e?t=new Date(1e3*e):e instanceof Date&&(t=e),i(t)?v(t):r(t)?l(t):_(t)}function y(e){var t=e.createtime;e.day_str=b(t),e.createtime_str=_(t),"今天"===e.day_str&&(e.createtime_str=v(t)),"最近三天"===e.day_str&&(e.createtime_str=l(t))}var G=new Date;G.getFullYear();e.exports={dayStr:b,genTimeStr:y,getValidity:g,toDate:w,getHourStr:v,getExpriesDayNum:a,isToday:i,isYesterday:o,strYesterdayOrPre:l,isLast3days:s,isThisWeek:d,isThisYear:p,getMonOY:c,getWOY:f,getMOW:u,getDayOfWeek:m,getDayOfYear:h,getDateStr:b,getorcDateStr:_}},function(e,t,n){"use strict";function a(e){try{if(!e)return;G.cMap||(G.cMap={}),e.taskId=e.id,e.taskId&&(G.cMap[e.taskId]=e),e.filepath&&(G.cMap[e.filepath]=e);var t=d.getType(e.type);d.check(t,e.status);var n="",a=d.getClass(t,e.status);if(a.indexOf("err")>=0&&(n=d.getWord(t,e.status)),"scan"===a)e.cPercent&&(n+=e.cPercent+"%"),e.cPercent=0,a="pre";else if("pre"===a)e.cPercent=0;else if("pause"===a||"continue"===a)e.csizeStr&&(n+=e.csizeStr),e.sizeStr&&(n+="/"+e.sizeStr);else if("err"===a)e.cPercent=0,e.status.indexOf("securityfail")>=0?(n=getErrorWording(e),e.securityattri>=1&&e.securityattri):-1e3==e.errorcode&&(n="该文件已被删除");else if("progress"===a){e.speedStr&&(n+=e.speedStr);if(e.speed){var i=Math.ceil((e.filesize-e.completesize)/e.speed),o=Math.floor(i/3600),r=Math.floor(i%3600/60);i=Math.floor(i%60),o<10&&(o="0"+o),r<10&&(r="0"+r),i<10&&(i="0"+i),"<span class='lefttime'>"+o+":"+r+":"+i+"</span>"}}else"complete"===a?(e.cPercent=100,n+=e.sizeStr):e.c_percent=0;""===n&&(n="&nbsp;");var l=parseInt((new Date).getTime()/1e3,10);"download"!==t&&(e.ctStr=p.dayStr(l)),void 0!==e.errorcode&&0!==e.errorcode&&(n=(e.type,e.clientwording)),"number"==typeof e.remoteresult&&0!==e.remoteresult&&(a="err"),e.wording=n,e.styleType=t,"continueupload"===t&&(e.styleType="upload"),e.styleStatus=a,e.failedFileList&&e.failedFileList.length>0?e.styles=e.styleType+" "+e.styleStatus+" err":e.styles=e.styleType+" "+e.styleStatus}catch(t){console.warn("parse",t,e)}}function i(e){e.taskId=e.id,1===e.downloadtasktype?(e.filepath=e.folderpath,e.orcType=2,e.icon="folder",G.mac?e.name=e.filename:e.name=s.getFolderName(e.localpath),e.filename=e.name,e.filelist=[],e.status||(e.status="downloadprogress"),e.filepath?e.domid=""+e.filepath.replace(/\//gi,"-"):e.domid="task"+e.id,e.filesize=e.foldersize):(e.orcType=1,e.filepath?e.domid=""+e.filepath.replace(/\//gi,"-"):e.domid="task"+e.id),"upload"===e.type&&(e.down=0,e.mtStr="刚刚",e.nick=G.info.nickName),e.speedStr="",e.wording="",e.csizeStr="",e.updateFlag=!0;var t=e.filename,n=e.filesize;e.createtime;e.speedStr=s.getSize(e.speed),0===e.speedStr?e.speedStr="":e.speedStr+="/S",void 0===e.size&&(e.size=e.completesize),e.sizeStr=s.getSize(n),e.csizeStr=s.getSize(e.completesize);var i=0;e.completesize>0&&e.filesize>0&&(i=Math.round(100*e.completesize/e.filesize)),e.cPercent=i;var o=t.lastIndexOf(".");return o>=0?(e.name=t.substr(0,o),e.suf=t.substr(o)):(e.name=t,e.suf=""),e.icon||(e.icon=s.getIcon(e.suf)),a(e),e}function o(e){var t=[];for(var n in e){var a=e[n];if(a=i(a),2!==a.downloadtasktype)t.push(a);else{var o=l(a.fordertaskid);o&&(o.fileTaskList||(o.fileTaskList=[]),o.fileTaskList.push(a.id))}}return t}function r(e){var t=[];for(var n in G.cMap){var a=G.cMap[n];a.foldertaskid!==e&&a.folderpath!==e||t.push(a)}return t}function l(e){return G.cMap[e]||!1}var s=n(19),d=n(130),p=(n(40),n(16));e.exports={get:i,getFolderTask:r,getOneTask:l,parse:a,cleanMap:o}},,function(e,t,n){"use strict";function a(e){var t={fLen:3};if("number"!=typeof e)return"";for(var n,a=e,i=["B","KB","MB","GB","TB","PB"];a>1024;)a/=1024,i.shift();a>=1e3&&(a/=1024,i.shift());var o=2,r=100;if(t&&t.len&&(o=t.len),o<0&&(o=0),r=Math.pow(10,o),a=Math.floor(a*r)/r,t&&t.fLen){var l=a.toString().indexOf(".");if(a.toString().length<=t.fLen){var s=parseInt(a,10).toString().length;a=a.toFixed(t.fLen-s)}else t.fLen<a.toString().length&&(a=a.toString(),a=l>0&&l<3?a.substr(0,4):a.substr(0,3))}return n=a.toString().replace(/\.0+$/,""),n+=i[0],0===a&&(n=0),n}function i(e){var t="unknow",n={excel:/xls|xlsx/i,pdf:/pdf/i,ppt:/ppt|pptx/i,word:/doc|docx|wps/i,text:/txt/i,pic:/jpg|jpeg|jpgx|gif|bmp|png|ico|webp|raw|tiff/i,music:/mp3|wma|midi|aac|ape|flac|wav|mid|ogg|aac/i,video:/mp4|rm|rmvb|mpeg|mov|avi|3gp|amv|dmv|flv|wmv|qsed|asf|mkv/i,zip:/rar|zip|tar|cab|uue|jar|iso|7z|ace|lzh|arj|gzip|bz2/i,code:/ink|torrent|url|vbs|tif|w3g|vbe|ssf|dll|mht|rcd|bat|sav|dat|cmd|ttf|xml|vob|sgs|mhw|js|html|htm|css/i,exe:/exe|msi/i,ipa:/ipa/i,dmg:/dmg/i,apk:/apk/i};for(var a in n){if(n[a].test(e)){t=a;break}}return t}function o(e){var t="其他",n={"文档":/doc|docx|ppt|pptx|xsl|xslx|xls|xlsx|pdf|txt|wps/i,"图片":/jpg|jpeg|jpgx|gif|bmp|png/i,"音乐":/mp3|wma|midi|aac/i,"视频":/mp4|rm|rmvb|mpeg|mov|avi|3gp|amv|dmv|flv|wmv|qsed/i,"压缩包":/rar|zip|tar|cab|uue|jar|iso|7z|ace|lzh|arj|gzip|bz2/i,"应用":/dmg/i};for(var a in n){if(n[a].test(e)){t=a;break}}return t}function r(e,t){return!1}function l(e){var t=e.lastIndexOf("."),n={};return t>=0?(n.filename_name=e.substr(0,t),n.filename_suf=e.substr(t)):(n.filename_name=e,n.filename_suf=""),n}function s(e){var t=e.lastIndexOf("\\");return e.substr(t+1)}e.exports={getSize:a,getIcon:i,getType:o,canEdit:r,getFileName:l,getFolderName:s}},function(e,t,n){"use strict";function a(e){delete e.status,e.isDown=!1,e.isDowning=!1,e.succ=!1,f.updateDownloadRow(e),u.remove(e)}function i(e,t){m.trigger("menu.hide");var n=1===t?"文件":"`文件夹";if(window.external&&window.external.isFileExist){var i=window.external.isFileExist(e);if("false"==i||!1===i){c.alert(2,"提示","此"+n+"不存在，可能已被删除或被移动到其他位置");return a(p.getFile(e)),!1}}if(window.external&&window.external.openFile){var o=window.external.openFile(e);if("success"==o)return!0;if("file cannot open"!==o)return!1}if(window.external&&window.external.openFolder){if("success"!=window.external.openFolder(e))return c.alert(2,"提示","此"+n+"不存在，可能已被删除或被移动到其他位置"),!1}}function o(){var e=G.selectRow,t=e.localpath;m.trigger("menu.hide"),"string"==typeof t&&t.indexOf("OSRoot")<0&&(t="OSRoot:\\"+t),report("clkOpenFile",G.module());var n=G.getReportInfo(e);if(n.ver3=1,reportNew("folderRightMenuClick",n),window.external&&window.external.isFileExist){var i=window.external.isFileExist(t);if("false"==i||!1===i)return c.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),a(e),!1}if(window.external&&window.external.openFolder){if("success"!=window.external.openFolder(t))return c.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),!1}}function r(e){if(console.debug("------open file:",e),!e||void 0===e.isthumb||1!==e.isthumb){var t=!0;if(!e){var n=$(this).parents(".file"),i=n.data("path");e=p.getData(i),t=!1}var o=e.localpath;o&&0!=o.indexOf("OSRoot")&&(o="OSRoot:\\"+o),console.debug(o);var r=function(){if(window.external&&window.external.openFolder){if("success"!=window.external.openFolder(o))return c.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),a(e),!1}};if(m.trigger("menu.hide"),window.external&&window.external.isFileExist){var l=window.external.isFileExist(o);if("false"==l||!1===l)return c.alert(2,"提示","此文件不存在，可能已被删除或被移动到其他位置"),a(e),!1}if(t){var s=["excel","pdf","ppt","word","text","pic","video","music"];if($.inArray(e.icon,s)<0)return void r();if("string"==typeof o&&o.indexOf("OSRoot")<0&&(o="OSRoot:\\"+o),report("clkOpenFile",G.module()),window.external&&window.external.openFile){var d=window.external.openFile(o);if("success"==d)return!0;if("file cannot open"===d){var f=c.confirm(2,"提示","此文件无法识别并打开，是否在文件夹中查看该文件？");if(0!==f.errorCode||!f.ret)return!1}}}r()}}function l(){var e=this;for(m.trigger("menu.hide"),report("clkShowInFolder",G.module());!e.classList.contains("complete");)e=e.parentNode;var t=$(e),n=t.data("path"),a=p.getData(n);try{if(".js"==a.suf)return;var o=a._localpath||a.localpath||a.localname;o&&0!=o.indexOf("OSRoot:\\")&&(o="OSRoot:\\"+o);i(o,a.orcType)}catch(e){}}function s(){var e=this;for(m.trigger("menu.hide");!e.classList.contains("complete");)e=e.parentNode;var t=$(e),n=t.data("path"),i=p.getData(n);if($("#boxTitle a").focus(),i)try{if(".js"==i.suf)return;var o=i._localpath||i.localpath||i.localname;if(o){"string"==typeof o&&0!=o.indexOf("OSRoot:\\")&&(o="OSRoot:\\"+o);var r=!1;if(window.external&&window.external.openFolder){"success"==window.external.openFolder(o)?r=!0:c.alert(2,"提示","此文件夹不存在，可能被删除或被移动到其他位置")}0==r&&a(i)}else a(i)}catch(e){}}function d(){var e=G.selectRow;m.trigger("menu.hide");var t=G.getReportInfo(e);if(t.ver3=3,reportNew("fileRightMenuClick",t),e){report("clkShowInFolder",G.module());try{if(".js"==e.suf)return;var n=e.localpath;if(n){"string"==typeof n&&0!=n.indexOf("OSRoot:\\")&&(n="OSRoot:\\"+n);var i=!1;if(window.external&&window.external.openFolder){"success"==window.external.openFolder(n)?i=!0:c.alert(2,"提示","此文件夹不存在，可能被删除或被移动到其他位置")}0==i&&a(e)}else a(e)}catch(e){}}}var p=n(0),c=n(3),f=n(5),u=(n(14),n(12)),m=$(G.handler);e.exports={openByFolder:o,openByPath:r,openByBox:l,openByMenu:d,openFolderByBoxIco:s,changeOpenFolder2Download:a}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){_.text(e)}function o(e){for(var t=!1,n=!1,a=0,i=e.length;a<i;a++){var o=e[a],r=o.value;h.getData(r).admin&&(t=!0),n=!0}e.length>0?$("#batchSaveAs").removeClass("disabled"):$("#batchSaveAs").addClass("disabled"),t?($("#batchDel").removeClass("disabled"),$("#batchMove").removeClass("disabled")):($("#batchDel").addClass("disabled"),$("#batchMove").addClass("disabled")),n?$("#batchDown").removeClass("disabled"):$("#batchDown").addClass("disabled")}function r(){return!!$(".scroll-dom .selected").length}function l(){if(!G.mac&&!r()){var e=G.onlyGetDom()[0],t=e.querySelectorAll(".cbox:checked");report("showSelectAll"),report("showBatch"),$(".nav").removeClass("hide"),$("body").addClass("batch-mode"),$(".file.list-item").attr("data-action","file.select"),o(t),i(t.length)}}function s(){m.default["menu.closeBatch"]()}function d(){var e=G.getDomPanel()[0];report("clkSelectAll"),report("clkBatch"),G.getDomPanel().find(".cbox").prop("checked",!0),i(e.querySelectorAll(".cbox:checked").length)}function p(){var e=G.getDomPanel()[0],t=$(this).find(".cbox");t.prop("checked")?t.prop("checked",!1):t.prop("checked",!0),i(e.querySelectorAll(".cbox:checked").length)}function c(e){e?v.attr("class","icons-download-batch"):v.attr("class","icons-download-batch-disabled disabled")}function f(){i(G.getDomPanel()[0].querySelectorAll(".file").length)}var u=n(22),m=a(u),h=n(0),_=$("#selectFileNum"),v=$("#downloadFile button");e.exports={allSelectNum:f,check:l,exit:s,selectAll:d,select:p,changeDownLoadBtn:c}},function(e,t,n){"use strict";function a(){window.location.reload(),reportNew("blankRightMenuClick",{ver1:G.customMenuLength?1:2,ver2:G.info.isAdmin?1:2,ver3:3}),report("clkRefresh")}function i(){$("#moreMenu").addClass("show")}function o(){$("#moreMenu").removeClass("show")}function r(){3!==G.module()&&($(".batch-block").addClass("show"),$("body").addClass("batch-mode"),$("#alertTips").hide(),$("#selectFileNum").text(0),$(".list-item").removeClass("selected"),G.batchMode=!0,G.inBatchMode=!0,s(!1))}function l(){$("body").removeClass("batch-mode"),$(".batch-block").removeClass("show"),$("#batchSaveAs").addClass("disabled"),$("#batchDel").addClass("disabled"),$("#batchMove").addClass("disabled"),$("#batchDown").addClass("disabled"),$(".cbox").prop("checked",!1),G.batchMode=!1,G.inBatchMode=!1,s(!0)}function s(e){var t=document.body.clientHeight;e?($(".more-menu").attr("data-action","menu.showBatch").attr("aria-label","进入批量模式"),$(".scroll-dom").height(t-p)):($(".more-menu").attr("data-action","menu.closeBatch").attr("aria-label","退出批量模式"),$(".scroll-dom").height(t-p-c))}var d=$(G.handler),p=($("#fileNum"),$("#fileNumMenu"),$(".file-more"),$("#fileMoreMenu"),n(75),n(0),$("header").height()+$(".list-thead").height()),c=40;d.bind("menu.hide",o),e.exports={"menu.refresh":a,"menu.show":i,"menu.hide":o,"menu.showBatch":r,"menu.closeBatch":l}},function(e,t,n){"use strict";function a(e,t){G.folderTree=G.folderTree||{};var n="/"===G.nowFolder?{fname:"群文件",id:"/"}:G.folderMap()[G.nowFolder];G.folderTree&&G.folderTree.selected&&(G.folderTree.selected=n),G.folderTree.container=$(e);for(var a=[],o=Object.keys(G.folderMap()),l=o.length-1;l>=0;l--)a.push(G.folderMap()[o[l]]);a=s.quickSortByObjectAttr(a,"mt"),$(e).html(r.folderTree({topFolder:G.topFolder,items:a})),i(n.id)}function i(e){if(e=e||$(this).data("id")){G.folderTree||(G.folderTree={}),l.find(".active").removeClass("active").attr("aria-checked",!1);var t={};"/"===e?t=G.folderTree.selected=G.topFolder:"new"!==e?t=G.folderTree.selected=G.folderMap()[e]:(t={id:e},G.folderTree.selected=t),$('.folder-list-item[data-id="'+t.id+'"]').addClass("active").attr("aria-checked",!0),void 0!==t.fname&&l.find('[data-role="dest"]').html(t.fname),l.find("span.folder-name").eq(0).text(t.fname),l.find("input.btn-ok").focus()}}function o(){var e=G.folderTree.container.find(".secondary-folder-list li");e.length?e.first().before(r.newFloder()):G.folderTree.container.find(".secondary-folder-list").append(r.newFloder())}var r={folderTree:n(97),newFloder:n(98)},l=$("#containerFolderTreePanel"),s=n(7);e.exports={render:a,newFolder:o,select:i}},function(e,t,n){"use strict";var a=n(173),i=$(G.handler),o=function(e,t){a.getFileCount(function(n){if(G.file.isFull){$(".icons-upload-1").addClass("disabled"),$(".icons-new-folder-1").addClass("icons-new-folder-2"),r();try{"delete"===t?reportNew("changeHand"):"downloadcomplete"!==t&&reportNew("limitOver")}catch(e){}}else $(".icons-upload-1").removeClass("disabled"),$(".icons-new-folder-1").removeClass("icons-new-folder-2"),r();e&&location.reload()})},r=function(e){try{if(G.file.isTooMany){var t=void 0;try{t=G.info.isMaster?2:G.info.isAdmin?1:0,reportNew("showLimit",{ver1:t})}catch(e){}$("#alertTips").addClass("not-opacity"),void 0===G.info.isMaster?$("#alertTips").html('<div class="more-file-info" aria-label="文件数已超出上限(1500)，无法显示文件夹，请提醒群主或管理员清理。" tabindex="1"><i class="icons-alert"></i>文件数已超出上限(1500)，无法显示文件夹，请提醒群主或管理员清理。</div>'):G.info.isMaster?$("#alertTips").html('<div class="more-file-info" aria-label="文件数已超出上限(1500)，无法显示文件夹。" tabindex="1"><i class="icons-alert"></i>文件数已超出上限(1500)，无法显示文件夹。</div><div class="more-file-tips">请自行清理或<button class="auto-delete-file" data-blur="aria.fmg" data-action="file.autoClear" tabindex="1">自动删除旧文件</button></div>'):G.info.isAdmin&&$("#alertTips").html('<div class="more-file-info" aria-label="文件数已超出上限(1500)，无法显示文件夹，请尽快清理。" tabindex="1"><i class="icons-alert"></i>文件数已超出上限(1500)，无法显示文件夹，请尽快清理。</div>')}else $("#alertTips").html('<a href="http://kf.qq.com/faq/120511jiYzIJ140828eimiAR.html" target="_blank" data-action="tips.close">【网络正能量倡议书】腾讯呼吁网友共建绿色QQ群 抵制色情、反动等违法信息。</a><div class="close" data-action="tips.close"></div>').removeClass("not-opacity")}catch(e){}};i.bind("filecount.getrole",r),e.exports={init:o}},function(e,t,n){"use strict";function a(e,t){if(e=Math.abs(e),r[e]&&$.inArray(e,d)>=0)t.find(".error-message").text(r[e]).addClass("show").show();else{var n=r[e]||"操作失败";l.trigger("toast.show",{type:"alert",text:n}),s.hideAll()}}function i(e){l.trigger("toast.show",{type:"alert",text:e})}function o(e){l.trigger("toast.show",{type:"alert",text:e})}var r={102:"非群成员",103:"该文件不存在或已失效",106:"登录态校验失败",116:"没有权限",117:"没有权限",118:"没有权限",119:"没有权限",120:"没有权限",121:"没有权限",122:"没有权限",123:"没有权限",124:"没有权限",125:"没有权限",126:"没有权限",127:"没有权限",128:"没有权限",129:"没有权限",130:"没有权限",131:"没有权限",132:"文件存在安全风险",133:"文件安全性未知",134:"名称包含特殊/敏感字符，请重新输入。",313:"已存在同名文件夹，请重新命名",314:"创建文件夹失败",315:"删除文件夹失败",402:"文件数量已经超过限制",403:"可用空间不够",405:"创建失败，文件夹个数已达上限",25:"操作失败，空间不足.",317.1:"该文件夹不可删除",317.2:"无法修改名称"},l=$(G.handler),s=n(10),d=[134,313,405];e.exports={showError:a,showWait:i,showSuc:o}},,,,,function(e,t,n){"use strict";var a=n(10),i=function(){a.hideAll(),G.activeElement&&G.activeElement.focus()};e.exports={"panel.close":i}},function(e,t,n){"use strict";function a(e,t){var n=l(t);e.html(n)}function i(e){$("#searchDom").css("display","none"),e?($("#fileNum").addClass("hide").attr("data-action","menu.filenum"),$("#folderName").removeClass("hide"),$("#headerFolderName").text(e.fnameEsc),$("#createFolder").hide()):($("#fileNum").removeClass("hide").attr("data-action","menu.filenum"),$("#folderName").addClass("hide"),G.canCreateFolder&&$("#createFolder").show())}function o(){""===d.src&&(d.src="//docs.qq.com/scenario/group.html?gid="+G.info.gc+"&role="+G.info.role+"&_from=qpan");try{document.querySelector("#onlineDocsFolder .red-point").remove()}catch(e){}s.classList.add("show")}function r(){s.classList.remove("show")}var l=n(106),s=(n(105),document.querySelector("#onlineDoc")),d=document.querySelector("#onlineDocFrame");e.exports={render:a,updataFolderHeader:i,showDocs:o,hideDocs:r}},function(e,t,n){"use strict";function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(G.mac)"fail"===e&&p.alert(2,"提示",t);else{if(o)r.attr("class","icons-"+c[e]+" toast-icon"),l.text(t);else{var a={cls:c[e],text:t},d=s(a);$("body").append(d),o=$("#toastDom"),r=o.find(".toast-icon"),l=o.find(".toast-message")}o.addClass("open"),o.focus(),n&&setTimeout(function(){i()},2500)}}function i(){o&&o.removeClass("open")}var o,r,l,s=n(111),d=(n(7),$(G.handler)),p=n(3),c={fail:"fail",wait:"wait",suc:"suc",alert:"new-alert"};d.bind("toast.show",function(e,t){t&&t.type&&t.text&&a(t.type,t.text,t.autoHide)}),d.bind("toast.hide",function(e,t){i()}),e.exports={show:a,hide:i}},,,,,function(e,t){!function(){var t="ALLOY_REPORT_TEMP",n={},a=!1,i=function(e){var t;return window&&window.localStorage?(t=window.localStorage.getItem(e))&&JSON.parse(t)||void 0:n[e]},o=function(e,t){t?window&&window.localStorage?window.localStorage.setItem(e,JSON.stringify(t)):n[e]=t:window&&window.localStorage?window.localStorage.removeItem(e):delete n[e]},r=function(e,n){var a=[];try{a=i(t),(!a instanceof Array||!a)&&(a=[]),a.push({t:e,d:n}),o(t,a)}catch(e){console.error(e)}a.push({t:e,d:n})},l=["monitor","tdw","huatuo","retcode","tdbank","tdw.setDefaultTable","tdbank.setDefaultTable","tdw.setDefaultData","tdbank.setDefaultData","tdw.clearDefaultData","tdbank.clearDefaultData","performance","closeLog","openLog"],s={},d=function(){var e;!(e=i(t))instanceof Array&&(e=[]);for(var n=0;n<e.length;n++)try{var a=e[n].t.split(".");if(a.length>1){if(!s[a[0]])return;s[a[0]][a[1]].apply(this,e[n].d)}else s[a[0]].apply(this,e[n].d)}catch(e){console.error(e)}o(t),window.__reportWating=!1},p=function(e){if(e=e||0,("undefined"!=typeof window||"undefined"!=typeof document)&&!window.QReport.isMain&&e<4){var t="//s.url.cn/pub/js/alloyreport.js?_bid=2231";e&&e<3?t="//s"+e+".url.cn/pub/js/alloyreport.js":e&&(t="//qun.qq.com/pub/js/alloyreport.js");var n=document.createElement("script");n.setAttribute("src",t),n.onload=n.onreadystatechange=function(){if(!(a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))if(a=!0,window.QReport.isMain)try{window.QReport.reset=window.AlloyReportCore&&window.AlloyReportCore.reset||function(){},Object.assign(s,window.QReport),d()}catch(e){}else{switch(a=!1,e){case 0:window.QReport.monitor(2396704);break;case 1:window.QReport.monitor(2396705);break;case 2:window.QReport.monitor(2396706)}p(e+1)}},n.onerror=function(){switch(e){case 0:window.QReport.monitor(2396704);break;case 1:window.QReport.monitor(2396705);break;case 2:window.QReport.monitor(2396706)}p(e+1)},document.body.appendChild(n)}};"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(!e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});for(var c=0;c<l.length;c++){var f=l[c],u=f.split("."),m=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);r(e,t)}}(f);u.length>1?(s[u[0]]||(s[u[0]]={}),s[u[0]][u[1]]=m):s[u[0]]=m}"undefined"!=typeof window&&(window.QReport=s,window.AlloyReport=s,window.__reportWating=!0),void 0!==e&&e.exports&&(e.exports=s),"undefined"==typeof window&&"undefined"==typeof document||(window.QReport=s,window.AlloyReport=s,window.__reportWating=!0,p(0))}()},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){for(var i=0,l=locals.list.length;i<l;i++){var item=locals.list[i];2===item.orcType?(__append("\n\t"),item.isDoc&&(G.isTim||G.version>=5569)?(__append('\n\t\t\n\t\t<div class="fold list-item '),item.succ&&__append("succ"),__append('" data-path="'),__append(escapeFn(item.id)),__append('" id="onlineDocsFolder" data-dbaction="folder.open" data-action="list.select">\n\t\t\t<div class="file-select"></div>\n\t\t\t<div class="item-name item-name-adjust" data-dbaction="folder.open" tabindex="-1" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('">\n\t\t\t\t<div class="filev3-folder" data-dbaction="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('" title="'),__append(item.fname),__append('">\n\t\t\t\t\t'),showRedPoint&&__append('\n\t\t\t\t\t\t<div class="red-point"></div>\n\t\t\t\t\t'),__append('\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<span class="name drag-dom" title="'),__append(item.fname),__append('">'),__append(item.fname),__append('</span>\n\t\t\t</div>\n\t\t\t<div class="item-time">\n\t\t\t\t<span class="drag-dom">－</span>\n\t\t\t</div>\n\t\t\t<div class="item-size">－</div>\n\t\t\t<div class="item-user">－</div>\n\t\t\t<div class="item-download-times">－</div>\n\t\t\t<div class="aria-hide">\n\t\t\t\t<a tabindex="3" class="applaction-link">在线文档</a>\n\t\t\t\t<button tabindex="3" data-focus="file.aria" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('" aria-label="打开在线文档">打开在线文档</button>\t\t\n\t\t\t</div>\t\n\t\t\t<div class="item-action"></div>\n\t\t</div>\t\t\n\t')):item.isDoc||(__append('\n\t\t<div class="fold list-item '),item.succ&&__append("succ"),__append('" data-path="'),__append(escapeFn(item.id)),__append('" id="'),__append(escapeFn(item.domid)),__append('" data-dbaction="folder.open" data-action="list.select">\n\t\t\t<div class="file-select"></div>\n\t\t\t<div class="item-name item-name-adjust" data-dbaction="folder.open" tabindex="-1" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('">\n\t\t\t\t<div class="filev3-folder drag-dom" data-dbaction="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('" title="'),__append(item.fname),__append("&#10;文件个数："),__append(item.filenum),__append("&#10;创建时间："),__append(escapeFn(item.ctoStr)),__append("&#10;创建人："),__append(item.nick),__append('"></div>\n\t\t\t\t<span class="name drag-dom" title="'),__append(item.fname),__append("&#10;文件个数："),__append(item.filenum),__append("&#10;创建时间："),__append(escapeFn(item.ctoStr)),__append("&#10;创建人："),__append(item.nick),__append('">'),__append(item.fname),__append('</span>\n\t\t\t</div>\n\t\t\t<div class="item-time" title="更新时间：'),__append(escapeFn(item.mtoStr)),__append('">\n\t\t\t\t<span class="drag-dom">'),__append(escapeFn(item.mtStr)),__append('</span>\n\t\t\t</div>\n\t\t\t<div class="item-size">－</div>\n\t\t\t<div class="item-user">－</div>\n\t\t\t<div class="item-download-times">－</div>\n\t\t\t<div class="aria-hide">\n\t\t\t\t<a tabindex="3" class="applaction-link">'),__append(item.fname),__append(" 文件个数："),__append(item.filenum),__append(" 创建时间："),__append(escapeFn(item.ctoStr)),__append(" 创建人："),__append(item.nick),__append('</a>\n\t\t\t\t<button tabindex="3" data-focus="file.aria" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('" aria-label="打开文件夹:'),__append(item.fname),__append(' ">文件夹'),__append(item.fname),__append(" 更新时间："),__append(escapeFn(item.mtoStr)),__append('</button>\t\t\n\t\t\t</div>\t\n\t\t\t<div class="item-action"><button role="button" aria-label="下载文件夹'),__append(item.fname),__append('" title="下载文件夹" class="v3-down" data-action="folder.downloadByBtn" tabindex="3"></button></div>\n\t\t</div>\t\t\n\t')),__append("\n")):(__append('\n\t<div class="file list-item '),__append(escapeFn(item.icon)),__append(" "),2===item.remoteType&&__append("temp"),__append(" "),item.succ&&__append("succ"),__append(" "),item.safeType&&__append("illegal"),__append('" id="'),__append(escapeFn(item.domid)),__append('" data-path="'),__append(escapeFn(item.filepath)),__append('" '),locals.renderParams||(__append('id="'),__append(escapeFn(item.domid)),__append('"')),__append(" "),item.otherGroupName&&(__append(' data-dbaction="openGroupFile" data-uin="'),__append(item.gc),__append('"')),__append(' data-action="list.select" '),item.preview?__append('data-dbaction="file.preview"'):item.canContinueUpload&&__append('data-dbaction="task.continue"'),__append('data-dbaction="file.downloadByDom"'),__append(" "),item.safeType&&__append('title="该文件存在安全风险，无法正常使用"'),__append(' data-id="'),__append(item.id),__append('" tabindex="-1">\n\t\t<div class="file-select">\n\t\t\t'),(locals.batchMode===undefined||locals.batchMode)&&(__append('\n\t\t\t\t<input type="checkbox" class="cbox" data-action="file.check" aria-label="文件类型:'),__append(escapeFn(item.filetype)),__append(",名称"),__append(escapeFn(item.fname)),__append(",大小:"),__append(escapeFn(item.sizeStr)),__append(",下载次数:"),__append(escapeFn(item.down)),__append("次,上传人:"),__append(escapeFn(item.nick)),__append(",上传时间:"),__append(escapeFn(item.ctStr)),__append('" tabindex="3" value="'),__append(escapeFn(item.filepath)),__append('">\n\t\t\t')),__append('\n\t\t</div>\t\n\t\t<div class="item-name-wrap item-name-adjust" '),item.safeType||(__append('title="'),__append(item.name),__append(item.suf),__append("&#10;创建时间："),__append(escapeFn(item.ctoStr)),__append('"')),__append('>\n\t\t\t<div class="item-name" tabindex="-1">\n\t\t\t\t<div class="file-icons" data-path="'),__append(escapeFn(item.filepath)),__append('" '),item.preview&&__append('data-dbaction="file.preview"'),__append('>\n\t\t\t\t\t<div class="drag-dom filev3-'),__append(escapeFn(item.icon)),__append(" "),item.previewObj&&__append("thumb"),__append('" '),item.previewObj&&(__append('style="background-image:url('),__append(escapeFn(item.previewObj.url)),__append(');"')),__append('></div>\n\t\t\t\t\t<i class="icons-check"></i>\n\t\t\t\t</div>\n\t\t\t\t<span class="name drag-dom">\n\t\t\t\t\t'),__append(item.name),__append(item.suf),__append("\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t"),(item.canEdit||2===item.remoteType)&&(__append('\n\t\t\t\t<div class="item-tags">\n\t\t\t\t\t<div class="overflow">\n\t\t\t\t\t\t'),item.canEdit&&__append('<span class="can-edit"></span>'),__append("\n\t\t\t\t\t\t"),2===item.remoteType&&__append('<span class="tmp"></span>'),__append("\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t")),__append('\n\t\t</div>\n\t\t<div class="item-time" '),item.safeType||(__append('title="更新时间：'),__append(escapeFn(item.mtoStr)),__append('"')),__append(' aria-live="polite" aria-atomic="false" aria-relevant="all">\n\n\t\t\t<span class="drag-dom" '),(item.canContinueUpload||"pause"===item.status||"downloadprogress"===item.status)&&__append('style="display:none"'),__append(">"),__append(escapeFn(item.mtStr)),__append("</span>\n\t\t\t"),(item.canContinueUpload||"pause"===item.status||"downloadprogress"===item.status)&&(__append('\t\t\n\t\t\t<div class="file-download file-status">\n\t\t\t  <div class="file-pres-status">\n\t\t\t    <span class="file-task-txt">'),__append(item.wording),__append('</span>\n\t\t\t    <div class="file-parents">\n\t\t\t      <div class="width" style="width:'),__append(item.cPercent),__append('%"></div>\n\t\t\t    </div>\n\t\t\t  </div>\n\t\t\t  <div class="file-status-action '),__append(item.styles),__append('">\n\t\t\t    <a class="pause" data-action="task.pause" title="暂停" aria-label="暂停任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\n\t\t\t    <a class="resume" data-action="task.resume" title="启动" aria-label="启动任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\n\t\t\t    <a class="continue" data-action="task.continue" title="续传" aria-label="续传任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\n\t\t\t    <a class="remove" data-action="task.remove" title="删除" aria-label="删除任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\n\t\t\t    <a class="miss-close" onclick="G.removeTaskInDownLoad('),__append(item.taskId),__append(","),__append(item.filepath),__append(')"></a>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t')),__append('\t\t\t\n\t\t</div>\n\t\t<div class="item-size" '),item.safeType||(__append('title="文件大小：'),__append(escapeFn(item.sizeStr)),__append('"')),__append('>\n\t\t\t<span class="drag-dom">'),__append(escapeFn(item.sizeStr)),__append('</span>\n\t\t</div>\n\t\t<div class="item-user" '),item.safeType||(__append('title="上传者：'),__append(G.isPriv&&item.nick==item.uin?"群成员":item.nick),__append(" "),G.isPriv||(__append("("),__append(escapeFn(item.uin)),__append(")")),__append('"')),__append(" "),__append(locals.renderParams&&!0===locals.renderParams.getByUinHide?'data-action=""':'data-action="file.getByUin"'),__append(' data-uin="'),__append(escapeFn(item.uin)),__append('"><span>'),__append(!G.isPriv||item.nick!=item.uin&&""!=item.nick?item.nick:"群成员"),__append('</span></div>\n\t\t<div class="item-download-times" title="下载次数：'),__append(escapeFn(item.down)),__append('次"><span>'),__append(escapeFn(item.down)),__append('次</span></div>\n\t\t<div class="item-action">\n\t\t\t'),item.safeType||item.canContinueUpload||(__append("\n\t\t\t\t"),item.isDown?__append('\n\t\t\t\t\t<button tabindex="-1" role="button" aria-label="在文件夹中打开" title="在文件夹中打开" class="v3-open" data-action="file.openFolder"></button>\n\t\t\t\t'):(__append('\n\t\t\t\t\t<button tabindex="-1" role="button" aria-label="下载文件'),__append(escapeFn(item.fname)),__append('" title="下载文件" class="v3-down" data-action="file.downloadByBtn"></button>\n\t\t\t\t')),__append("\n\t\t\t")),__append('\n\t\t</div>\n\t\t<div class="aria-hide">\n\t\t\t<a class="applaction-link" tabindex="3">名称:'),__append(escapeFn(item.fname)),__append(",文件类型:"),__append(escapeFn(item.filetype)),__append(",大小:"),__append(escapeFn(item.sizeStr)),__append(",下载次数:"),__append(escapeFn(item.down)),__append("次,上传人:"),__append(escapeFn(item.nick)),__append(",上传时间:"),__append(escapeFn(item.ctStr)),__append(","),item.succ&&__append("该文件已下载"),__append("</a>\n\t\t\t"),item.isDown?(__append('\n\t\t\t\t<button role="button" tabindex="3" data-action="file.openFolder" class="file-aria-btn" data-focus="file.aria" aria-label="打开'),__append(escapeFn(item.fname)),__append('"></button>\n\t\t\t')):(__append('\n\t\t\t\t<button role="button" tabindex="3" data-action="file.downloadByBtn" class="file-aria-btn" data-focus="file.aria" aria-label="下载文件'),__append(escapeFn(item.fname)),__append('"></button>\n\t\t\t')),__append("\n\t\t\t"),(0===item.safeType&&item.admin||G.info.isAdmin)&&(__append('\n\t\t\t\t<button data-focus="file.aria" role="button" aria-label="转发文件'),__append(escapeFn(item.fname)),__append('" data-action="file.forward" tabindex="3">转发'),__append(escapeFn(item.fname)),__append('</button>\n\t\t\t\t<button data-focus="file.aria" role="button" aria-label="转发文件'),__append(escapeFn(item.fname)),__append('到手机" data-action="file.forwardMobile" tabindex="3">转发文件到手机'),__append(escapeFn(item.fname)),__append('</button>\n\t\t\t\t<button data-focus="file.aria" role="button" aria-label="在文件夹中显示'),__append(escapeFn(item.fname)),__append('" data-action="file.openFolderInBox" tabindex="3">在文件夹中显示'),__append(escapeFn(item.fname)),__append('</button>\n\t\t\t\t<button data-focus="file.aria" role="button" aria-label="重命名文件'),__append(escapeFn(item.fname)),__append('" data-action="file.showRename" data-blur="aria.fmg" tabindex="3">重命名'),__append(escapeFn(item.fname)),__append("</button>\n\t\t\t\t"),2===item.remoteType&&(__append('<button data-focus="file.aria" role="button" aria-label="转存为永久文件'),__append(escapeFn(item.fname)),__append('" data-action="file.permanent" tabindex="3">转存为永久文件'),__append(escapeFn(item.fname)),__append("</button>")),__append('\n\t\t\t\t<button data-focus="file.aria" role="button" aria-label="移动文件'),__append(escapeFn(item.fname)),__append('" data-action="file.showMove" data-blur="aria.fmg" tabindex="3">移动文件'),__append(escapeFn(item.fname)),__append("</button>\n\t\t\t")),__append("\n\t\t\t"),(item.safeType&&item.admin||G.info.isAdmin)&&(__append('\n\t\t\t\t<button data-focus="file.aria" role="button" aria-label="删除文件'),__append(escapeFn(item.fname)),__append('" data-action="file.delete" tabindex="3">删除'),__append(escapeFn(item.fname)),__append("</button>\n\t\t\t")),__append('\n\t\t\t<button data-focus="file.aria" role="button" aria-label="举报文件'),__append(escapeFn(item.fname)),__append('" data-action="file.jubao" tabindex="3">举报文件'),__append(escapeFn(item.fname)),__append("</button>\n\t\t</div>\n\t</div>\n"))}__append("\n")}return __output.join("")}},,function(e,t,n){"use strict";var a={upload:"upload",continueupload:"continueupload",download:"download"},i={};i.upload={scanning:"扫描中...&nbsp;&nbsp;",scanfail:"扫描失败&nbsp;&nbsp;",scanend:"扫描完成...&nbsp;&nbsp;",uploadgeturl:"准备上传...&nbsp;&nbsp;",uploadgeturlend:"上传中...&nbsp;&nbsp;",uploadadminonlyfail:"无法上传，已限制成员上传文件",uploadgeturlfail:"申请上传地址失败",uploadlimit:"文件个数达到上限，无法上传",uploadsecurityfail:"安全扫描失败",cancel:"空间不足,已取消上传",uploadprogress:"上传中:&nbsp;&nbsp;",uploadfail:"上传失败",uploadcomplete:"上传完成&nbsp;&nbsp;",filenotexsit:"文件不存在",pause:"暂停&nbsp;&nbsp;",continue:"待续传&nbsp;&nbsp;"},i.download={wait:"等待下载...&nbsp;&nbsp;",downloadready:"准备下载...&nbsp;&nbsp;",downloadgeturl:"准备下载...&nbsp;&nbsp;",downloadgeturlfail:"获取下载地址失败",cancel:"已取消下载&nbsp;&nbsp;",downloadgeturlend:"下载中...",downloadprogress:"下载中:&nbsp;&nbsp;",downloadfail:"下载失败&nbsp;&nbsp;",filenotexsit:"文件不存在",downloadcomplete:"下载完成&nbsp;&nbsp;",pause:"暂停&nbsp;&nbsp;"},i.continueupload={scanning:"扫描中...&nbsp;&nbsp;",scanfail:"扫描失败&nbsp;&nbsp;",scanend:"扫描完成...&nbsp;&nbsp;",uploadgeturl:"准备续传...&nbsp;&nbsp;",uploadgeturlend:"续传中...&nbsp;&nbsp;",uploadgeturlfail:"申请续传地址失败",uploadlimit:"文件个数达到上限，无法上传",uploadsecurityfail:"安全扫描失败",cancel:"空间不足,已取消续传",uploadprogress:"续传中:&nbsp;&nbsp;",uploadfail:"续传失败",uploadcomplete:"续传完成&nbsp;&nbsp;",pause:"暂停&nbsp;&nbsp;",filenotexsit:"文件不存在",continue:"待续传&nbsp;&nbsp;"};var o={};o.upload={scanning:"scan",scanfail:"err",scanend:"scan",uploadgeturl:"pre",uploadgeturlend:"pre",uploadgeturlfail:"err",uploadsecurityfail:"err",cancel:"err",uploadprogress:"progress",uploadfail:"err",uploadcomplete:"complete",pause:"pause",filenotexsit:"err",continue:"continue",remove:""},o.download={wait:"pre",downloadready:"pre",downloadgeturl:"pre",downloadgeturlfail:"err",cancel:"err",downloadgeturlend:"pre",downloadprogress:"progress",downloadfail:"err",filenotexsit:"err",downloadcomplete:"complete",pause:"pause"},o.continueupload={scanning:"scan",scanfail:"err",scanend:"scan",uploadgeturl:"pre",uploadgeturlend:"pre",uploadgeturlfail:"err",uploadsecurityfail:"err",cancel:"err",uploadprogress:"progress",uploadfail:"err",uploadcomplete:"complete",pause:"pause",filenotexsit:"err",continue:"continue",remove:""};var r={upload:"upload",download:"download",continueupload:"upload"},l=["安全","扫描到病毒，已取消上传","扫描到未知风险","扫描到安全风险","扫描到安全风险","扫描到安全风险","文件包含敏感词"],s={"download-downloadgeturlfail":"下载失败,请稍候再试","download-cancel":"","download-downloadfail":"下载失败","upload-scanfail":"扫描失败,请稍候再试","upload-uploadgeturlfail":"上传失败","upload-uploadsecurityfail":"上传安全扫描失败","upload-cancel":"空间不足,已取消上传","upload-uploadfail":"上传失败,请稍候再试",folderLimit:"文件夹个数以达上限"};e.exports={errorCfg:s,errorCfgPrefix:r,securityattriMap:l,styleMap:o,wordingMap:i,typeMap:a,refreshTime:300}},function(e,t,n){"use strict";function a(){var e=function(e){if(void 0!==k.x&&F){var t=e-k.x,n=Math.abs(t);F.width(n),t<0?F.css("margin-left",t+"px"):F.css("margin-left",0)}},t=function(e){if(void 0!==k.y&&F){var t=e-k.y,n=Math.abs(t);F.height(n),t<0?F.css("margin-top",t+"px"):F.css("margin-top",0)}},n=function(e){if(!j(e))return void H(e);$(".selected").removeClass("selected");var t=k.y-y,n=T.y-y;$(e.target).parents(".group1111").length>0&&(n-=x);var a=Math.floor(t/h),i=Math.floor(n/h);a<0&&(a=0);var r=G.onlyGetDom().find(".list-item"),l=void 0;l=a<i?r.slice(a,i+1):a===i?[r.eq(i)]:r.slice(i,a+1),l.length>1&&$("body").addClass("drag-module");var s=!1;l.each(function(){this.classList.contains("file")&&(this.classList.add("selected"),s=!0)}),o.changeDownLoadBtn(s)};$(document).on("mousedown",".scroll-dom",function(e){if(!G.batchMode&&!G.inBatchMode){q(),A();if(N(e))return void e.stopPropagation();var t=function(){if(!z()){$(".selected").removeClass("selected");var e=n.clientX,t=n.clientY+v-c;F=$('<div id="'+_+'" class="drag-div"></div>'),F.css({top:t+"px",left:e+"px"}),k={x:e,y:t},p.append(F),w=!0,g=!1}},n=window.event||e,a=n.button;try{if(0===a){if(z())return;D(e);var i=$(e.target),o=i.hasClass("drag-dom");i.parents(".fold").length>0&&(g=!1,o=!1),i.hasClass("selected")||(i=i.parents(".selected")),(g||i.hasClass("selected"))&&(i.hasClass("selected")&&i.hasClass("file")||o)?($(e.target).parents(".file").addClass("selected"),B.call(this,e)):t()}else 2===a&&O.call(this,n)}catch(e){}}}),$(document).on("mousemove",".scroll-dom",function(a){try{var i=window.event||a;if(0===i.button){var o=i.clientY+v-c;g?U(a):w&&(e(i.clientX),t(o),T={x:i.clientX,y:o},n(a))}else w=!1}catch(a){}}),$(document).on("mouseup",".scroll-dom",function(e){H(e),0===$(".scroll-dom .selected").length&&$("body").removeClass("drag-module")}),$(document).on("click",function(){d.addClass("hide")}),$(document).bind("contextmenu",function(e){return!1}),p.on("scroll",function(){v=this.scrollTop});var a=function(){S<=800?($("body").removeClass("mid-width"),$("body").removeClass("max-width"),$("body").addClass("min-width")):S<=1200?($("body").removeClass("mid-width"),$("body").removeClass("min-width"),$("body").addClass("mid-width")):($("body").removeClass("min-width"),$("body").removeClass("mid-width"),$("body").addClass("max-width"))};$(window).on("resize",function(){S=document.body.clientWidth,M=document.body.clientHeight,$(".scroll-dom").height(M-c),a()}),M=document.body.clientHeight,$(".scroll-dom").height(M-c),a()}function i(e){$(".list-item").removeClass("selected"),this.classList.add("selected"),o.changeDownLoadBtn(this.classList.contains("file"))}t.__esModule=!0,t.init=a,t.listClick=i;var o=n(21),r=n(0),l=n(75),s=n(43),d=$("#customMenu"),p=$(".scroll-dom"),c=$("header").height()+$(".list-thead").height(),f=500,u={},m=0,h=40,_="dragDiv",v=0,w=!1,g=!1,b=!1,y=0,x=0,F=!1,k=void 0,T=void 0,C=void 0,S=document.body.clientWidth,M=document.body.clientHeight,R=function(){var e=G.onlyGetDom().find(".selected"),t=e.length,n=[],a=!1;G.selectRows=[];for(var i=0;i<t;i++){var o=e[i];if(o.classList.contains("fold"))a=o;else{var l=o.getAttribute("data-path"),s=r.getData(l);s&&(G.selectRows.push(s),n.push(s))}}return{list:n,fold:a}},D=function(){d.addClass("hide")},L=function(e){w=!1,0!==$(".selected").length&&(g=!0)},E=function(e){g=!1;var t=function(){$(".hover").removeClass("hover"),$(".selected").removeClass("selected"),P()};if($("#dragItem .status").hasClass("disable"))return void t();var n=(e.clientY,R()),a=n.list,i=$(e.target);i.hasClass("fold")||(i=i.parents(".fold"));var o=i.data("path");r.getData(o)&&s.movelist(a,o,!0),b=!1,t()},O=t.customMenu=function(e){var t=$(e.target),n=e.clientX,a=e.clientY;if(t.hasClass("list-item")||(t=t.parents(".list-item")),"onlineDocsFolder"!==t[0].id){var i=R(),s=i.list,p={},c=void 0,f=function(e){if(t.hasClass("file")||t.hasClass("fold"))return!0;var n=t.data("path");return!!e&&!(!e||e.filepath!==n)};if(s.length>1&&t.hasClass("selected"))l.renderCustomMenu(d,s),c="chooseMenuShow",p.ver1=t.length>0?1:2,p.ver2=G.info.isAdmin?1:2,p.ver3=1===G.module()?0:1;else if($(".selected").removeClass("selected"),g=!1,f(s[0])){t.addClass("selected");var u=t.data("path"),m=r.getData(u);G.selectRow=m,G.selectRows=[m],p=G.getReportInfo(m),c=2===m.orcType?"folderRightMenuShow":"fileRightMenuShow",$(e.target).parents(".group1111").length>0&&(m.othergroup=!0),z()&&(m.issearch=!0),l.renderCustomMenu(d,m)}else c="blankRightMenuShow",p.ver1=t.length>0?1:2,p.ver2=G.info.isAdmin?1:2,p.ver3=1===G.module()?0:1,l.renderCustomMenu(d),o.changeDownLoadBtn(!1);reportNew(c,p),d.removeClass("hide");var h=d.width(),_=d.height();a+_>M&&(a+=M-(a+_)-10),n+h>S&&(n+=S-(n+h)-10),d.css({top:a+"px",left:n+"px"})}},N=function(e){if(u.x||(u.x=e.clientX,u.y=e.clientY),Math.abs(e.clientX-u.x)<10&&Math.abs(e.clientY-u.y)<10)return!1;u.x=e.clientX,u.y=e.clientY;var t=+new Date,n=t-m<f;return m=t,n&&(g=!1,w=!1),n},I=function(e){try{var t=e.clientY-c+v,n=Math.ceil(t/h)-1;return G.onlyGetDom().find(".list-item").eq(n)}catch(e){return $("body")}},P=function(){$("#dragItem").remove()},j=function(e){var t=e.clientX,n=e.clientY;return t>10&&n>88&&t<S-10&&n<M-10||(w=!1,g=!1,!1)},A=function(){$("#dragDiv").length&&$("#dragDiv").remove()},H=function(e){A(),g&&E(e),w&&L(e),F=!1,b=!1},U=function(e){if(b&&!z()){if(!j(e)||2===e.button)return void P();var t=e.clientX,n=e.clientY,a=t-C.x-32,i=n-C.y-50,o=$("#dragItem");(Math.abs(a)>5||Math.abs(n-C.y)>5)&&o.show(),o.css({top:C.y+i+"px",left:C.x+a+"px"});var l=I(e);if(l.hasClass("fold")){var s=l.data("path"),d=r.getData(s);$(".fold").removeClass("selected"),l.addClass("selected"),0===$("#folderNameWidth").length?$("body").append('<div id="folderNameWidth" style="opacity:0;display:inline-block;">'+d.fnameEsc+"</div>"):$("#folderNameWidth").text(d.fnameEsc);var p=$("#folderNameWidth").width();o.addClass("can"),o.find(".move-folder-name").text(d.fnameEsc),o.find(".move-info").css("width",p+66+"px")}else $(".fold").removeClass("selected"),o.removeClass("can")}},B=function(e){if(P(),j(e)&&!z()){g=!0,b=!0;var t=e.clientX-32,n=e.clientY-50,a=($(".selected").find(".file-icons").eq(0).html(),$(".selected").eq(0).data("path")),i=0;$(".selected").each(function(){$(this).hasClass("file")&&i++});var o=r.getFile(a),l=$('<div class="drag-item" id="dragItem"><div class="item"><div class="filesbig-'+o.icon+'_big"></div><span class="file-num">'+i+'</span></div><div class="status icon-cannot"></div><div class="bgs"></div><div class="move-info"> 移动到 <span class="move-folder-name"></span></div></div>');if(l.css({top:n+"px",left:t+"px"}),l.hide(),C={x:t,y:e.clientY},$("body").append(l),o.previewObj){var s=o.previewObj.url+"&pictype=scaled&size=50*50",d=new Image;d.onload=function(){l.find(".filesmall-pic").css("background-image","url("+s+")").addClass("thumb")},d.onerror=function(){console.log("缩略图加载失败!",s)},d.src=s}}},z=function(){return 3===G.module()},q=function(){3===G.module()?(y=58,x=58):(y=0,x=0)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(){var e=$(this).parents(".list-item"),t=e.data("path"),n=void 0,a=e.attr("idx");G.nowIdx=parseInt(a);var i=k.getData(t);2===i.orcType?n="fold":1==i.orcType&&(n="file"),G.selectRow=i||{},G.selectRow.path=t,G.selectRow.type=n,G.selectRows=[G.selectRow]}var o=n(153),r=n(154),l=a(r),s=n(161),d=n(69),p=n(20),c=n(160),f=n(66),u=n(155),m=n(65),h=n(159),_=n(43),v=n(157),w=n(21),g=n(152),b=n(68),y=n(156),x=n(158),F=n(151),k=n(0);e.exports={"file.batchDelete":g.remove,"batch.removeAction":g.removeAction,"file.batchMove":g.move,"file.batchDownload":g.down,"batch.downloadAction":g.downloadAction,"file.batchSaveAs":g.save,"file.selectAll":w.selectAll,"file.select":w.select,"file.check":w.check,"file.exitBatch":w.exit,"file.upload":d.upload,"file.batchUpload":d.bupload,"file.openFolder":p.openByPath,"file.openFolderInBox":p.openByMenu,"file.showRename":c.showFileRename,"file.renameFile":c.renameFile,"file.saveAs":b.save,"file.download":f.download,"file.downloadByDom":f.downloadByDom,"file.downloadByMenu":f.downloadByMenu,"file.downloadByBtn":f.downloadByBtn,"file.downloadBatch":f.downloadBatch,"file.preview":h.preview,"file.menupreview":h.menupreview,"file.jubao":v,"file.permanent":x,"file.delete":m.removeOne,"file.deleteBatch":m.removeBatch,"file.forward":u.forward,"file.forwardMobile":u.toMobile,"file.showUpload":d.showUpload,"file.showMove":_.showMove,"file.secondMove":_.secondMove,"file.move":_.move,"upload.noTips":d.noTips,"upload.cUpload":d.cupload,"file.getByUin":y.byUin,"file.getAttr":F,"qq.update":d.update,"file.aria":i,"file.sort":s.sortFile,"file.autoClear":o.clickClearFile,"file.doClearFile":o.doClearFile,"error:show":l.default}},function(e,t,n){"use strict";function a(e){if(console.debug("move file",e),e){var t=+new Date;e.mt=Math.floor(t/1e3),e.mtStr=x.getDateStr(e.mt),e.mtoStr=x.getorcDateStr(e.mt),u.removeFold(e),u.appendFold(e)}_["panel.close"]()}function i(e){for(var t=[],n=e.list,a=n.length-1;a>=0;a--){var i=n[a];(G.info.isAdmin||G.info.uin===i.uin)&&t.push(i)}G.secondMove={list:t,folderId:e.folderId,isDrag:e.flag},t.length!==n.length?h.showBatchPanel(T,{title:"批量移动",action:"file.secondMove",text:'您选择了<span class="red">'+n.length+'</span>个文件,其中<span  class="red">'+t.length+'</span>个文件可以移动<br>您确定要移动这<span  class="red">'+t.length+"</span>个文件吗?"}):e.flag?l(t,e.folderId,e.flag):e.flag||r()}function o(e,t,n){if(G.file.isFull)return F.show("alert","文件数已达到上限");if(!this.classList||!this.classList.contains("disable")){var a=e||G.selectRows;a&&i({list:a,flag:!1})}}function r(){var e=G.secondMove.list,t=e[0],n=G.getReportInfo(t);e.length>1?reportNew("chooseRightMenuClick",n):(n.ver3=5,reportNew("fileRightMenuClick",n));var a=G.folderMap()[G.nowFolder],i={title:"移动文件",firstFileName:e[0].fname,fileNum:e.length,action:"移动到：",destFolder:"/"===G.nowFolder?"群文件":a.fname,okAction:"file.move"};c.showFolderTreePanel(i),$("#containerFolderTreePanel").find(".active .aria-hide").eq(0).focus(),report("folderTree",1),report("clkFolderMove")}function l(e,t,n){var i=[],o={},r=[];if(1===e.length){var l=y.getData(e[0].filepath);if(l&&l.safeType)return void g.alert(2,"提示","该文件存在安全风险，无法正常使用")}else for(var s=e.length;s--;){var d=y.getData(e[s].filepath);d&&d.safeType&&e.splice(s,1)}for(var p=e.length-1;p>=0;p--){var c=e[p];(G.info.isAdmin||G.info.uin===c.uin)&&(i.push({file_id:c.fp,bus_id:parseInt(c.busid),parent_folder_id:c.parentId,dest_folder_id:t,app_id:G.appid,gc:G.info.gc}),r.push(c),o[e[p].fp]=e[p])}w.exit(),G.secondMove={};var h=function(){++T>=F&&b.trigger("toast.hide")},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0!==e.length&&f.moveFile(e).done(function(i){h();var r=e;if(i.fail){var l=[];try{l=JSON.parse(i.fail).fail}catch(e){}for(var s=l.length-1;s>=0;s--)o[l[s]]&&r.splice(s,1)}e.length>1?(report("batchMoveSuc"),n&&reportNew("chooseDrag",{ver1:1,ver2:G.info.isAdmin?1:2,ver5:1})):(report("moveFileSuc"),n&&reportNew("chooseDragSinge",{ver1:1,ver2:G.info.isAdmin?1:2,ver5:1}));for(var d=r.length-1;d>=0;d--){var p=r[d],c="/"+p.bus_id+p.file_id;p=G.fileMap()[c],p.parentId=t,y.updateFile(p,"rename"),u.removeRow(p),u.appendFileToFolder(p)}var f=void 0;(f=G.folderMap()[t])&&(f.filenum+=r.length,$('[id="'+f.domid+'"]').find(".file-size").html(f.filenum+"个文件")),a(f)}).fail(function(t){h(),m.showError(t.ec),report("showMoveFail"),report("moveFileError"),n&&(e.length>1?reportNew("chooseDrag",{ver1:1,ver2:G.info.isAdmin?1:2,ver5:2}):reportNew("chooseDragSinge",{ver1:1,ver2:G.info.isAdmin?1:2,ver5:2})),console.log("fail",t)})},x=i.length,F=Math.ceil(x/k),T=0;if(b.trigger("toast.show",{type:"wait",text:"正在移动文件",autoHide:!1}),F)for(var C=0;C<F;C++){var S=i.slice(C*k,(C+1)*k);v(S)}else h(),_["panel.close"]();return!0}function s(){v["folderTree.create"](null,function(){if(G.selectRows){var e=G.folderTree.selected.id;if(e===G.nowFolder)return console.log("can not move to the same folder"),void b.trigger("toast.show",{type:"alert",text:"文件已在目标位置"});l(G.selectRows,e)}})}function d(){$("#batchPanel").removeClass("open"),console.log("secondMove",G.secondMove),G.secondMove.isDrag?l(G.secondMove.list,G.secondMove.folderId,G.secondMove.isDrag):r()}function p(e,t,n){i({list:e,folderId:t,flag:!0})}var c={folderTree:n(23),showFolderTreePanel:n(10).showFolderTreePanel},f=n(2),u=n(5),m=n(25),h=n(10),_=n(30),v=n(46),w=n(21),g=n(3),b=$(G.handler),y=n(0),x=n(16),F=n(32),k=10,T=$("#batchPanel");e.exports={showMove:o,move:s,movelist:p,secondMove:d}},function(e,t,n){"use strict";function a(){return report("clkCreateFolder"),G.file.isFull?(reportNew("limitTip",{ver1:1}),y.show("alert","文件数已达到上限")):("LI"===this.nodeName&&reportNew("blankRightMenuClick",{ver1:G.customMenuLength?1:2,ver2:G.info.isAdmin?1:2,ver3:2}),G.canCreateFolder?(p.show(d,{title:"新建文件夹",tips:"请输入文件夹名称",showValue:v.getFolderNameDefault(),action:"folder.createFolder"}),void $(".new-name").focus()):void g.trigger("toast.show",{type:"new-alert",text:"文件夹个数已达上限"}))}function i(e){if(report("renameFolder"),G.selectRow){var t=G.getReportInfo(G.selectRow);t.ver3=4,reportNew("folderRightMenuClick",t)}p.show(d,{title:"重命名",tips:"请输入文件夹的新名称",action:"folder.renameFolder",showValue:G.selectRow.fnameEsc})}function o(){p.hide(d),G.activeElement&&G.activeElement.focus()}function r(){}function l(){}function l(){d.find(".btn-ok").attr("data-action","folder.createOK")}function s(){if(event&&13!==event.keyCode)return void b["input.keyup"].call(this,event);var e=$('[data-keyup="folderTree.create"]');if(!e.length)return void(callback&&callback());var t=e.val();b.folderName(t)&&c.createFolder()}var d=$("#folderPanel"),p=n(10),c=n(70),f=n(162),u=n(166),m=n(163),h=n(164),_=n(45),v=(n(165),n(7)),w=n(20),g=$(G.handler),b=n(48),y=n(32);e.exports={"folder.openfolder":w.openByFolder,"folder.property":h.show,"folder.create":a,"folder.panelhide":o,"folder.show":r,"folder.showmove":l,"folder.toDelete":l,"folder.createFolder":c.createFolder,"folder.deleteFolder":f.deleteFolder,"folder.renameFolder":u.renameFolder,"folder.showDeleteFolder":f.showDeleteFolder,"folder.showRenameFolder":i,"folder.open":_.renderFolder,"folder.openroot":_.renderRootFolder,"folder.download":m.download,"folder.downloadByBtn":m.downloadByBtn,"input.createFolder":s,"folder.hideDocs":_.hideDocs}},function(e,t,n){"use strict";function a(){d.showDocs()}function i(){d.hideDocs()}function o(e,t){if(e=e||$(this).data("path"),s.getData(e).isDoc)return a(),reportNew("openOnlineDocs",{}),void console.log("-----------open online doc ----------------");if(report("clkFolder",G.module()),G.mac&&$(".mac-file-top").removeClass("user-module"),(0==G.module()||1==G.module())&&e===G.nowFolder)return void console.debug("open folder return!!!!!",G.module(),G.nowFolder,e);G.module("/"===e?0:1);"/"===e?$(".root-folder").removeClass("folder"):$(".root-folder").addClass("folder");var n=s.getData(e),i=G.getReportInfo(n);reportNew("doubleClickFolder",i);var o=e.replace(/\//gi,"-");"/"===e&&(o="#fileListDom");var r=$(o),d=void 0,p=void 0;r.length>0&&(d=r.data("sort"),p=r.data("order")),l.getList({folderId:e,fname:n.fnameEsc,sort_by:d,sort_order:p})}function r(e,t){o.call(this,e,t),reportNew("wayRoot")}var l=n(5),s=n(0),d=n(31);e.exports={renderFolder:o,renderRootFolder:r,hideDocs:i}},function(e,t,n){"use strict";function a(){if($('[data-keyup="folderTree.create"]').length)return void console.log("can not try to create more than one folder at the same time");report("createFolderInTree"),h=!0,r.folderTree.newFolder(),r.folderTree.select("new"),$("#inputFolderNameInFolderTree").val(f.getFolderNameDefault()),$("#inputFolderNameInFolderTree")[0].focus(),$("#inputFolderNameInFolderTree")[0].select(),h=!1}function i(e){h||(e.keyCode=13,o.call(this,e))}function o(e,t){if(e&&13!==e.keyCode&&$("#inputFolderNameInFolderTree").length)return void s["input.keyup"].call(this,e);var n=$('[data-keyup="folderTree.create"]');if(!n.length)return void(t&&t());if(t&&(m=t),!u){var a=$.trim(n.val());if(s.folderName(a)){var i={parent_id:"/",name:a};u=!0,d.createFolder(i).done(function(e){var t=p.filterFolder(e.folder_info);p.addData(t),r.list.appendFold(t),$(".folder-tree-box").find('[data-id="new"].folder-list-item').html(l.folder({item:t})).attr("data-id",t.id),"new"===G.folderTree.selected.id&&c.select(t.id),report("createFolderInTreeSuc"),u=!1,m&&m(),m=!1}).fail(function(e){u=!1;var t={134:"文件夹名称包含违禁词",313:"文件夹名已经存在",314:"创建文件夹失败",405:"文件夹个数已达上限",default:"创建失败"},n=Math.abs(e.ec),a=$(".folder-tree-box").find(".bubble");a.html('<span class="bot"></span><span class="top"></span>'+(t[n]||t.default)).show(),setTimeout(function(){a.hide()},3e3)})}}}var r={folderTree:n(23),list:n(5)},l={folder:n(96)},s=n(48),d=(n(174),n(2)),p=n(0),c=n(23),f=n(7),u=!1,m=!1,h=!0;e.exports={"folderTree.select":c.select,"folderTree.new":a,"folderTree.create":o,createInputBlur:i}},function(e,t,n){"use strict";function a(e){if("INPUT"!==this.nodeName||13===e.keyCode){var t=G.searchKeyword=$("#inputSearch").val()||"";r.getList({keyword:t,skey:"searchResult"})}}function i(){this.classList.add("hover")}function o(){$(".search-action").removeClass("hover")}var r=n(5);e.exports={search:a,"search:hover":i,"search:hide":o}},function(e,t,n){"use strict";function a(e){var t=!1,n=new RegExp('^[^/\\\\:?*"<>|]+$');return t=n.test(e),console.log("reg",n.test(e)),t}function i(){var e=$.trim(this.value);e.length>l&&!input&&(this.value=e.substr(0,l))}function o(e){var t=this.inputStart,n=this.value,i=$(this).parents(".panel-overlay"),o=$(this).parent().find(".bubble"),r=$("#folderPanel .btn-ok").data("action");if(""===$.trim(n))return $(this).parent().find(".error-message").removeClass("show"),i.find(".btn-ok").prop("disabled",!0),void o.hide();if(a(n))$(this).parent().find(".error-message").removeClass("show").hide(),o.hide();else{var s='文件夹名称不能包含 \\ / : * ? " < > |';"file.renameFile"===r&&(s='文件名称不能包含 \\ / : * ? " < > |'),$(this).parent().find(".error-message").text(s).addClass("show").show(),o.html('<span class="bot"></span><span class="top"></span>'+s).show(),i.find(".btn-ok").prop("disabled",!0)}0===n.length?i.find(".btn-ok").prop("disabled",!0):0!==n.length&&a(n)&&i.find(".btn-ok").prop("disabled",!1),n.length>l&&!t&&(this.value=n.substr(0,l)),$("#folderPanel [data-action]").length&&e&&13==e.keyCode&&!t&&$("#folderPanel [data-action]").click()}function r(){$("#folderPanel .error-message").removeClass("show")}var l=(n(7),48);n(70);e.exports={"input.keyup":o,"input.focus":r,"input.blur":i,folderName:a}},function(e,t,n){"use strict";function a(e){G.cMap||(G.cMap={});var t=G.cMap[e.id];if(t||(t=G.cMap[e.filepath])&&(t&&t.type.indexOf("upload")>=0&&e.type.indexOf("upload")>=0&&t.status!=e.status?(e.id&&(plistMap[e.id]=t),console.warn("new task 发现续传 id["+t.id+"] status["+t.status+"]")):"download"==e.type&&console.log(e)),!t)return e.id&&(G.cMap[e.id]=e),e.filepath&&(G.cMap[e.filepath]=e),e}function i(e){return!(!G.cMap[e.id]&&!G.cMap[e.filepath])}function o(e){G.cMap[e.id]&&delete G.cMap[e.id],G.cMap[e.filepath]&&delete G.cMap[e.filepath]}function r(e){}function l(){for(var e in G.cMap){var t=G.cMap[e];t&&"uploadcomplete"===t.status&&(delete G.cMap[t.id],delete G.cMap[t.filepath])}}e.exports={check:i,add:a,del:o,update:r,clearComplete:l}},,,,,,,,,,function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(){}function n(e){var n=g.beforeRequest(e),a={};return a.url=n.url,a.paramObj=n.param||{},a.successCb=n.success||t,a.errorCb=n.error||t,a.localData=n.localData||null,a.xhrFields=n.xhrFields||{},a.headers=n.headers||{},a.method=n.ajaxType||"GET",a.dataType=n.dataType||"json",a.async=n.async,a.timeout=n.timeout,a.method=a.method.toUpperCase(),a}function a(){for(var e=null,t=[function(){return new XMLHttpRequest},function(){return new XDomainRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.xmlhttp")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,a=t.length;n<a;n++){try{e=t[n]()}catch(e){continue}break}return e}function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function o(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];t[n]="string"==typeof a?encodeURIComponent(a):a}return JSON.stringify(t)}function r(e,t){var n=e;return n+=(e.indexOf("?")>0?"&":"?")+t}function l(e,t,n){if(e.setRequestHeader){t["Content-type"]||"GET"!==n&&"POST"!==n||e.setRequestHeader("Content-type","application/x-www-form-urlencoded");var a=t||{};for(var i in a)a.hasOwnProperty(i)&&e.setRequestHeader(i,a[i])}}function s(e,t){e.withCredentials=!0,!1===t.withCredentials&&(e.withCredentials=!1)}function d(e){g.dataReturnSuccessCondition=e.dataReturnSuccessCondition||g.dataReturnSuccessCondition,g.beforeRequest=e.beforeRequest||g.beforeRequest,g.beforeResponse=e.beforeResponse||g.beforeResponse}function p(e){var t=n(e),a=i(t.paramObj),o=r(t.url,a),d=h(t);d&&(d.open("GET",o,!0),_(d,t),s(d,t.xhrFields),l(d,t.headers,"GET"),d.send())}function c(e){var t=n(e),a="",r=t.url,d=h(t);d&&(d.open("POST",r,!0),e.type&&"json"===e.type?(a=o(t.paramObj),t.headers["Content-type"]="application/json"):a=i(t.paramObj),_(d,t),s(d,t.xhrFields),l(d,t.headers,"POST"),d.send(a))}function f(e){var t=n(e),a=t.url,i=h(t);i&&(i.open("POST",a,!0),_(i,t),s(i,t.xhrFields),l(i,t.headers,"FORM"),i.send(t.paramObj))}function u(e){function t(e){setTimeout(function(){e.parentNode.removeChild(e)},200)}var a=n(e);if(!a.paramObj)throw new Error("Please provide parameter for jsonp");a.paramObj.jsonCbName||(a.paramObj.jsonCbName="jsonCb_"+Date.now()),a.paramObj.callback=a.paramObj.jsonCbName,delete a.paramObj.jsonCbName,w[a.paramObj.callback]=function(e){if(a.localData)return void m(a.localData,a);m(e,a),t(s)};var o=i(a.paramObj),l=r(a.url,o),s=w&&w.document?w.document.createElement("script"):{},d=w&&w.document?w.document.getElementsByTagName("head")[0]:{};s.src=l,d.appendChild(s),s.onerror=function(e){a.errorCb({errCode:e}),t(s)}}function m(e,t){g.beforeResponse(e,function(e){g.dataReturnSuccessCondition(e)?t.successCb(e):t.errorCb(e)},t.errorCb)}function h(e){var t=a();if(!t)throw new Error("XMLHttp is not defined");return e.localData?void m(e.localData,e):(t.async=!1!==e.async,t.onreadystatechange=function(){if(t.readyState===b)if(t.status===y){var n=t.responseText;"json"===e.dataType&&(n=JSON.parse(t.responseText)),m(n,e)}else e.errorCb({errCode:t.status})},t.onerror=function(){e.errorCb({errCode:-1})},t.ontimeout=function(){e.errorCb({errCode:-2})},t)}function _(e,t){t.timeout&&(e.timeout=t.timeout)}function v(e){switch(n(e).method){case"JSONP":u(e);break;case"GET":p(e);break;case"POST":c(e);break;case"FORM":f(e)}}var w=void 0!==w?w:{};"undefined"!=typeof window?w=window:"undefined"!=typeof self&&(w=self);var g={dataReturnSuccessCondition:function(){return!0},beforeRequest:function(e){return e},beforeResponse:function(e,t,n){t(e)}},b=4,y=200,G={ajax:v,ajaxGet:p,ajaxPost:c,ajaxForm:f,ajaxJsonp:u,ajaxInit:d};e.ajaxInit=d,e.ajaxGet=p,e.ajaxPost=c,e.ajaxForm=f,e.ajaxJsonp=u,e.default=G,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var a=function(){var e=/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,t=/&\w+;|&#(\d+);/g,n={"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&quot;":'"',"&copy;":""};return{encodeHtml:function(t){return t=void 0!=t?t:"","string"!=typeof t?t:t.replace(e,function(e){var t=e.charCodeAt(0),n=["&#"];return t=32==t?160:t,n.push(t),n.push(";"),n.join("")})},decodeHtml:function(e){e=void 0!=e?e:"";var a="string"!=typeof e?e:e.replace(t,function(e,t){var a=n[e];return void 0==a&&(a=isNaN(t)?e:String.fromCharCode(160==t?32:t)),a});return a=a.replace(/&#x2028;/g,"\u2028"),a=a.replace(/&#x2029;/g,"\u2029")}}}();e.exports={encode:a.encodeHtml,decode:a.decodeHtml}},function(e,t,n){"use strict";var a=(n(41),n(42)),i=n(44),o=n(0),r=function(){G.activeElement=this},l=function(){var e=$(document.activeElement).parents(".list-item");if(0===e.length)return!1;var t=e.data("path"),n=void 0,a=o.getData(t);return 2===a.orcType?n="fold":1==a.orcType&&(n="file"),G.selectRow=a||{},G.selectRow.path=t,G.selectRow.type=n,G.selectRows=[G.selectRow],!0},s=function(){l()&&2===G.selectRow.orcType&&i["folder.open"](G.selectRow.id)},d=function(){l()&&("file"===G.selectRow.type?a["file.showRename"]():"fold"===G.selectRow.type&&i["folder.showRenameFolder"]())},p=function(){l()&&"fold"===G.selectRow.type&&i["folder.property"]()},c=function(){l()&&("file"===G.selectRow.type?a["file.showRename"]():"fold"===G.selectRow.type&&i["folder.showRenameFolder"]())},f=function(){l()&&"file"===G.selectRow.type&&a["file.preview"]()},u=function(){l()&&"file"===G.selectRow.type&&a["file.showMove"]()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l()&&"file"===G.selectRow.type&&(e?a["file.forwardMobile"]():a["file.forward"]())},h=function(){l()&&"file"===G.selectRow.type&&a["file.jubao"]()};G.nowIdx=0;var _=function(e){var t=G.onlyGetDom().find(".item-name");e?G.nowIdx++:G.nowIdx--;var n=G.nowIdx;n<0?n=t.length-1:n>t.length-1&&(n=0),t.eq(n).focus()};G.nowSelectMoveFolder=0;var v=function(e){if($("#folderTreePanel").hasClass("open")){var t=$("#folderTreePanel").find(".aria-hide");e?G.nowSelectMoveFolder++:G.nowSelectMoveFolder--;var n=G.nowSelectMoveFolder;n<0?n=t.length-1:n>t.length-1&&(n=0),t.eq(n).focus(),G.nowSelectMoveFolder=n}},w=function(e){switch(e){case 37:v(0);break;case 39:v(1);break;case 38:_(0);break;case 40:_(1);break;case 65:$("#selectAllFile").click();break;case 66:$("#openBoxBtn").click();break;case 68:d();break;case 70:m();break;case 71:i["folder.open"]("/");break;case 72:m(!0);break;case 74:h();break;case 76:doDownLoad();break;case 77:u();break;case 78:$("#createFolder button").click();break;case 79:s();break;case 80:p();break;case 82:c();break;case 85:$(".icons-upload-1").click();break;case 88:$(G.handler).trigger("panel.hideAll");break;case 89:f()}},g=function(e){switch(e){case 81:$("#ariaQuickTipsDom").focus()}},b=function(e){e.altKey&&e.shiftKey?w.call(this,e.keyCode):e.ctrlKey&&g.call(this,e.keyCode)},y=function(){$("#boxListDom").find(".file2").each(function(){$(this).find(".aria-tips").attr("tabindex",1),this.classList.contains("continue")?($(this).find(".remove").attr("tabindex",1),$(this).find(".continue").attr("tabindex",1)):this.classList.contains("pause")?($(this).find(".resume").attr("tabindex",1),$(this).find(".remove").attr("tabindex",1)):this.classList.contains("err")?($(this).find(".pause").attr("tabindex",1),$(this).find(".remove").attr("tabindex",1)):this.classList.contains("progress")?$(this).find(".remove").attr("tabindex",1):this.classList.contains("complete")})},x=function(){$("#boxListDom .file-action a").attr("tabindex","-1")};e.exports={"aria.fmg":r,changeBoxTabIndex:y,removeBoxTabIndex:x,"aria.quick":b}},function(e,t,n){"use strict";function a(e){"offline"===e.action||e.action}var i=n(3),o=function(){var e=parseInt($(this).data("uin"));i.openGroupInfoCard(e)},r=function(){var e=parseInt($(this).data("uin")),t=G.fileMap()[$(this).data("path")]||{},n={action:"search",params:{keyword:G.searchKeyword,files:[{fileId:t.fp,busId:t.busid}]}};localStorage.setItem("notifyOtherGroup",encodeURIComponent(JSON.stringify({gc:e,webParams:JSON.stringify(n),random:Math.random()}))),i.openGroupFile(e,encodeURIComponent(JSON.stringify(n)))};e.exports={groupEvent:a,openGroupFile:r,openGroupInfoCard:o}},function(e,t,n){"use strict";function a(e){console.debug(" show upload"),o.showUpload(e)}function i(e){console.debug(" show upload files");for(var t=e.fileList,n=[],a=0,i=t.length;a<i;a++){var r=t[a];n.push(r.filepath)}o.batchuploadInFolder(G.nowFolder,n)}var o=n(69);e.exports={uploadEvent:a,dropEvent:i}},function(e,t,n){"use strict";function a(){m.trigger("menu.hide"),report("clkDeleteFile",G.module());var e=G.selectRow;if(e){var t=G.getReportInfo(e);t.ver3=8,reportNew("fileRightMenuClick",t);var n=l.confirm(2,"提示","你确定要删除文件"+e.fnameEsc+"吗?");if(0===n.errorCode&&n.ret){var a={bus_id:parseInt(e.busid),file_id:e.fp,app_id:4,parent_folder_id:G.nowFolder||"/"};r.deleteFile(a).done(function(t){if(o.remove(e.filepath),s.removeRow(e),f.setClist(e,"delete"),o.updateAllNum({files:[e],action:"remove"}),G.file.capacityused=d.getSize(G.file.cu),p.renderSpace(),m.trigger("toast.show",{type:"suc",text:"删除成功"}),u.init(G.file.isTooMany||G.file.isFull),e.safeType){var n=G.getReportInfo(e);n.ver6=n.ver3,n.ver3=n.ver4,n.ver4=n.ver5,n.ver5=e.size,reportNew("blackDelete",n)}}).fail(function(e){l.alert(2,"提示","删除失败"),report("delFileError")})}}}function i(e,t){m.trigger("menu.hide");var n=[],a={},i=1,h=0,_=0,v=function(){++h===i&&G.scrollHandler&&G.scrollHandler.getData()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==e.length){for(var n={},a=[],c=0,m=e.length;c<m;c++)a[c]={gc:parseInt(G.info.gc),app_id:G.appid,bus_id:e[c].busid,file_id:e[c].fp,parent_folder_id:G.nowFolder||"/"};n.file_list=JSON.stringify({file_list:a}),r.deleteFile(n).done(function(n){var a=[];if(n.fail){a=n.fail;for(var r=e.length-1;r>=0;r--)$.inArray(e[r].fp,a)&&e.splice(r,1)}report("batchDeleteSuc");var l=e.length;_+=l,e.forEach(function(e){if(s.removeRow(e),o.remove(e.filepath),f.setClist(e,"delete"),e.safeType){var t=G.getReportInfo(e);t.ver6=t.ver3,t.ver3=t.ver4,t.ver4=t.ver5,t.ver5=e.size,reportNew("blackDelete",t)}}),o.updateAllNum({files:e,action:"remove"}),G.file.capacityused=d.getSize(G.file.cu),p.renderSpace(),v(_),console.debug("删除成功",h,i,n),h===i&&t(_),u.init(G.file.isTooMany||G.file.isFull,"delete")}).fail(function(e){l.alert(2,"提示","删除失败"),$(G.handler).trigger("panel.hideAll"),report("delFileError")})}};if(e.forEach(function(e){e.remove&&(n.push(e),a[e.fp]=e)}),1===(i=Math.ceil(n.length/c)))w(n);else for(var g=0;g<i;g++){var b=n.slice(g*c,(g+1)*c);w(b)}return!0}var o=n(0),r=n(2),l=n(3),s=n(5),d=n(19),p=n(5),c=(n(30),2),f=n(12),u=n(24),m=$(G.handler);e.exports={removeOne:a,removeBatch:i}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=document.createElement("div"),n=this.getBoundingClientRect(),a=function(){var e=document.height;return G.getDomPanel()[0].scrollHeight+52>e};t.innerHTML='<div class="img"></div>',t.className="file-animate files-"+e.icon;var i=window.innerWidth-n.left-3;G.info.isAdmin&&"/"===G.nowFolder&&(i+=37),a()||(i+=10),G.mac&&(i=177),t.style.right=i+"px",t.style.top=n.top-20+"px",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},1500)}function o(e,t){if(e){var n=G.getReportInfo(e);if(1===t?(n.ver7=3===G.module()?2:1,reportNew("doubleClickFile",n)):2===t&&(n.ver3=1,reportNew("fileRightMenuClick",n)),e.isDown&&0!==t)return void f.edit(e);var a=n;a.ver1=G.module(),a.ver2=1,a.ver3=n.ver4,a.ver4=n.ver5,a.ver5=t,a.ver7=G.info.role,reportNew("fileDownload",a);var i=e.filepath,o=e.fnameEsc,r=e.size;e.isDowning=!0;e.t,e.fp;m.updateRow(e);var l=h.addDownloadTask(i,o,r,!0,!1);console.debug("realdown",l)}}function r(){o(G.selectRow,2)}function l(){var e=$(this),t=e.data("path"),n=u.getData(t);if(n.safeType){var a=G.getReportInfo(n);a.ver3=a.ver4,a.ver4=a.ver5,a.ver5=n.isDown?2:1,reportNew("blackTips",a),h.alert(2,"提示","该文件存在安全风险，无法正常使用")}else o(n,1)}function s(){var e=$(this).closest(".list-item"),t=e.data("path"),n=u.getData(t);G.saveasList[n.filepath]=1,o(n,0)}function d(){var e=G.selectRow;if(report("clkDownloadBtn",G.module()),e){var t=e.filepath,n=e.fnameEsc,a=e.size;e.isDowning=!0;var o=(e.t,e.fp,this);i.call(o,e),m.updateRow(e),h.addDownloadTask(t,n,a,!0)}}function p(e){for(var t=function(e){var t=e.filepath,n=e.fnameEsc,a=e.size;e.t,e.fp;h.addDownloadTask(t,n,a,!0)},n=0,a=e.length;n<a;n++){var i=e[n];G.saveasList[i.filepath]=1,t(i)}}var c=n(67),f=a(c),u=n(0),m=(n(2),n(5)),h=n(3);$(G.handler);e.exports={download:d,downloadByDom:l,downloadByMenu:r,downloadByBtn:s,downloadBatch:p}},function(e,t,n){"use strict";function a(e){if(console.log("edit file:",e,p),e)if(G.version>=s&&e.admin&&"文档"===e.filetype&&p){console.debug(" input and edit file:",e);var t=e.localpath;"string"==typeof t&&t.indexOf("OSRoot")<0&&(t="OSRoot:\\"+t);var n=window.external.isFileExist(t);if("false"==n||!1===n)return o.alert(2,"提示","此文件不存在，可能已被删除或被移动到其他位置"),l.changeOpenFolder2Download(e),!1;var a={filepath:e.filepath,name:e.fnameEsc,fp:e.fp,md5:e.md5,localpath:t},i=o.onlineEditFile(e.parentId,JSON.stringify(a));if(console.debug("start online edit",i," param is ",a),"success"==i)return G.editFileList[e.filepath]=1,!0;if("file cannot open"===i){var r=o.confirm(2,"提示","此文件无法识别并打开，是否在文件夹中查看该文件？");if(0!==r.errorCode||!r.ret)return!1;l.openByPath(e)}}else l.openByPath(e)}t.__esModule=!0,t.edit=a;var i=(n(0),n(2)),o=n(3),r=n(7),l=(n(5),n(20)),s=($(G.handler),5485);G.editFileList={};var d="canedit"+r.getUin(),p=!1,c=function(e,t){var n=localStorage.getItem(d);try{n=n?JSON.parse(n):{},n.t=3e3,n.w=e,n.ts=+new Date,localStorage.setItem(d,JSON.stringify(n))}catch(e){}};!function(){i.getEditFlag().done(function(e){if(0===e.ec){var t=e.req_interval,n=e.is_white;c(n,t),p=e.is_white}else jumpToPage(0)}).fail(function(){})}()},function(e,t,n){"use strict";function a(e){var t=e||G.selectRow;report("clkSaveAs",G.module());try{var n=G.getReportInfo(t),a=n;n.ver3=2,reportNew("fileRightMenuClick",n),a.ver1=G.module(),a.ver2=1,a.ver3=n.ver4,a.ver4=n.ver5,a.ver5=3,a.ver7=G.info.role,reportNew("fileDownload",a)}catch(e){console.info(e)}if(t&&1===t.orcType)if(t.inDown);else{var i=t.filepath,l=t.fnameEsc,s=t.size;t.t||t.busid,t.fp,o.addDownloadTask(i,l,s);G.saveasList[i]=1,r.trigger("menu.hide")}}function i(e){var t=e[0];if(t){var n=G.getReportInfo(t);n.ver3="1",reportNew("chooseRightMenuClick",n);var a=n;a.ver1=G.module(),a.ver2=1,a.ver3=n.ver4,a.ver4=n.ver5,a.ver5=5,a.ver7=G.info.role,console.log(t,n,a),reportNew("fileDownload",a)}for(var i in e){var r=e[i];G.saveasList[r.filepath]=1}var l={files:e,save2default:0};o.addMultiDownloadTasks(JSON.stringify(l))}var o=n(3),r=(n(0),n(2),$(G.handler));G.saveasList={},e.exports={save:a,saveBatch:i}},function(e,t,n){"use strict";function a(){h.getTips()?u.addUploadTask():(report("showOldVersion"),$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本仅支持将文件上传至群文件首页，升级至QQ最新版本可上传文件至文件夹内。"),$("#updateQQ").find("input.btn-notips").attr("data-action","upload.cUpload"))}function i(){this.checked?(h.setTips(1),G.oldVersion=!0,$("#headerBatch .store").addClass("disabled"),report("clkNotRemind")):h.setTips(0)}function o(){$("#updateQQ").removeClass("open"),u.addUploadTask()}function r(){if(G.file.isFull)return reportNew("limitTip",{ver1:0}),g.show("alert","文件数已达到上限");"LI"===this.nodeName&&reportNew("blankRightMenuClick",{ver1:G.customMenuLength?1:2,ver2:G.info.isAdmin?1:2,ver3:1}),G.info.version<_?a():G.folderMap()&&Object.keys(G.folderMap()).length>0||"/"!==G.nowFolder?u.getBatchFiles():(report("clkUpload",G.module()),u.addUploadTask())}function l(e){if(b){var t=void 0;if("string"==typeof e?(report("clkUpload",1),t=e):t=G.folderTree&&G.folderTree.selected&&G.folderTree.selected.id||"/",$("#inputFolderNameInFolderTree").length>0)v["folderTree.create"](null,function(){t=G.folderTree.selected&&G.folderTree.selected.id||"/";u.batchUpload(t,JSON.stringify(b));b=null,m.panel.hideAll()});else{u.batchUpload(t,JSON.stringify(b));b=null,m.panel.hideAll()}}}function s(e,t){if(G.file.isFull)return reportNew("limitTip",{ver1:0}),g.show("alert","文件数已达到上限");if(t&&0!==t.length){var n=void 0;n=e;var a="上传到群文件？";if("/"!==n){a="上传到文件夹："+w.getData(n).fnameEsc+"？"}var i=u.confirm(1,"提示",a);if(0===i.errorCode&&i.ret){report("clkUpload",1);u.batchUpload(n,JSON.stringify(t));m.panel.hideAll()}}}function d(e){var t=e[0],n=e.length,a=t.lastIndexOf("\\"),i=t.substr(a+1);G.mac&&(a=t.lastIndexOf("/"),i=t.substr(a+1));var o=f.getFileName(i);return n>1?'<span class="name">'+o.filename_name+"</span><span>"+o.filename_suf+'</span>等<span class="blue">'+n+"</span>个文件":'<span class="name">'+o.filename_name+"</span><span>"+o.filename_suf+"</span>"}function p(e){if(b=e,"/"!==G.nowFolder)return void l(G.nowFolder);var t={title:"上传文件",firstFileName:d(e),action:"上传到：",destFolder:"群文件",okAction:"file.batchUpload"};m.showFolderTreePanel(t),$("#containerFolderTreePanel").find("#folderTreePanel").addClass("open"),report("folderTree",0)}function c(){report("clkUpdateQQ")}var f=n(19),u=n(3),m=($("#upload-panel"),{folderTree:n(23),showFolderTreePanel:n(10).showFolderTreePanel,panel:n(10)}),h=n(12),_=G.folderVersion,v=n(46),w=n(0),g=n(32),b=void 0;e.exports={batchuploadInFolder:s,upload:r,bupload:l,showUpload:p,noTips:i,cupload:o,update:c}},function(e,t,n){"use strict";function a(){var e=$.trim(i.find(".new-name").val()),t={parent_id:"/",name:e};l.createFolder(t).done(function(e){var t=d.filterFolder(e.folder_info);G.folderNum++,report("createFolderSuc"),d.addData(t),o.appendFold(t),s.hideAll(),c.trigger("toast.show",{type:"suc",text:"新建文件夹成功"}),p.init()}).fail(function(e){405===e.ec&&(G.canCreateFolder=!1),r.showError(e.ec,i),report("newFolderError")})}var i=$("#folderPanel"),o=n(5),r=n(25),l=n(2),s=n(10),d=n(0),p=n(24),c=$(G.handler);e.exports={createFolder:a}},function(e,t,n){"use strict";var a=n(2),i=n(183),o=$(G.handler),r=function(){a.checkVip().done(function(e){e&&e.vinfo&&e.vinfo.supervip?G.flagIsVip=!0:G.flagIsVip=!1,i.showQQVip()}).fail(function(e){i.showQQVip()})},l=function(){i.show(),o.trigger("menu.hide")},s=function(){report("openVip"),G.activeElement&&G.activeElement.focus(),window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")};e.exports={init:r,"vip.show":l,"vip.open":s}},function(e,t,n){"use strict";function a(e){var t=e.filepath,n=e.remoteType,a=e.fname,i=e.fp;i||(i=t.substr(4));var o=1==n?0:1,i=o+"<"+i+"<"+escape(a);return i}function i(e){for(var t="",n=0;n<e.length;n++)n>0&&(t+=":"),t+=a(e[n]);return t}var o=n(2),r={},l=$(G.handler);e.exports=r;r.getThumb=function(e,t){if(G.flagThumb){var n=i(e),a={id:Math.floor((new Date).getTime()/1e3),fp_list:n};o.getPreview(a).done(function(t){if(0===t.ec){t.address_list||(t.address_list=[]);for(var n=0,a=e.length;n<a;n++){var i=e[n],o=t.address_list[n];o.t=(new Date).getTime(),i&&(i.usedTime=0,G.previewCache[i.filepath]=o,i.previewObj=o,l.trigger("file.thumbUpdate",i))}}}).fail(function(e){})}},r.getOneThumb=function(e,t){var n=(new Date).getTime();try{if(n-e.previewObj.t<18e4&&e.usedTime<=3)return void t(e)}catch(e){console.log(e)}var i={id:Math.floor((new Date).getTime()/1e3),fp_list:a(e)};o.getPreview(i).done(function(n){if(0===n.ec){n.address_list||(n.address_list=[]);var a=n.address_list[0];a.t=(new Date).getTime(),e.usedTime=0,e.previewObj=a,t(e)}}).fail(function(e){})}},function(e,t,n){"use strict";function a(e,t){return"number"==typeof e.total&&r.setAllNum(e),r.setRole(e),r.setFileList(e.list)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(2),r=n(0),l={};e.exports=l,l.getRedPoint=function(e){return o.getRedPoint(e)};l.getList=function(e){e=e||{};var t=e.folderId||"/",n=e.filterUin||void 0,r=0,l=e.filterCode||0,s=!1,d=void 0,p=!1,c=!1,f=e.sort_by||!1,u=e.sort_order||!1;return function(m,h,_){if(!c){if(c=!0,s)return void h({ec:1e3,em:"no more items"});var v={folder_id:t,start_index:r,cnt:30,filter_uin:n,show_onlinedoc_folder:1};f&&u?(v.sort_by=f,v.sort_order=u):v.filter_code=l;var w=JSON.stringify(v)===d;if(d=JSON.stringify(v),p&&w)return void console.info("same params will be ignored");_&&_();var g=function(t){c=!1,p=!0;var n={list:t.file_list,total:t.total_cnt,totalSpace:t.total_space,usedSpace:t.used_space,userRole:t.user_role,openFlag:t.open_flag},i=r;t.file_list&&t.file_list.length&&(r+=t.file_list.length),0===t.next_index&&(s=!0),m(a(n,l)),(void 0===e.sort_by&&0===i||1===i)&&G.tab.resetTab()};"object"===("undefined"==typeof nodeData?"undefined":i(nodeData))?(g(nodeData),nodeData=!1):o.getFileList(v).done(function(e){g(e)}).fail(function(e){report("getListError"),c=!1,p=!1,h(e)})}}},l.getFileList=function(e){o.getFileList(e).done(function(e){if(0===e.total_cnt&&"/"===folderId)return void suc(!1);var t={list:e.file_list,total:e.total_cnt,totalSpace:e.total_space,usedSpace:e.used_space,userRole:e.user_role,openFlag:e.open_flag};e.file_list&&e.file_list.length&&(startIndex+=e.file_list.length),0===e.next_index&&(isEnd=!0),suc(a(t))}).fail(function(e){e.fc&&e.fc})},l.getFilesList=function(e){return e.show_onlinedoc_folder=1,o.getFileList(e)},l.setAllSpace=function(e,t){o.getSpace().done(function(t){var n={totalSpace:t.total_space,usedSpace:t.used_space};r.setAllSpace(n),e(t)}).fail(function(e){console.log(e)})}},function(e,t,n){"use strict";function a(e){if(!r){var t=o();$("body").append(t),r=$("#jubaoDom"),l=$("#jubaoIframe")}e&&(r.addClass("open"),l.attr("src",e).addClass("open"))}function i(){r&&(r.removeClass("open"),l.removeClass("open"))}var o=n(107),r=void 0,l=void 0;e.exports={show:a,hide:i}},function(e,t,n){"use strict";function a(){var e=l(G.info);d.html(e)}function i(){var e=r({mac:G.mac});d.html(e)}function o(e,t){var n={data:!1,list:!1,isUploader:!0};if(void 0!==t)if(t.hasOwnProperty("length")){n.list=t;var a=0;n.list.every(function(e){return G.info.uin!==e.uin&&a++,!0}),console.log(a,t.length),a===t.length&&(n.isUploader=!1)}else n.data=t,G.info.uin!==t.uin&&(n.isUploader=!1);console.log(n);var i=s(n);e.html(i)}var r=n(102),l=n(104),s=n(99),d=$("#fileMoreMenu");e.exports={renderFolder:a,renderFile:i,renderCustomMenu:o}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(124),n(172)},,,,function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="whole-row">&nbsp;</div>\r\n<div class="folder-info">\r\n    <span class="little-folder-icon"></span>\r\n    <span class="folder-name">'),__append(item&&item.fname),__append('</span>\r\n    <a href="javascript:void(0)" class="aria-hide" data-action="folderTree.select" role="treeitem" tabindex="1" data-id="'),__append(item.id),__append('" aria-label="选择文件夹:'),__append(item&&item.fname),__append('"></a>\r\n</div>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){__append('<ul class="primary-folder-list" data-action="file_active" role="tree">\r\n    <li class="folder-list-item" data-id="'),__append(topFolder.id),__append('" data-action="folderTree.select">\r\n        <div class="whole-row">&nbsp;</div>\r\n        <div class="folder-info">\r\n            <span class="little-folder-icon"></span>\r\n            <span class="folder-name">'),__append(topFolder.fname),__append('</span>\r\n            <a href="javascript:void(0)" class="aria-hide" data-action="folderTree.select" role="treeitem" tabindex="1" data-id="'),__append(topFolder.id),__append('" aria-label="选择文件夹:'),__append(topFolder.fname),__append('"></a>\r\n        </div>\r\n        <ul class="secondary-folder-list">\r\n            ');for(var key in items){var item=items[key];__append('\r\n                <li class="folder-list-item" data-action="folderTree.select" data-id="'),__append(escapeFn(item&&item.id)),__append('">\r\n                        <div class="whole-row">&nbsp;</div>\r\n                        <div class="folder-info">\r\n                            <span class="little-folder-icon"></span>\r\n                            <span class="folder-name">'),__append(item&&item.fname),__append('</span>\r\n                            <a href="javascript:void(0)" class="aria-hide" data-action="folderTree.select" role="treeitem" tabindex="1" data-id="'),__append(item.id),__append('" aria-label="选择文件夹:'),__append(item&&item.fname),__append('"></a>\r\n                        </div>\r\n                </li>\r\n            ')}__append("\r\n        </ul>\r\n    </li>\r\n</ul>")}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<li class="folder-list-item" data-id="new" data-action="folderTree.select">\r\n    <div class="whole-row">&nbsp;</div>\r\n    <div class="folder-info">\r\n        <span class="little-folder-icon"></span>\r\n        <input class="folder-name" id="inputFolderNameInFolderTree" value="新建文件夹" data-blur="createInputBlur" data-keyup="folderTree.create" autofocus="true">\r\n        <div class="bubble">\r\n            <span class="bot"></span>\r\n            <span class="top"></span>\r\n            文件夹名称中含有违禁词\r\n        </div>\r\n    </div>\r\n</li>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){__append('<a class="aria-hide aria-tips" tabindex="-1">右键菜单</a>\n<ul>\n');var data=locals.data,list=locals.list,isUploader=locals.isUploader;data||list?data?(__append("\n\t"),void 0!==data.othergroup?(__append('\n\t\t<li data-action="openGroupFile" data-uin="'),__append(data.gc),__append('" tabindex="-1">打开所在群</li>\n\t')):(__append("\n\t\t"),1===data.orcType?(__append("\n\t\t\t"),"pic"!==data.icon?(__append("\n\t\t\t\t<li "),__append(data.safeType?'class="disabled"':'data-action="file.downloadByMenu"'),__append(' aria-label="打开" data-path="'),__append(escapeFn(data.filepath)),__append('" tabindex="-1">打开</li>\n\t\t\t')):(__append("\n\t\t\t\t<li "),__append(data.safeType?'class="disabled"':'data-action="file.menupreview"'),__append(' aria-label="预览" tabindex="-1">预览</li>\n\t\t\t')),__append("\n\n\t\t\t<li "),__append(data.safeType?'class="disabled"':'data-action="batch.downloadAction"'),__append(' title="下载" tabindex="3" aria-label="下载文件" tabindex="-1">下载</li>\n\t\t\t<li '),__append(data.safeType?'class="disabled"':'data-action="file.saveAs"'),__append(' title="另存为" tabindex="3" aria-label="另存文件" tabindex="-1">另存为</li>\n\t\t\t'),G.mac||(__append("\n\t\t\t  <li "),__append(data.safeType?'class="disabled"':'data-action="file.forward"'),__append(' aria-label="转发" tabindex="-1">转发</li>\n\t\t\t  <li class="line '),data.safeType&&__append("disabled"),__append('" '),data.safeType||__append('data-action="file.forwardMobile"'),__append(' aria-label="转发到手机" tabindex="-1">发送到手机</li>\n\t\t\t')),__append("\n\t\t\t"),data.admin&&void 0===data.issearch&&(__append("\n\t\t\t\t<li "),__append(data.safeType||G.file.isTooMany?'class="disabled"':'data-action="file.showMove"'),__append(' aria-label="移动" tabindex="-1">移动到</li>\n\t\t\t')),__append("\n\t\t\t"),G.info.isAdmin&&data.temp&&(__append("\n\t\t\t\t<li "),__append(data.safeType?'class="disabled"':'data-action="file.permanent"'),__append(' aria-label="转存为永久文件" tabindex="-1" tabindex="-1">转存为永久文件</li>\n\t\t\t')),__append("\n\t\t\t<li "),__append(data.safeType||!G.info.isAdmin&&!isUploader?'class="disabled"':'data-action="file.showRename"'),__append(' aria-label="重命名" tabindex="-1">重命名</li>\n\t\t\t<li '),__append(G.info.isAdmin||isUploader?'data-action="file.delete"':'class="disabled"'),__append(' id="fileDelete" aria-label="删除" tabindex="-1">删除</li>\n\t\t\t<li data-action="file.jubao" aria-label="举报">举报</li>\n\t\t')):2===data.orcType&&(__append('\n\t\t\t<li class="line" data-action="folder.open" data-path="'),__append(escapeFn(data.id)),__append('" tabindex="-1">打开</li>\n\t\t\t<li '),__append(G.info.isAdmin?'data-action="folder.showRenameFolder"':'class="disabled"'),__append(' tabindex="-1">重命名</li>\n\t\t\t<li class="line" data-action="folder.property">文件夹属性</li>\n\t\t\t<li '),__append(G.info.isAdmin?'data-action="folder.showDeleteFolder"':'class="disabled"'),__append(' tabindex="-1">删除</li>\n\t\t')),__append("\n\t")),__append("\n")):list&&(__append('\n\t<li data-action="batch.downloadAction" title="下载" tabindex="3" aria-label="下载文件" tabindex="-1">下载</li>\n\t<li class="line" data-action="file.batchSaveAs" tabindex="-1" aria-label="另存为">另存为</li>\n\t<li '),__append(G.info.isAdmin||isUploader?'class="line" data-action="file.batchMove"':'class="line disabled"'),__append(' tabindex="-1" aria-label="移动到">移动到</li>\n\t<li '),__append(G.info.isAdmin||isUploader?'data-action="file.batchDelete"':'class="disabled"'),__append(' tabindex="-1" aria-label="删除">删除</li>\n')):(__append("\n\t<li "),__append(G.file.isTooMany?'class="disabled"':' data-action="file.upload"'),__append(' tabindex="-1">上传</li>\n\t'),G.canCreateFolder&&"/"===G.nowFolder&&(__append("\n\t<li "),__append(G.file.isTooMany?'class="disabled"':' data-action="folder.create"'),__append(' title="新建文件夹" tabindex="-1">新建文件夹</li>\n\t')),__append('\n\t<li data-action="menu.refresh" onclick="window.location.reload();" tabindex="-1">刷新</li>\n')),__append("\n</ul>\n")}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="files-empty"><div><div class="icons-empty"></div><div class="empty-desc">在这里，你可以把各种有趣的东西分享给大家</div></div></div>\n');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){var item=locals.item;__append('\t\t\t\t\r\n<i class="warn"></i>有'),__append(item.failedFileList.length),__append('个文件下载失败<i class="arrow"></i>\r\n<ul class="fail-list">\r\n\t');for(var j=0,m=item.failedFileList.length;j<m;j++)__append(" \r\n\t\t<li>"),__append(escapeFn(item.failedFileList[j].filename)),__append("</li>\r\n\t");__append("\r\n</ul>")}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t\t<li class="item with-icon-item disable" id="filePreview" data-action="file.menupreview" aria-label="预览"><span class="icons-preview"></span><span class="menu-item-label">预览</span></li>\n\t\t'),G.mac||__append('\n\t\t\t<li class="item" id="fileFoward" data-action="file.forward" aria-label="转发">转发</li>\n\t\t\t<li class="item" id="fileFowardTo" data-action="file.forwardMobile" aria-label="转发到手机" tabindex="1">转发到手机</li>\n\t\t'),__append('\n\t\t<li class="item save-as open-folder with-icon-item" id="fileOpenFolder" data-action="file.openFolderInBox" aria-label="在文件夹中显示" tabindex="1"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n\t\t<li class="gap" tabindex="1"></li>\n\t\t<li class="item rename" id="renameFile" data-action="file.showRename" aria-label="重命名" tabindex="1">重命名</li>\n\t\t<li class="item forever disable" id="foreverFile" data-action="file.permanent" aria-label="转存为永久文件" tabindex="-1">转存为永久文件</li>\n\t\t'),G.info.isAdmin&&__append('\n\t\t<li class="item" id="fileMove" data-action="file.showMove" aria-label="移动" tabindex="-1">移动</li>\n\t\t'),__append('\n\t\t<li class="item jubao" id="fileJubao" data-action="file.jubao" aria-label="举报" tabindex="1">举报</li>\n\t\t<li class="gap" tabindex="1"></li>\n\t\t<li class="item delete with-icon-item" data-action="file.delete" id="fileDelete" aria-label="删除" tabindex="1"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){var item=locals;__append('\r\n\r\n<div class="file-download file-status">\r\n  <div class="file-pres-status">\r\n    <span class="file-task-txt">'),__append(item.wording),__append('</span>\r\n    <div class="file-parents">\r\n      <div class="width" style="width:'),__append(item.cPercent),__append('%"></div>\r\n    </div>\r\n  </div>\r\n  <div class="file-status-action '),__append(item.styles),__append('">\r\n    <a class="pause" data-action="task.pause" title="暂停" aria-label="暂停任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n    <a class="resume" data-action="task.resume" title="启动" aria-label="启动任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n    <a class="continue" data-action="task.continue" title="续传" aria-label="续传任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n    <a class="remove" data-action="task.remove" title="删除" aria-label="删除任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n    <a class="miss-close" onclick="G.removeTaskInDownLoad('),__append(item.taskId),__append(","),__append(item.filepath),__append(')"></a>\r\n  </div>\r\n</div>')}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t\t<li class="download-item with-icon-item download-folder" id="folderDownloadLink" data-action="folder.download"><span class="icons-download"></span><span class="menu-item-label">下载</span></li>\n\t\t<li class="with-icon-item open-in-folder disable" id="showInFolderLink" data-action="folder.openfolder"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n\t\t'),locals.isAdmin&&__append('\n\t\t<li class="rename-item" id="folderRenameLink" data-action="folder.showRenameFolder">重命名</li>\n\t\t'),__append('\n\t\t<li class="property-item" id="folderPropLink" data-action="folder.property">文件夹属性</li>\n\t\t<li class="gap"></li>\n\t\t'),__append(locals.isAdmin?'\n\t\t<li class="delete-item with-icon-item" id="folderDeleteLink" data-action="folder.showDeleteFolder"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n\t\t':'\n\t\t<li class="item jubao" data-action="file.jubao" id="folderJubaoLink" aria-label="举报" tabindex="1">举报</li>\n\t\t'),__append("\n");return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<section class="file-list" id="'),__append(locals.id),__append('"></section>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t\t<div class="panel">\n\t\t\t<div class="panel-title">\n\t\t\t\t<i class="icons-qq"></i>\n\t\t\t\t<span>文件夹属性</span>\n\t\t\t\t<div class="close" data-action="panel.close"></div>\n\t\t\t</div>\n\t\t\t<div class="panel-body">\n\t\t\t\t<div class="panel-content">\n\t\t\t\t\t<div class="folder-property-top">\n\t\t\t\t\t\t<div class="files-folder filesmall-folder"></div>\n\t\t\t\t\t\t<div class="folder-title">\n\t\t\t\t\t\t\t<div class="folder-name">'),__append(locals.fname),__append('</div>\n\t\t\t\t\t\t\t<div class="folder-size">共'),__append(escapeFn(locals.filenum)),__append('个文件</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="folder-property-bottom">\n\t\t\t\t\t\t<div class="created-at">\n\t\t\t\t\t\t\t<span class="folder-property-label">创建时间:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(escapeFn(locals.ctStr)),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="creator">\n\t\t\t\t\t\t\t<span class="folder-property-label">创&nbsp;&nbsp;建&nbsp;&nbsp;人:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(locals.nick),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="updated-at">\n\t\t\t\t\t\t\t<span class="folder-property-label">最后更新时间:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(escapeFn(locals.mtStr)),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="updater">\n\t\t\t\t\t\t\t<span class="folder-property-label">最&nbsp;后&nbsp;更&nbsp;新&nbsp;人:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(locals.mnick),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<a href="javascript:void(0);" class="aria-hide" tabindex="3" aria-label="文件夹'),__append(locals.fname),__append("共"),__append(escapeFn(locals.filenum)),__append("个文件 创建时间:"),__append(escapeFn(locals.ctStr)),__append(" 创建人:"),__append(locals.nick),__append(" 最后更新人:"),__append(locals.mnick),__append('"></a>\n\t\t\t<a href="javascript:void(0);" class="aria-hide" data-action="panel.close" tabindex="3" aria-label="关闭文件夹属性窗口"></a>\n\t\t\t'),G.mac&&__append('\n\t\t\t\t<div class="panel-footer">\n\t\t\t\t\t<input aria-label="确定" type="submit" value="确定" class="btn-ok btn-common btn-right" data-action="panel.close" tabindex="2">\n\t\t\t\t</div>\n\t\t\t'),__append("\n\t\t</div>\n\n");return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('  <div class="panel-con jubao-panel" id="jubaoDom">\r\n    <iframe class="frame-jubao" id="jubaoIframe" frameborder="0" scrolling="no"></iframe>\r\n  </div>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel-overlay folder-tree-panel" id="folderTreePanel" role="panel">\r\n    <div class="panel">\r\n        <div class="panel-title">\r\n            <i class="icons-qq"></i><span>上传文件</span>\r\n            <div class="close" data-action="panel.close" data-dismiss="panel" aria-label="取消"></div>\r\n        </div>\r\n\t\t<div class="panel-body">\r\n            <div class="panel-content">\r\n                <div class="selected-files">\r\n                    <span class="file-name">\r\n                        '),__append(firstFileName),__append("\r\n                    </span>\r\n                    "),"undefined"!=typeof fileNum&&fileNum>1&&(__append('\r\n                        等<span class="file-number">'),__append(fileNum),__append("</span>个文件\r\n                    ")),__append('\r\n                </div>            \r\n                <div class="translateTo">\r\n                    <span class="translateTo-label">'),__append(action),__append('</span>\r\n                    <span class="little-folder-icon"></span>\r\n                    <div class="selected-folder-name" data-role="dest">\r\n                        '),__append(destFolder),__append('\r\n                    </div>\r\n                    <div class="aria-hide" id="targetFolderName" aria-live="assertive" aria-atomic="true" aria-relevant="all">\r\n                        <span>已选中文件夹</span>\r\n                        <span class="folder-name">'),__append(destFolder),__append('</span>\r\n                    </div>\r\n                </div>\r\n                <div class="folder-tree-box">\r\n                </div>\r\n            </div>           \r\n        </div>\r\n        <div class="panel-footer">\r\n            <input class="btn-create btn-common" type="submit" value="新建文件夹" data-action="folderTree.new" tabindex="1">\r\n            <input class="btn-no btn-common btn-right" type="submit" value="取消" data-action="panel.close" data-dismiss="panel" aris-label="取消移动文件" tabindex="1">\r\n            <input class="btn-ok btn-common btn-right" type="submit" value="确定" data-action="'),__append(okAction),__append('" aria-label="确定移动文件" tabindex="1">\r\n        </div>        \r\n    </div>\r\n</div>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){var group=locals.data;group.first&&(__append('\n\t<div class="group-title" data-gc="'),__append(escapeFn(group.gc)),__append('">\n\t\t'),group.self?(__append('\n\t\t\t<span class="group-name">本群搜索结果</span> <span>('),__append(escapeFn(group.total)),__append(")</span>\n\t\t")):(__append('\n\t\t\t<span class="group-name">'),__append(escapeFn(group.name)),__append("</span> <span>("),__append(escapeFn(group.total)),__append(")</span>\n\t\t")),__append("\n\t</div>\n")),__append('\n\t<div class="group-result group'),__append(escapeFn(group.gc)),__append('">\n');for(var i=0,l=group.list.length;i<l;i++){var item=group.list[i];__append('\n\t<div class="file list-item '),__append(escapeFn(item.icon)),__append(" "),2===item.remoteType&&__append("temp"),__append(" "),item.succ&&__append("succ"),__append('" id="search'),__append(escapeFn(item.domid)),__append('" data-path="'),__append(escapeFn(item.filepath)),__append('" '),locals.renderParams||(__append('id="'),__append(escapeFn(item.domid)),__append('"')),__append(" "),group.self?__append(item.preview?'data-dbaction="file.preview"':'data-dbaction="file.downloadByDom"'):(__append(' data-dbaction="openGroupFile" data-uin="'),__append(item.gc),__append('"')),__append(' data-action="list.select">\n\t\t<div class="item-name-wrap item-name-adjust" title="'),__append(item.fname),__append("&#10;创建时间："),__append(escapeFn(item.ctoStr)),__append('">\n\t\t\t<div class="item-name" tabindex="-1">\n\t\t\t\t<div class="file-icons" data-path="'),__append(escapeFn(item.filepath)),__append('" '),item.preview&&__append('data-dbaction="file.preview"'),__append('>\n\t\t\t\t\t<div class="filev3-'),__append(escapeFn(item.icon)),__append(" "),item.previewObj&&__append("thumb"),__append(' drag-dom" '),item.previewObj&&(__append('style="background-image:url('),__append(escapeFn(item.previewObj.url)),__append(');"')),__append('></div>\n\t\t\t\t\t<i class="icons-check"></i>\n\t\t\t\t</div>\n\t\t\t\t<span class="name drag-dom">'),__append(item.name),__append(item.suf),__append("</span>\n\t\t\t</div>\n\t\t\t"),(item.canEdit||2===item.remoteType)&&(__append('\n\t\t\t\t<div class="item-tags">\n\t\t\t\t\t'),item.canEdit&&__append('<span class="can-edit"></span>'),__append("\n\t\t\t\t\t"),2===item.remoteType&&__append('<span class="tmp"></span>'),__append("\n\t\t\t\t\t&nbsp;\n\t\t\t\t</div>\n\t\t\t")),__append('\n\t\t</div>\n\t\t<div class="item-time" title="上传时间：'),__append(escapeFn(item.ctStr)),__append('">\n\t\t\t<span class="drag-dom">\n\t\t\t'),group.self,__append("\n\t\t\t\t"),__append(escapeFn(item.ctStr)),__append("\n\t\t\t"),__append('\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="item-size" title="文件大小：'),__append(escapeFn(item.sizeStr)),__append('">\n\t\t\t<span class="drag-dom">'),__append(escapeFn(item.sizeStr)),__append('</span>\n\t\t</div>\n\t\t<div class="item-user" title="上传者：'),__append(item.nick),__append(" ("),__append(escapeFn(item.uin)),__append(')"><span class="drag-dom">'),__append(item.nick),__append('</span></div>\n\t\t<div>\n\t\t\t<div tabindex="3" aria-label="名称:'),__append(escapeFn(item.fname)),__append(",文件类型:"),__append(escapeFn(item.filetype)),__append(",大小:"),__append(escapeFn(item.sizeStr)),__append(",下载次数:"),__append(escapeFn(item.down)),__append("次,上传人:"),__append(escapeFn(item.nick)),__append(",上传时间:"),__append(escapeFn(item.ctStr)),item.succ&&__append(",该文件已下载"),__append('"></div>\n\t\t\t'),group.self||(__append('\n\t\t\t\t<a role="button" data-action="openGroupInfoCard" data-uin="'),__append(item.gc),__append('" class="aria-hide" tabindex="3">打开'),__append(item.gname),__append("</a>\n\t\t\t")),__append('\n\t\t</div>\n\t\t<div class="item-source">\n\t\t\t<span>\n\t\t\t'),group.self?__append("\n\t\t\t\t&nbsp;\n\t\t\t"):(__append('\n\t\t\t\t<span class="group-code" title="来源:'),__append(item.gname),__append('" data-action="openGroupInfoCard" data-uin="'),__append(item.gc),__append('">'),__append(item.gname),__append("</span>\n\t\t\t")),__append("\n\t\t\t</span>\n\t\t</div>\n\t</div>\n")}__append("\n\t</div>\n")}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){for(var i=0,l=locals.list.length;i<l;i++){var item=locals.list[i];if(__append('\r\n<div class="file2 file2-2 '),__append(item.styles),__append('" data-path="'),__append(item.filepath),__append('" data-id="'),__append(item.id),__append('" data-folder="'),__append(item.folderpath),__append('" data-name="'),__append(item.filename||item.fname),__append('" '),"complete"===item.styleStatus&&__append('data-action="task.openFolder"'),__append('>\r\n\t<div class="file-icon">\r\n\t\t<div class="filesmall-'),__append(item.icon),__append('"></div>\r\n\t\t<i></i>\r\n\t</div>\r\n\t<div class="file-info">\r\n\t\t<div class="filename">\r\n\t\t\t<div class="name">'),__append(item.name),__append("</div>\r\n\t\t\t"),1===item.orcType&&(__append('\r\n\t\t\t\t<div class="suffix">'),__append(item.suf),__append("</div>\r\n\t\t\t")),__append('\r\n\t\t</div>\r\n\t\t<div class="loading">\r\n\t\t\t<div class="bar" style="width:'),__append(item.cPercent),__append('%;"></div>\r\n\t\t</div>\r\n\t\t'),item.failedFileList&&item.failedFileList.length>0){__append('\r\n\t\t\t<div class="wording" data-action="task.openfail">\r\n\t\t\t\t<i class="warn"></i>有'),__append(item.failedFileList.length),__append('个文件下载失败<i class="arrow"></i>\r\n\t\t\t\t\t<ul class="fail-list">\r\n\t\t\t\t\t\t');for(var j=0,m=item.failedFileList.length;j<m;j++)__append(" \r\n\t\t\t\t\t\t\t<li>"),__append(escapeFn(item.failedFileList[j].filename)),__append("</li>\r\n\t\t\t\t\t\t");__append("\r\n\t\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t")}else __append('\r\n\t\t\t<div class="wording">'),__append(item.wording),__append("</div>\t\t\r\n\t\t");__append('\r\n\t</div>\r\n\t<div class="file-action">\r\n\t\t<div class="aria-hide">\r\n\t\t\t<a class="aria-tips" tabindex="-1">\r\n\t\t\t\t'),1===item.orcType?(__append("\r\n\t\t\t\t\t文件"),__append(escapeFn(item.name)),__append(item.suf),__append("\r\n\t\t\t\t")):(__append("\r\n\t\t\t\t\t文件夹"),__append(escapeFn(item.name)),__append("\r\n\t\t\t\t")),__append("\r\n\t\t\t\t 状态:"),__append(item.wording),__append(" 任务进度"),__append(item.cPercent),__append('% \r\n\t\t\t</a>\r\n\t\t</div>\r\n\t\t<a href="javascript:void(0)" class="seat" tabindex="-1"></a>\r\n\t\t<a class="pause" data-action="task.pause" title="暂停" aria-label="暂停任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n\t\t<a class="resume" data-action="task.resume" title="启动" aria-label="启动任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n\t\t<a class="continue" data-action="task.continue" title="续传" aria-label="续传任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n\t\t<a class="remove" data-action="task.remove" title="删除" aria-label="删除任务 '),__append(escapeFn(item.name)),__append('" tabindex="-1"></a>\r\n\t\t<a class="ok-upload"></a>\r\n\t\t<a class="ok-download"></a>\r\n\t\t<a class="go-folder" data-action="task.openFolderIco" title="打开该文件所在的文件夹" arir-label="打开'),__append(escapeFn(item.name)),__append('所在的文件夹" tabindex="3"></a>\r\n\t</div>\r\n\t<div></div>\r\n</div>\r\n')}__append(" ")}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t<div class="toast-overlay" id="toastDom" aria-describedby="toastText" tabindex="-1">\r\n\t\t<div class="toast" id="toastInfo">\r\n\t\t\t<div class="icons-'),__append(locals.cls),__append(' toast-icon"></div>\r\n\t\t\t<div class="toast-message" id="toastText">'),__append(locals.text),__append("</div>\r\n\t\t</div>\r\n\t</div>");return __output.join("")}},,,,,,,,,,,,,function(e,t){},,,function(e,t,n){"use strict";n(128)},function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}function a(){var e,t,n,a=window.webkitPerformance?window.webkitPerformance:window.performance,i=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];if(a&&(e=a.timing)){e.domContentLoadedEventStart||i.splice(15,2,"domContentLoadedStart","domContentLoadedEnd");var o=[];for(n=0,t=i.length;n<t;n++)o[n]=e[i[n]];QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:1,speedTime:o})}}function i(){var e=/\/\/(s[\d]*\.url\.cn|[\w\.\d]*\.qq.com|report\.url\.cn|pub\.idqqimg\.com)/i;if(window.performance&&window.performance.getEntries){for(var t=window.performance.getEntries(),n=!1,a=0,i=t.length;a<i;a++){var o=t[a].name;e.test(o)||(n=!0,QReport.monitor(2154095))}G.checkHttps&&G.checkHttps()&&n?QReport.monitor(2442389):n&&("isLocal"===localVersion?QReport.monitor(2442390):QReport.monitor(2442388))}}var o=n(37),r=t(o),l=n(7);window.QReport=r.default;var s={enter:{monitor:2057388,mac:2162523,tdw:["home","exp"]},clkGroupFile:{monitor:2057389,tdw:["home","Clk_grpfiles"]},clkFiles:{monitor:2057390,tdw:["home","Clk_files"]},openVip:{monitor:2057391,tdw:["home","Clk_open"]},clkFeed:{monitor:2057392,tdw:["home","Clk_feed"]},clkRefresh:{monitor:2057393,tdw:["home","Clk_refresh"]},forward:{monitor:0,tdw:["home","Clk_towards_mac"]},back:{monitor:0,tdw:["home","Clk_back"]},folder:{monitor:2057394,tdw:["file","exp"]},propFolder:{monitor:2057401,tdw:["file","Clk_property"]},folderBtnShow:{monitor:2057396,tdw:["file","exp_create"]},clkCreateFolder:{monitor:2057397,tdw:["file","Clk_create"]},createFolderSuc:{monitor:2057398,tdw:["file","create_suc"]},renameFolder:{monitor:2057400,tdw:["file","Clk_rename"]},clkFolderMore:{monitor:2057399,tdw:["file","Clk_more"]},downloadFolder:{monitor:2057399,tdw:["file","Clk_down"]},deleteFolder:{monitor:2057402,tdw:["file","Clk_delete"]},returnHome:{monitor:2057395,tdw:["file","Clk_home"]},folderTree:{monitor:2057403,tdw:["file","exp_select"]},createFolderInTree:{monitor:2057404,tdw:["file","select_create"]},createFolderInTreeSuc:{monitor:2057405,tdw:["file","select_suc"]},memberFileShow:{monitor:2057406,tdw:["mber_file","exp"]},memberClkFolder:{monitor:2057407,tdw:["mber_file","Clk_name"]},memberReturnHome:{monitor:2057408,tdw:["mber_file","Clk_home"]},uploadShow:{monitor:2057409,tdw:["oper_file","exp_button"]},clkUpload:{monitor:2057410,tdw:["oper_file","Clk_button"]},clkFolder:{monitor:2057411,tdw:["oper_file","Clk_category"]},showOpenFile:{monitor:2057412,tdw:["oper_file","exp_open"]},clkOpenFile:{monitor:2057413,tdw:["oper_file","Clk_open"]},showDownloadBtn:{monitor:2057414,tdw:["oper_file","exp_download"]},clkDownloadBtn:{monitor:2057415,tdw:["oper_file","Clk_download"]},showSeeBtn:{monitor:2057416,tdw:["oper_file","exp_see"]},clkShowBtn:{monitor:2057417,tdw:["oper_file","Clk_see"]},clkMore:{monitor:2057418,tdw:["oper_file","Clk_more"]},clkUnMore:{monitor:2057419,tdw:["oper_file","Clk_un_more"]},clkSaveAs:{monitor:2057420,tdw:["oper_file","Clk_save"]},clkRepost:{monitor:2057421,tdw:["oper_file","Clk_repost"]},clkPhone:{monitor:2057422,tdw:["oper_file","Clk_phone"]},clkRenameFile:{monitor:2057423,tdw:["oper_file","Clk_rename"]},clkForever:{monitor:2057424,tdw:["oper_file","Clk_forever"]},clkJubao:{monitor:2057425,tdw:["oper_file","Clk_report"]},clkDeleteFile:{monitor:2057426,tdw:["oper_file","Clk_delete"]},clkShowInFolder:{monitor:2057427,tdw:["oper_file","Clk_show"]},showSelectAll:{monitor:2057428,tdw:["all_oper","exp_box"]},clkSelectAll:{monitor:2057429,tdw:["all_oper","Clk_select"]},showBatch:{monitor:2057430,tdw:["all_oper","exp_mode"]},clkBatch:{monitor:2057431,tdw:["all_oper","Clk_all"]},batchSaveAs:{monitor:2057432,tdw:["all_oper","Clk_save"]},batchDownload:{monitor:2057433,tdw:["all_oper","Clk_download"]},batchDelete:{monitor:2057434,tdw:["all_oper","Clk_delete"]},batchDeleteSuc:{monitor:2057435,tdw:["all_oper","suc_delete"]},batchMove:{monitor:2057436,tdw:["all_oper","Clk_move"]},batchMoveSuc:{monitor:2057437,tdw:["all_oper","suc_move"]},showTask:{monitor:2057438,tdw:["task","exp"]},clkTask:{monitor:2057439,tdw:["task","Clk_task"]},showOneTask:{monitor:2057440,tdw:["task","exp_category"]},clkTaskName:{monitor:2057441,tdw:["task","Clk_name"]},showTaskShow:{monitor:2057442,tdw:["task","exp_see"]},clkTaskShow:{monitor:2057443,tdw:["task","Clk_see"]},showTaskPause:{monitor:2057444,tdw:["task","exp_start"]},clkTaskPause:{monitor:2057445,tdw:["task","Clk_stop"]},showTaskDelete:{monitor:2057446,tdw:["task","exp_delete"]},clkTaskDelete:{monitor:2057447,tdw:["task","Clk_delete"]},taskExp:{monitor:2057448,tdw:["task","exp_tips"]},clkTaskExp:{monitor:2057449,tdw:["task","Clk_tips"]},showSearchBtn:{monitor:2057450,tdw:["search","exp_button"]},clkSearchBtn:{monitor:2057451,tdw:["search","Clk_button"]},doSearch:{monitor:2057452,tdw:["search","Clk_search"]},showSearchRes:{monitor:2057453,tdw:["search","exp_result"]},clkSearchRes:{monitor:2057454,tdw:["search","Clk_result"]},clkSearchName:{monitor:2057455,tdw:["search","Clk_name"]},showFolderMove:{monitor:2057456,tdw:["oper_file","exp_move"]},clkFolderMove:{monitor:2057457,tdw:["oper_file","Clk_move"]},moveFileSuc:{monitor:2057458,tdw:["oper_file","move_suc"]},showOldVersion:{monitor:2057459,tdw:["oper_file","exp_upgradetips"]},clkUpdateQQ:{monitor:2057460,tdw:["oper_file","Clk_upgrade"]},clkNotRemind:{monitor:2057461,tdw:["oper_file","Clk_nomoreremind"]},showMoveFail:{monitor:2057462,tdw:["oper_file","exp_movefail"]},delFolderSuc:{monitor:2057463,tdw:["oper_file","delete_suc"]},jsError:{monitor:2069233},getListError:{monitor:2069234},delFileError:{monitor:2069235},moveFileError:{monitor:2069236},renameFileError:{monitor:2069237},newFolderError:{monitor:2069238},renameFolderError:{monitor:2069239},delFolderError:{monitor:2069240},cgiTimeout:{monitor:2069241},offlinePage:{monitor:2069242},nodePage:{monitor:2069243},folderNum:{tdw:["file","exp_folder"]},imgurl:{monitor:2200307},expnew:{monitor:2227445},newFileShow:{tdw:["file_single","exp"],monitor:2227391},doubleClickFile:{tdw:["file_single","Clk_open"],monitor:2227392},fileRightMenuShow:{tdw:["file_single","exp_right"],monitor:2227393},fileRightMenuClick:{tdw:["file_single","Clk_option"],monitor:2227394},folderShow:{tdw:["file_pack","exp"],monitor:2227395},doubleClickFolder:{tdw:["file_pack","Clk_open"],monitor:2227396},folderRightMenuShow:{tdw:["file_pack","exp_right"],monitor:2227397},folderRightMenuClick:{tdw:["file_pack","Clk_option"],monitor:2227398},blankRightMenuShow:{tdw:["blank","exp_right"],monitor:2227399},blankRightMenuClick:{tdw:["blank","Clk_option"],monitor:2227400},chooseRightMenuShow:{tdw:["choose","exp_right"],monitor:2227401},chooseRightMenuClick:{tdw:["choose","Clk_option"],monitor:2227402},chooseDrag:{tdw:["choose","Clk_drag"],monitor:2227403},chooseDragSinge:{tdw:["drag","Clk_drag"],monitor:2227404},wayNext:{tdw:["way","next"],monitor:2227405},wayPrev:{tdw:["way","previous"],monitor:2227406},wayRoot:{tdw:["way","Clk_root"],monitor:2227407},fileDownload:{monitor:2366515,tdw:["oper_file","down_in"]},blackExp:{monitor:2370085,tdw:["black","exp_foul"]},blackTips:{monitor:2370086,tdw:["black","exp_tip"]},blackDelete:{monitor:2370087,tdw:["black","delete"]},adjustTab:{tdw:["home","oper_title"],monitor:2374983},guideExp:{tdw:["new_guide","exp"],monitor:2387418},guideRemove:{tdw:["new_guide","remove"],monitor:2387419},limitOver:{tdw:["multi","limit_over"],monitor:2404320},limitTip:{tdw:["multi","limit_tip"],monitor:2404321},showLimit:{tdw:["multi","show_limit"],monitor:2404322},cleanEntry:{tdw:["multi","clean_entry"],monitor:2404323},clickClean:{tdw:["multi","clear_but"],monitor:2404324},changeHand:{tdw:["multi","grp_hand"],monitor:2404325},sortFile:{tdw:["home","rank_title"],monitor:2404326},httpssuc:{monitor:2442360},httpsfail:{monitor:2442361},httpsall:{monitor:2442382},httptimeerr:{monitor:2447218},oldJump:{monitor:2447219},openOnlineDocs:{docs:!0,tdw:{act_type:278,report_type:101,platform:8,intext_3:3}},showRedPoint:{docs:!0,tdw:{act_type:278,report_type:101,platform:8,intext_3:3}}},d="Grp_pcfiles";window.addEventListener("load",function(){a(),i()}),window.addEventListener("error",function(){report("jsError")});var p=l.getParameter("gid");window.speedReport=function(e){var t="//isdspeed.qq.com/cgi-bin/r.cgi?flag=7832&flag2=89&flag3=2";for(var n in e)t+="&"+n+"="+e[n];(new Image).src=t},window.reportNew=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s[t]){var a=s[t];if(a.monitor&&QReport.monitor(a.monitor),a.mac&&QReport.monitor(a.mac),G.module&&(e=G.module()),a.tdw){var i={};a.docs?(i=a.tdw,QReport.tdw(i,!0,"dc00290")):(i={obj1:p,opername:d,module:a.tdw[0],action:a.tdw[1]},G.mac&&(i.action=a.tdw[1]+"_mac"),i=$.extend(i,n),QReport.tdw(i))}}},window.report=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6],arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(s[t]){var i=s[t];if(i.monitor&&QReport.monitor(i.monitor),i.mac&&QReport.monitor(i.mac),G.module&&(e=G.module()),i.tdw){var o={obj1:p,opername:d,module:i.tdw[0],action:i.tdw[1],table:"dc00141"};G.mac&&(o.action=i.tdw[1]+"_mac"),n>=0&&(o.ver1=n),a&&(o.ver2=a),QReport.tdw(o)}}}}).call(t,n(60)(e))},function(e,t,n){"use strict";function a(){m=p.getCookie("skey");for(var e=5381,t=0,n=m.length;t<n;++t)e+=(e<<5)+m.charCodeAt(t);return 2147483647&e}function i(){var e=p.getCookie("uin");return e?(e+="",e.replace(/^[\D0]+/g,"")):0}function o(e){return!1}function r(e){var t;t=e<500?2220106:e<2e3?2220107:e<4e3?2220108:e<6e3?2220109:e<8e3?2220110:e<1e4?2220111:e<12e3?2220112:e<15e3?2220113:e<2e4?2220114:e<25e3?2220115:e<3e4?2220116:e<4e4?2220117:e<5e4?2220118:e<6e4?2220119:2220120,QReport.monitor(t)}function l(e,t){var n={get_vip_info:3,checkAuditFlag:4,get_file_list:5,get_group_space:6,move_file:7,rename_file:8,create_folder:9,rename_folder:10,delete_folder:11,thumbnail:12},a=e.split("/"),i=n[a[a.length-1]];i&&QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:i,speedTime:t})}function s(e,t){if(f){0===e.indexOf("//")&&(e=G.checkHttps&&G.checkHttps()?"https:"+e:"http:"+e);var n=e.substr(0,e.indexOf("?"));if(e.indexOf("?")<0&&(n=e),$.inArray(e,_)<0){if(!f.getEntriesByName)return;var a=f.getEntriesByName(e)[0];if(!a)return;_.push(e);var i={1:a.redirectEnd-a.redirectStart,2:a.domainLookupStart-a.fetchStart,3:a.domainLookupEnd-a.domainLookupStart,4:a.connectEnd-a.connectStart,5:a.responseStart-a.requestStart,6:a.responseEnd-a.responseStart,7:a.responseEnd-a.startTime,8:a.fetchStart,9:a.domainLookupStart};l(n,i),i.url=e,r(i[2]),i[2]>5e3&&QReport.monitor(2220299)}}}function d(e,t,n){var a=Date.now();t=t||e.responseURL,e.done(function(o){QReport.retcode({url:t,type:1,code:o.ec,time:Date.now()-a,rate:1}),setTimeout(function(){s(t,e)},100),1==o.ec&&console.log("1","缺少登录态"),c.printLog(JSON.stringify({url:t,retcode:o.ec,uin:i(),opts:n}))}).fail(function(e,o){s(t);var r={status:e.status,statusText:e.statusText};"timeout"==o&&(r.status=999,r.statusText="timeout");var l=r.status;QReport.retcode({url:t,type:9999===l?3:2,code:l,time:Date.now()-a,rate:1}),c.printLog(JSON.stringify({url:t,retcode:l,uin:i(),opts:n}));try{Raven.captureException(JSON.stringify({url:t,err:r,uin:i()}))}catch(e){}})}var p=n(7),c=n(3),f=window.performance,u={};e.exports=u;p.getParameter("gc");u.getToken=a;var m=p.getCookie("skey"),h=(i(),p.getParameter("groupuin"),a()),_=[];u.ajax=function(e){var t={type:"GET",dataType:"json",data:{src:"qpan",gc:e&&e.data&&e.data.gc||p.getParameter("groupuin")},xhrFields:{withCredentials:!0},success:function(e,t,n){}};h&&(t.data.bkn=a()),$.extend(!0,t,e),t.headers={"Cache-Control":"no-cache,no-store"},"GET"===t.type&&(t.url.indexOf("?")<0?t.url+="?"+$.param(t.data):t.url+="&"+$.param(t.data),t.url+="&_ti="+(new Date).getTime(),delete t.data);var n=$.ajax(t);return d(n,t.url,t),{done:function(e){var a=0;return function e(n,i){n.done(function(e){0==e.ec&&i(e)}),n.fail(function(){a>=1||o(t.url)||(a++,n=$.ajax(t),d(n,t.url),e(n,i))})}(n,e),this},fail:function(e){var a=0;return function e(n,i){n.done(function(e){0!=e.ec&&i(e)}),n.fail(function(o,r){if(a>=0)return"timeout"==r?(report("cgiTimeout"),i({ec:504,msg:r})):i({ec:o.status});a++,n=$.ajax(t),d(n,t.url),e(n,i)})}(n,e),this},timeout:function(e){return n.fail(function(t,n){"timeout"==n&&e({ec:504,msg:n})}),this},always:function(e){return n.always(e),this},then:function(){return n.then.apply(n,arguments),this}}},u.bkn=h},function(e,t,n){"use strict";function a(e){return!!(d.errorCfgPrefix[e.type]+"-"+e.status in d.errorCfg&&d.errorCfg)}function i(e){if(!e||!e.type||!e.status)return"";var t=d.errorCfgPrefix[e.type]+"-"+e.status;return t in d.errorCfg?"upload-uploadsecurityfail"===t&&d.securityattriMap[e.securityattri]?d.securityattriMap[e.securityattri]:d.errorCfg[t]:void 0}function o(e,t){return d.wordingMap[e][t]}function r(e,t){return d.styleMap[e][t]}function l(e){return d.typeMap[e]}function s(e,t){if(!e)return!1;d.wordingMap[e]||console.warn("设置wording 未知任务类型=["+e+"]"),d.wordingMap[e][t]||console.warn("设置wording 未知任务状态=["+t+"]"),d.styleMap[e][t]||console.warn("设置样式 未知任务状态=["+t+"]")}var d=n(40);e.exports={check:s,getType:l,getWord:o,getClass:r,ifError:a,getErrorWord:i}},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(n(44),n(42)),o=n(47),r=n(5);G.initInFolder=!1;var l=function(e){try{G.setHistory({action:"fileList",params:{fid:"/",fname:!1}})}catch(e){}if(""===e)r.init();else try{e=JSON.parse(e)}catch(e){return void r.init()}if(e.params&&e.params.fid){var t=e.params;t="object"===(void 0===t?"undefined":a(t))?t:{};var n=t.fid;G.initInFolder=n,r.init(!0),r.getList({folderId:n,fname:t.fname})}else if("search"===e.action){var l=e.params;l="object"===(void 0===l?"undefined":a(l))?l:{};var s=l.keyword;$("#inputSearch").val(s);var d=l.files[0];o.search(void 0,function(e){var t=!0,n=!1;return function(){if(t&&(i["file.getAttr"](e,s),t=!1),!n){("/"+e.busId+e.fileId).replace(/\//gi,"-");n=!0}}}(d))}else r.init()};!function(){window.addEventListener("storage",function(e){if("notifyOtherGroup"===e.key){var t={};try{t=JSON.parse(e.newValue)}catch(e){return void console.log("decode JSON fail")}if(t.gc===G.info.gc){var n=t.webParams;l(n)}}})}();e.exports={action:l}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=$(this).data("keyup");if(t){var n=w[t];"function"==typeof n&&n.call(this,e)}}function o(e){var t=$(this).data("keydown");if(t){var n=w[t];"function"==typeof n&&n.call(this,e)}}function r(e){var t=$(this).data("blur");if(t){var n=w[t];"function"==typeof n&&n.call(this,e)}}function l(e){var t=$(this).data("hover");if(t){var n=w[t];"function"==typeof n&&n.call(this,e)}}function s(){this.inputStart=!0}function d(){var e=this;setTimeout(function(){e.inputStart=!1},200)}function p(e){var t=$(e.target);0===t.parents("#box").length&&"box.toggle"!==t.data("action")&&y.trigger("box.hide"),$(".error-message").hide()}function c(e){var t=$(this).data("focus");if(t){var n=w[t];"function"==typeof n&&n.call(this)}}function f(e){var t=$(this).data("action");if(t){var n=w[t];"function"==typeof n&&n.call(this),"openGroupInfoCard"===t&&e.stopPropagation()}else y.trigger("box.hide")}function u(e){var t=$(this).data("dbaction");if("INPUT"!==e.target.nodeName)if(t){var n=w[t];"function"==typeof n&&n.call(this)}else y.trigger("box.hide")}function m(){v.init(),$(document).on("click","[data-action]",f),$(document).on("dblclick","[data-dbaction]",u),$("body").on("click",p),$(document).on("keyup","[data-keyup]",i),$(document).on("keydown","[data-keydown]",o),$(document).on("focus","[data-focus]",c),$(document).on("blur","[data-blur]",r),$(document).on("mouseenter","[data-hover]",l),$(document).on("compositionstart","[data-cstart]",s),$(document).on("compositionend","[data-cend]",d),$("body").on("click",function(e){g["menu.hide"](e.target),3!==G.module()&&w["search:hide"]()}),$(window).on("load",function(){$(".scroll-dom").scroll(function(){document.querySelector(".scroll-dom").scrollHeight-($(".scroll-dom").scrollTop()+$(".scroll-dom").height())<=30&&G.scrollHandler&&G.scrollHandler.getData()})})}var h=n(169),_=(a(h),n(41)),v=a(_),w=n(171).getHandlerTasks(),g=n(22),b=n(170),y=(n(144),$(G.handler));G.tab=b,e.exports={init:m}},function(e,t,n){"use strict";var a=n(134),i=n(136),o=n(135),r=n(138),l=n(140),s=n(141),d=(n(139),n(20)),p=n(137),c=n(142);e.exports={"box.toggle":a.toggle,"task.continue":i.continueUpload,"task.pause":r.pause,"task.remove":l.remove,"task.resume":s.resume,"task.clear":o.clear,"task.openFolder":d.openByBox,"task.openFolderIco":d.openFolderByBoxIco,"tips.close":c.closeTips,"tips.refesh":c.refeshVip,"tips.con":c.conVip,"tips.vipOk":c.vipTipsOk,"tips.vipCancel":c.vipTipsCancel,"tips.open":c.openVip,"task.clearHistory":o.clear,"task.openfail":p.toggle}},function(e,t,n){"use strict";function a(){report("clkTask"),p?o():(i(),r.removePoint())}function i(){report("showTask"),c||r.firstRender(),c=!0,p=!0,s.addClass("open"),$("#boxTitle a").focus(),l.changeBoxTabIndex()}function o(){p=!1,s.removeClass("open"),l.removeBoxTabIndex(),G.activeElement&&G.activeElement.focus()}var r=n(14),l=n(62),s=$("#box"),d=$(G.handler),p=!1,c=!1;d.bind("box.hide",o),e.exports={toggle:a}},function(e,t,n){"use strict";function a(){var e=$(this.parentNode.parentNode),t=e.data("path");r.getFile(t);r.clearComplete(),o.clearComplete(),i.clearClist(),l.clearClist()}var i=n(3),o=n(14),r=n(0),l=n(12);e.exports={clear:a}},function(e,t,n){"use strict";function a(e){var t=$(this).parents(".list-item"),n=t.data("path"),a=o.getTask(n);n=a.filepath;var r=a.remoteType||1,l=a.localpath,s=a.fnameEsc||a.fname;if(a){i.addContinueUploadTask(n,l,s,r);$("#boxTitle a").focus()}}var i=n(3),o=n(0);e.exports={continueUpload:a}},function(e,t,n){"use strict";function a(){this.classList.contains("open")?this.classList.remove("open"):(report("clkTaskExp"),this.classList.add("open"))}e.exports={toggle:a}},function(e,t,n){"use strict";function a(){var e=$(this).parents(".list-item"),t=e.data("path"),n=e.data("id"),a=o.getTask(n,t);console.debug("pause task",a);i.pauseTask(n);$("#boxTitle a").focus(),report("clkTaskPause",void 0===a.downloadtasktype?0:1)}var i=n(3),o=n(0);e.exports={pause:a}},function(e,t,n){"use strict";function a(){p&&(clearTimeout(p),p=0)}function i(){p||o()}function o(){var e=r.getTaskListAdv(),t=!1;if(e.empty&&"ok"===e.status)a();else for(var n=/progress|ready|scan|geturl/gi,i=s.cleanMap(e.map),c=0,f=i.length;c<f;c++){var u=i[c];d.trigger("client.updateTask",u),n.test(u.status)&&(t=!0)}t?p=setTimeout(o,l):(console.log("do stop refresh!"),a())}var r=n(3),l=n(40).refreshTime,s=n(17),d=$(G.handler),p=0;$(G.handler).bind("task.startRefresh",i),$(G.handler).bind("task.stopRefresh",a)},function(e,t,n){"use strict";function a(){var e=$(this).parents(".list-item"),t=e.data("id"),n=e.data("path"),a=l.getTask(t);a||(a=l.getTask(n)),a?p(a):(a=l.getData(n),console.debug("remove :",a),p(a))}function i(e,t){var n=l.getTask(e);n||(n=l.getTask(t)),p(n)}var o=n(3),r=(n(7),n(2)),l=n(0),s=(n(14),n(5)),d=$(G.handler),p=function(e){var t=e.type,n=!0,a=e.filepath;report("clkTaskDelete"),$("#boxTitle a").focus();var i=e.taskId||e.id;if(i){o.removeTask(i);n=!0}if(n){if(1===e.orcType&&(e.id&&l.remove(e.id),"download"!==e.type&&l.remove(e.filepath)),e.status="remove",t&&t.indexOf("upload")>=0)if(console.debug("remove task",e),a){var p=a.substr(4),c=a.substr(1,3),f={app_id:G.appid,bus_id:parseInt(c),file_id:p,parent_folder_id:G.nowFolder};r.deleteFile(f).done(function(t){l.remove(e),s.removeRow(e)}).fail(function(e){e.fc&&e.fc})}else d.trigger("client.updateTask",e);else if("download"===t){o.removeCompleteTask(e.id);var u=l.getData(a);u&&(u.isDowning=!1),s.updateRow(u),console.debug("remove task : ",e)}o.clearClist()}};G.removeTaskInDownLoad=i,d.bind("task.removeOne",function(e,t){o.removeTask(t)}),e.exports={remove:a,removeByDownLoad:i}},function(e,t,n){"use strict";function a(){var e=$(this).parents(".list-item"),t=e.data("path"),n=o.getTask(t),a=e.data("id"),r=n.id;r||(n.id=a,r=a);i.resumeTask(r);report("clkTaskPause"),$("#boxTitle a").focus()}var i=n(3),o=n(0);e.exports={resume:a}},function(e,t,n){"use strict";var a=n(2),i=(n(3),n(0),{});e.exports=i,i.closeTips=function(){},i.refeshVip=function(){a.checkVip().done(function(e){}).fail(function(e){})},i.conVip=function(){window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")},i.vipTipsOk=function(){window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")},i.vipTipsCancel=function(){},i.openVip=function(){}},function(e,t,n){"use strict";function a(e){if("object"!==(void 0===e?"undefined":i(e)))return void console.error("onFiletransporterEvent param parse error");var t=e.event,n=e.task,a={newtask:"newtask",taskcomplete:"taskcomplete",taskpause:"taskpause",taskresume:"taskresume",startprogress:"taskprogress",taskabort:"taskabort"};void 0!==a[t]&&void 0!==r[a[t]]&&(n=o.get(n),r[a[t]](n),$(G.handler).trigger("task.startRefresh"))}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(17),r={newtask:n(145),taskcomplete:n(147),taskpause:n(148),taskresume:n(150),taskprogress:n(149),taskabort:n(146)};e.exports={fileEvent:a}},function(e,t,n){"use strict";function a(e){var t=void 0;if(!e)return void console.error("[Client] msg is not exist!");if("string"==typeof e)try{t=JSON.parse(e)}catch(e){console.error("[Client|init()]msg is string, but parse to object catch e!")}if("object"!==(void 0===t?"undefined":o(t)))return void console.error("[Client|init()]after parse, got no object!");i(t)}function i(e){var t=e;if(t&&"object"===(void 0===t?"undefined":o(t)))if("Client"===t.from){var n=t.data;"string"==typeof n&&(n=JSON.parse(t.data)||{});var a=n.cmd||"";switch(a){case"OnFiletransporterEvent":r(n.param);break;case"OnGroupShareTabChangedEvent":l(n.param);break;case"OnGroupUploadFileListsEvent":case"OnGroupDropInGroupFolderUpload":s(param);break;default:console.warn("warn:预期外的message.cmd:"+a)}}else if(t.cmd&&"OnGroupUploadFileListsEvent"===t.cmd)s(t.param);else if(t.cmd&&"OnGroupDropInGroupFolderUpload"===t.cmd)d(t.param);else{var i=t.data;try{if(!i)return;"string"==typeof i&&(i=JSON.parse(i));var c=i.cmd||"";switch(c){case"jubao_close":p.hide();break;default:console.warn("warn:预期外的message.cmd:"+c)}}catch(e){console.warn(e)}}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(143).fileEvent,l=n(63).groupEvent,s=n(64).uploadEvent,d=n(64).dropEvent,p=n(74),c=top;top.external;window.addEventListener("message",i),c.PostMessage=c.onClientEvent=a,window.onClientEvent=a,e.exports={}},function(e,t,n){"use strict";function a(e){if(e.taskStarttime=parseInt((new Date).getTime()/1e3,10),"download"!==e.type||2!==e.downloadtasktype)1===e.onlineedit&&r.fileInEditRow(e),$(G.handler).trigger("client.addTask",e);else{var t=e.foldertaskid,n=o.getOneTask(t);n&&(n.fileTaskList||(n.fileTaskList=[]),n.fileTaskList.push(e.id))}QReport.monitor(i[e.type])}var i={upload:2186487,continueupload:2186489,download:2186490},o=n(17),r=n(5);e.exports=a},function(e,t,n){"use strict";function a(e){var t=e.filepath,n=e.localpath,a=e.filename_esc||e.filename,i=e.remotetype;o.addContinueUploadTask(t,n,a,i)}function i(e){r.trigger("client.updateTask",e),e.onlineedit;var t=l[e.type],n=t[e.status];if(n&&QReport.monitor(n),e.errorcode||e.securityattri){var i=e.errorcode;if(32221991===i)return void a(e)}}var o=n(3),r=$(G.handler),l={upload:{cancel:2186633,remove:2186634,scanfail:2186635,uploadsecurityfail:2186636,uploadgeturlfail:2186637,uploadfail:2186491,_default:2186638},continueupload:{cancel:2186639,remove:2186640,scanfail:2186641,uploadsecurityfail:2186642,uploadgeturlfail:2186643,uploadfail:2186491,_default:2186644},download:{cancel:2186645,remove:2186646,downloadgeturlfail:2186647,downloadfail:386331,_default:2186648}};e.exports=i},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=l.task2file(e);if(G.file||(G.file={}),G.file&&void 0===G.file.cu&&(G.file.cu=0),console.debug("------任务完成 "+e.type+"---------",e),G.continueUploadMap[e.parentId]&&G.continueUploadMap[e.parentId][e.filepath]&&delete G.continueUploadMap[e.parentId][e.filepath],"downloadcomplete"===e.status){if(2!==e.downloadtasktype&&(G.saveasList[t.filepath]?delete G.saveasList[t.filepath]:G.version<_?h.openByPath(t):r.edit(t)),t.parentId&&"/"!==t.parentId){var n=l.getData(t.parentId);n&&++n.downNum===n.filenum&&(n.isDown=!0,n.succ=!0,s.updateRow(n))}d.addBoxRow(t)}else{if(G.file.cu+=t.size,G.file.capacityused=m.getSize(G.file.cu),s.renderSpace(),t.folderpath!==G.nowFolder&&t.folderpath){var a=l.getData(e.folderpath);a.filenum++;var i=parseInt((new Date).getTime()/1e3,10);a.mt=i,a.mtStr=u.dayStr(i),a.toFirst=!0,s.updateRow(a)}else if(1===e.onlineedit){var o=l.getData(t.oldfilepath);console.debug("upload complete and update old file:",e,t,o),""!==e.delete_file_id?(console.debug("update old file"),t.md5=t.newMd5,t.localpath=o.localpath,t.down=o.down,s.removeRow(o),s.appendFile(t)):(o.isDown=!1,t.localpath=o.localpath,delete o.localpath,delete o.lp,console.warn("no need delete old file!",o,t),s.updateEditFileRow(t),c.remove(o),s.appendFile(t),l.updateAllNum({files:[t],action:"add"}))}else console.debug("更新文件",t),s.updateDownloadRow(t),d.addBoxRow(t);p.init(G.file.isTooMany||G.file.isFull,e.status),l.updateAllNum({files:[t],action:"add"})}c.set(t),report("showTaskShow"),f.trigger("client.updateTask",e)}var o=n(67),r=a(o),l=n(0),s=n(5),d=n(14),p=n(24),c=n(12),f=$(G.handler),u=n(16),m=n(19),h=n(20),_=5485;e.exports=i},function(e,t,n){"use strict";function a(e){i.trigger("client.updateTask",e)}var i=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(e){e.createtime=parseInt((new Date).getTime()/1e3,10),"uploadprogress"===e.status&&setTimeout(function(){$(G.handler).trigger("box.show",e)},20),e.remotetype,e.type,i.trigger("client.updateTask",e)}var i=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(e){i.trigger("client.updateTask",e)}var i=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(){return function(e,t){G.getDomPanel();if(e){var n=e.file[0];n.domid}}}function i(e,t){e=e||{};var n=e.busId,i=e.fileId;r.getFileAttr({bus_id:n,file_id:i}).done(function(e){var n=[];if("object"===o(e.file_info)){e.file_info.upload_size=e.file_info.size;var r=e.file_info;r.proId=r.id,r.id=i,n.push(r),n=l.setFileList(n),a()(n,t)}}).fail(function(e){})}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),l=(n(38),n(0));n(7);G.renderOtherGroupResultFuncSingtons={};window.getFileAttr=i,e.exports=i},function(e,t,n){"use strict";function a(e){y.getTips()||(report("showOldVersion"),i())}function i(){$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本不支持批量另存功能，请升级QQ至最新版本后体验"),$("#updateQQ").find("input.btn-notips").attr("data-action","panel.close")}function o(e,t){switch(e){case 1:return F===T?"你确定要删除"+F+"个文件吗?":'您选择了<span class="red">'+F+'</span>个文件,其中<span class="red">'+T+'</span>个文件可以删除<br>您确定要删除这<span class="red">'+T+"</span>个文件吗?";case 2:return"正在删除文件";case 3:return'已经成功删除<span class="red">'+t+"</span>个文件"}}function r(){F=0,k=0,T=0,S=[]}function l(){r();var e=G.onlyGetDom().find("input:checked"),t=G.onlyGetDom().find(".selected"),n=[],a=void 0;return e.length>0?a=e:t.length>0&&(a=t),F=a.length,a.each(function(){var e=this.value||$(this).data("path"),t=v.getData(e);t&&(t.remove&&T++,C++,n.push(t))}),G.selectRows=n,G.inBatchMode=!1,G.batchMode=!1,n}function s(){this.classList.contains("disabled")||(report("batchDownload"),w.hide(b),m.downloadBatch(l()),g.exit())}function d(){if(!this.classList.contains("disabled")){S=l();var e=G.getReportInfo(S[0]);e.ver3=3,reportNew("chooseRightMenuClick",e),w.showBatchPanel(b,{title:"批量删除",action:"batch.removeAction",text:o(1)})}}function p(){report("batchDelete"),w.showBatchPanel(b,{title:"批量删除",hideAll:!0,text:o(2)}),g.exit(),h.removeBatch(S,function(e){w.showBatchPanel(b,{title:"批量删除",action:"batch.removeAction",hideOk:!0,closeText:"关闭",text:o(3,e)}),r()})}function c(){this.classList.contains("disabled")||(report("batchMove"),S=l(),u.showMove())}function f(){report("batchSaveAs");var e=function(){l();var e=G.selectRows;g.exit();var t=[];console.log(e,G.selectRows);for(var n=e.length-1;n>=0;n--){var a=e[n];t.push({filepath:a.filepath,filename:a.fnameEsc,fname:a.fname,filetype:a.filetype,filesize:a.size,domid:a.domid,orcType:a.orcType})}_.saveBatch(t)};G.info.version<x?a(e):e()}var u=n(43),m=n(66),h=n(65),_=n(68),v=n(0),w=n(10),g=n(21),b=$("#batchPanel"),y=n(12),x=G.folderVersion,F=0,k=0,T=0,C=0,S=[];e.exports={remove:d,removeAction:p,downloadAction:s,move:c,save:f,getTipsText:o}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.doClearFile=t.clickClearFile=void 0;var i=n(2),o=a(i),r=n(10),l=a(r),s=$("#cleanFile"),d=$("#cleanProg");t.clickClearFile=function(){G.info.isMaster&&(reportNew("cleanEntry"),l.default.showBatchPanel(s,{title:"提示",action:"file.doClearFile",text:'将为你保留最近的1500个文件和文件夹，并删除之前的所有文件<div class="warming">注意:本操作不可恢复，请自行备份</div>',okBtnText:"确定删除"}))},t.doClearFile=function(){if(G.info.isMaster){l.default.hide(s),l.default.show(d),o.default.cleanFile().done(function(e){}).fail(function(e){l.default.hide(d)}),reportNew("clickClean",{ver1:0});var e=0;(function t(){o.default.getFileCount().done(function(n){0!==n.ec||n.is_too_many?e=setTimeout(t,2e3):(l.default.hide(d),clearTimeout(e),location.reload())}).fail(function(n){e=setTimeout(t,2e3)})})()}}},function(e,t,n){"use strict";function a(){var e=this.parentNode,t=e.querySelector(".error-message");"block"==t.style.display?t.style.display="none":t.style.display="block"}t.__esModule=!0,t.default=a},function(e,t,n){"use strict";function a(){if(!this.classList.contains("disable")){report("clkRepost",G.module());var e=G.selectRow,t=G.getReportInfo(e);if(t.ver3=4,reportNew("fileRightMenuClick",t),e){var n=e.filepath,a=e.fnameEsc,i=e.size;o.forwardFile(a,n,i),r.trigger("menu.hide")}}}function i(e){if(!this.classList.contains("disable")){report("clkPhone",G.module());var t=G.selectRow,n=G.getReportInfo(t);if(n.ver3=5,reportNew("fileRightMenuClick",n),t){var a=t.filepath,i=t.fnameEsc,l=t.size,s=o.forwardFileToDataLine(i,a,l);console.log(s),r.trigger("menu.hide")}}}var o=(n(0),n(3)),r=(n(30),$(G.handler));e.exports={forward:a,toMobile:i}},function(e,t,n){"use strict";var a=n(5),i={};i.byUin=function(){var e=$(this).data("uin"),t=this.innerText;G.module(2),a.getList({ukey:"userFileDom",uin:e,name:t})},e.exports=i},function(e,t,n){"use strict";function a(){var e=G.selectRow;if(report("clkJubao"),e){var t=G.getReportInfo(e);t.ver3=9,reportNew("fileRightMenuClick",t);var n="//jubao.qq.com/cn/jubao?appname=im&subapp=group_file&jubaotype=article";n+="&impeachuin="+G.info.uin,n+="&uin="+e.uin,n+="&fid="+e.fp,n+="&fname="+encodeURIComponent(e.fnameEsc),n+="&ut="+e.ct,n+="&fs="+e.size,n+="&dt="+e.down,n+="&t="+e.t,n+="&mt="+e.mt,n+="&exp="+e.exp,n+="&gid="+G.info.gc,i.show(encodeURI(n))}o.trigger("menu.hide")}var i=(n(0),n(74)),o=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(){if(!this.classList.contains("disable")){report("clkForever");var e=G.selectRow;if(e&&2===e.remoteType){var t=e.filepath,n={fp:t};o.setPermanent(n).done(function(t){if(0===t.ec){var n="/102"+t.fp;e.newFilePath=n,e.remoteType=1,e.fp=t.fp,e.temp=!1,i.updateFile(e,"permanent"),l.trigger("file.dataUpdate",e),l.trigger("toast.show",{type:"suc",text:"转存成功"})}}).fail(function(e){console.log(e),r.showError(e.ec)})}else console.log("文件不存在或者不是临时文件");l.trigger("menu.hide")}}var i=n(0),o=n(2),r=n(25),l=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(e){e.usedTime++,d.trigger("toast.hide"),l.preview(e.previewObj.url)}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0,n=$(this);if(e)t=e;else{var i=n.data("path");if(!(t=r.getFile(i))){var o=G.selectRow.path;t=r.getFile(o)}if(!t){var c=G.selectRow.path;t=r.getFile(c)}}if(t){if(console.debug("preview:",t),t.safeType){var f=G.getReportInfo(t);return f.ver3=f.ver4,f.ver4=f.ver5,f.ver5=t.isDown?2:1,reportNew("blackTips",f),void l.alert(2,"提示","该文件存在安全风险，无法正常使用")}var u=(t.filepath,t.remotetype,t.fnameEsc||t.fname,t.size),m=t.filetype;if($.inArray(m,p)>=0)if(t.localpath){var h=t.localpath;0!==h.indexOf("OSRoot")&&(h="OSRoot:\\"+h),l.preview(h)}else u>20971520?l.alert(2,"提示","图片太大不支持预览，请直接下载"):(t.usedTime++,d.trigger("toast.show",{type:"wait",text:"正在加载预览图…"}),s.getOneThumb(t,a))}}function o(){if(!this.classList||!this.classList.contains("disable")){d.trigger("menu.hide");var e=G.selectRow;e&&i(e)}}var r=n(0),l=n(3),s=n(72),d=$(G.handler),p=["图片"];e.exports={preview:i,menupreview:o}},function(e,t,n){"use strict";function a(){if(!this.classList.contains("disable")){report("clkRenameFile",G.module());var e=G.selectRow,t=G.getReportInfo(e);t.ver3=7,reportNew("fileRightMenuClick",t),o.show(f,{title:"重命名",tips:"请为文件输入新名称",action:"file.renameFile",showValue:G.selectRow.nameEsc})}}function i(){var e=f.find(".new-name").val(),t=G.selectRow,n={file_id:t.fp,app_id:G.appid,new_file_name:e+t.suf,bus_id:t.busid,parent_folder_id:G.nowFolder};s.renameFile(n).done(function(n){0===n.ec&&(t.name=e,t.nameEsc=d.decode(e),t.fname=e+t.suf,t.fnameEsc=d.decode(t.fname),r.updateFile(t,"rename"),l.updateRow(t,"rename"),u.trigger("file.thumbUpdate",t)),c.hideAll()}).fail(function(e){p.showError(e.ec,f),report("renameFileError")})}var o=n(10),r=n(0),l=n(5),s=n(2),d=n(61),p=n(25),c=(n(3),n(10)),f=$("#folderPanel"),u=$(G.handler);e.exports={showFileRename:a,renameFile:i}},function(e,t,n){"use strict";"user strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(3!=G.module()&&2!=G.module()){p.default["menu.closeBatch"]();var t=$(this).data("type"),n=$(this).data("sort");n?(n=parseInt(n),n=1===n?2:1):n=1,f[t]=n,$(".list-thead").find(".sort-up").removeClass("sort-up"),$(".list-thead").find(".sort-down").removeClass("sort-down"),$(this).attr("data-sort",n),1===n?this.parentNode.classList.add("sort-up"):this.parentNode.classList.add("sort-down");var a=function(e){var a="#list"+G.nowFolder.replace("/","-");"/"===G.nowFolder&&(a="#fileListDom"),$(a).attr("data-type",t).attr("data-sort",n)};G.nowFolder,c[t];reportNew("sortFile",{ver1:c[t],ver2:n}),s.default.getList({folderId:G.nowFolder,sort_by:c[t],sort_order:n})}}t.__esModule=!0,t.sortFile=i;var o=n(0),r=(a(o),n(2)),l=(a(r),n(5)),s=a(l),d=n(22),p=a(d),c={time:1,type:2,user:3,name:4,size:5,download:6},f={time:0,type:0,user:0,name:0,size:0,download:0}},function(e,t,n){"use strict";function a(e){if(0===e.errorCode&&e.ret){var t={id:G.selectRow.id};r.deleteFolder(t).done(function(e){if(e.ec)return void client.alert(2,"提示","删除文件夹失败");G.canCreateFolder=!0;var t=G.folderMap()[G.selectRow.id];G.folderNum--,G.folderNum<0&&(G.folderNum=0),l.remove(t.id),o.removeRow(t),d.setClist(t,"delete"),s.trigger("toast.show",{type:"suc",text:"删除文件夹成功"}),p.init(G.file.isTooMany||G.file.isFull,"delete"),report("delFolderSuc")}).fail(function(e){client.alert(2,"提示",e&&-317===e.ec?"该文件夹不可删除":"删除文件夹失败"),report("delFolderError")})}}function i(){if(s.trigger("menu.hide"),G.selectRow){var e=G.getReportInfo(G.selectRow);e.ver3=6,reportNew("folderRightMenuClick",e),report("deleteFolder",G.module());var t=client.confirm(2,"提示","你确定要删除"+G.selectRow.fnameEsc+"以及文件夹内的所有文件吗？");t&&a(t)}}var o=n(5),r=n(2),l=n(0),s=$(G.handler),d=n(12),p=n(24);e.exports={showDeleteFolder:i,deleteFolder:a}},function(e,t,n){"use strict";function a(){p.getTips()||(report("showOldVersion"),i())}function i(){$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本不支持文件夹下载功能，请升级QQ至最新版本后体验"),$("#updateQQ").find("input.btn-notips").attr("data-action","panel.close")}function o(e){var t=document.createElement("div"),n=this.getBoundingClientRect(),a=function(){var e=document.height;return G.getDomPanel()[0].scrollHeight+52>e};t.innerHTML='<div class="img"></div>',t.className="file-animate files-"+e.icon;var i=window.innerWidth-n.left-76;G.info.isAdmin&&(i+=47),a()&&(i-=20),G.mac&&(i=177),t.style.right=i+"px",t.style.top=n.top-20+"px",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},1500)}function r(e){if(G.info.version<f)return void a();if(report("downloadFolder"),e){o.call(this,e);var t=e.id,n=e.fnameEsc;client.addDownloadTask(t,n,0,!0,!0)}c.trigger("menu.hide")}function l(){r.bind(this)(G.selectRow)}function s(){var e=$(this).closest(".list-item"),t=e.data("path"),n=d.getData(t);r.bind(this)(n)}var d=n(0),p=n(12),c=$(G.handler),f=G.folderVersion;e.exports={download:l,downloadByBtn:s}},function(e,t,n){"use strict";function a(){report("propFolder"),o.render(i,G.selectRow),i.addClass("open"),r.trigger("menu.hide"),i.find(".aria-hide")[0].focus();var e=G.getReportInfo(G.selectRow);e.ver3=5,reportNew("folderRightMenuClick",e)}var i=$("#folderPropertyPanel"),o=n(31),r=$(G.handler);e.exports={show:a}},function(e,t,n){"use strict";function a(){d.addClass("open")}function i(){d.removeClass("open")}function o(){d.removeClass("open")}function r(){console.log("ok move file")}function l(){console.log("move file create folder")}function s(e,t){var n=$(e.target).closest(".folder-list-item");$(".folder-list-item").removeClass("active"),n.addClass("active")}var d=$("#move-file-panel");e.exports={oveFileOpen:a,moveFileClose:i,moveFileCancel:o,moveFileOk:r,moveFileCreateFolder:l,fileActive:s}},function(e,t,n){"use strict";function a(){if(p.trigger("menu.hide"),G.selectRow){var e=$.trim(i.find(".new-name").val()),t=G.selectRow.id,n={folder_id:t,new_name:e};return l.renameFolder(n).done(function(n){var a=G.folderMap()[t];a.fname=e,a.fnameEsc=e,a.name=e,a.modify_time=Math.ceil((new Date).getTime()/1e3),a=d.updateFolder(a),$("[data-path='"+t+"']").find(".name").html(e),p.trigger("toast.show",{type:"suc",text:"重命名文件夹成功"}),o.updateRow(a),s.hideAll()}).fail(function(e){var t=e.ec;-317===t&&(t=317.2),r.showError(t,i),report("renameFolderError")}),!0}}var i=$("#folderPanel"),o=n(5),r=n(25),l=n(2),s=n(10),d=n(0),p=(n(16),$(G.handler));e.exports={renameFolder:a}},function(e,t,n){"use strict";function a(){if(!G.isHistory){if(++l>s.length-1)return void(l=s.length-1);p(),reportNew("wayNext")}}function i(){if(!G.isHistory){if(--l<0)return void(l=0);p(),reportNew("wayPref")}}t.__esModule=!0,t.next=a,t.pref=i;var o=n(45),r=n(47),l=-1,s=[];G.historyList=s,G.historyIdx=l,G.webParams&&s.push(G.webParams),G.setHistory=function(e){l++,s.length-l>=1&&(s=s.slice(0,l)),s.push(e),d()};var d=function(){l>0?$(".history .left").removeClass("disable"):$(".history .left").addClass("disable"),l<s.length-1?$(".history .right").removeClass("disable"):$(".history .right").addClass("disable")};G.isHistory=!1;var p=function(){G.isHistory=!0,d();var e=s[l];"fileList"===e.action?o.renderFolder(e.params.folderId,e.params.fname):void 0!==e.key_word&&($("#inputSearch").val(e.key_word),r.search())}},function(e,t,n){"use strict";function a(){}e.exports={"input.edit":a}},function(e,t,n){"use strict";var a=n(7),i=n(2),o=window.localStorage,r="newbie"+a.getUin(),l=function(){var e=$("#fileListDom"),t=e.find(".file").eq(0);if(console.log("getfileidx",G.nowFolder),t.length>0&&"/"===G.nowFolder){var n=t[0].offsetTop,a=$(".scroll-dom").height(),i=t.height();if(n<a){var o=(Number(t.attr("idx"))||0)+1;return n+76>a?{t:n-76,u:0,idx:o}:{t:n+i,u:1,idx:o}}return!1}return!1},s=function(){try{o.setItem(r,1)}catch(e){o.clear(),o.setItem(r,1)}i.setUserFlag({position:0}).done(function(e){}).fail(function(e){})},d=function(){$("#newBie").bind("click",function(){$("#newBie").hide(),s(),reportNew("guideRemove")})},p=function(){if("/"===G.nowFolder){var e=l();e?($("#newBie").show(),$("#newBieTips").css("top",e.t+78+"px"),e.u||$("#newBieTips").addClass("bottom"),d(),reportNew("guideExp",{ver1:e.idx})):$("#newBie").hide()}else $("#newBie").hide()},c=function(){$("#newBie").remove()};$("body").bind("newbie",function(e){var t=void 0;try{t=o.getItem(r)}catch(e){console.info(e)}i.getUserFlag({position:0}).done(function(e){if(0!==e.ec)return void(t?c():p());1===e.flag&&c(),0===e.flag&&t&&(c(),s()),0!==e.flag||t||p()}).fail(function(e){t?(c(),s()):p()})})},function(e,t,n){"use strict";function a(e,t){if(!~h.indexOf(e))return h+=".file-list .list-item "+e+" {"+t+"}",m[0].innerHTML=h;h=h.replace(new RegExp(e+"\\s{.*}","g"),e+" {"+t+"}"),m[0].innerHTML=h}function i(e,t){if(!~v.indexOf(e))return v+=".file-list .list-item "+e+" {width: "+t+"px;}",_[0].innerHTML=v;v=v.replace(new RegExp(e+"\\s{width:\\s\\d*px;}","g"),e+" {width: "+t+"px;}"),_[0].innerHTML=v}function o(e){var t=$(this),n=t.data("resize-aim"),o=$("[data-resize-id="+n+"]"),r=d[n].related,l=$("[data-resize-id="+r+"]"),s=[],m=e.clientX,_=e.clientY,v=d[n].minWidth,w=d[r].minWidth;h="";for(var g in d)if(g!==n&&g!==r&&"name"!==g){var b=$("[data-resize-id="+g+"]"),y=b.width();i(d[g].fileRow,y),a(d[g].fileRow,"max-width:none; min-width: "+y+"px;"),b.width(y).css({"max-width":y,"min-width":y}),s.push({$tab:b,aim:g})}var G=u.width();u.width(G).css("flex","initial"),i(".item-name-adjust",G),f.addClass("ondrag"),c={x:m,y:_,aim:n,aimWidth:o.width(),related:r,relatedWidth:l.width(),aimMinWidth:v,relatedMinWidth:w,$drag:t,$aim:o,$related:l,aimRow:d[n].fileRow,$aimRow:$(d[n].fileRow),relatedRow:d[r].fileRow,$relatedRow:$(d[r].fileRow),dontMoveTabs:s,isDragToMin:o.width()<=v,isDragToRelatedMin:l.width()<=w},p=!0}function r(e){if(p&&0===e.button&&e.clientX&&!(c.isDragToMin&&e.clientX>c.$drag.offset().left+5||(c.isDragToMin&&(c.isDragToMin=!1),c.isDragToRelatedMin&&e.clientX<c.$drag.offset().left-5))){c.isDragToRelatedMin&&(c.isDragToRelatedMin=!1);var t=c.x-e.clientX,n=t+c.aimWidth,a=c.relatedWidth-t,o=t<=0,r=void 0,l=void 0;o?(r=Math.max(n,c.aimMinWidth),l=a,r<=c.aimMinWidth&&(l=a-(c.aimMinWidth-n))):(r=n,(l=Math.max(a,c.relatedMinWidth))<=c.relatedMinWidth&&(r=n-(c.relatedMinWidth-a))),c.aimWidth=r,c.relatedWidth=l,c.x=e.clientX,c.$aim.width(r),c.$related.width(l),i(c.aimRow,r),i(c.relatedRow,l),r<=c.aimMinWidth&&(c.isDragToMin=!0,c.x=c.$drag.offset().left+5),l<=c.relatedMinWidth&&(c.isDragToRelatedMin=!0,c.x=c.$drag.offset().left+5)}}function l(e){p&&(p=!1,u.css("flex",1),a(".item-name-adjust","flex: 1;"),f.removeClass("ondrag"),c.dontMoveTabs.forEach(function(e){var t=d[e.aim].minWidth;e.$tab.css({"max-width":"none","min-width":t}),a(""+d[e.aim].fileRow,"max-width: none; min-width: "+t+"px;")}),reportNew("adjustTab",{ver1:G.info.isAdmin?G.info.isMaster?1:2:3}))}function s(){for(var e in d){$("[data-resize-id="+e+"]").css({width:d[e].initWidth,"max-width":"none","min-width":"none"})}h="",v="",m[0].innerHTML=h,_[0].innerHTML=v}var d={name:{initWidth:"auto",minWidth:135,fileRow:".item-name-adjust"},update:{initWidth:120,minWidth:40,fileRow:".item-time",related:"name"},size:{initWidth:70,minWidth:68,fileRow:".item-size",related:"update"},"upload-user":{initWidth:80,minWidth:40,fileRow:".item-user",related:"size"},"download-times":{initWidth:96,minWidth:82,fileRow:".item-download-times",related:"upload-user"},source:{initWidth:100,minWidth:68,fileRow:".item-source",related:"upload-user"}},p=!1,c={},f=$("body"),u=$(".file-name-wrap"),m=($(".item-name-adjust"),$("<style></style>")),h="",_=$("<style></style>"),v="";$("head").append(m),$("head").append(_),$(document).on("mousedown",".tab-resize",o),$(document).on("mousemove",r),$(document).on("mouseup.adjustTab",l),$(window).on("resize",l),e.exports={resetTab:s}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){for(var e={},t=0;t<d.length;t++){var n=d[t],a=void 0;for(a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e["tips.close"]=function(){$("#alertTips").remove()},e}var o=n(167),r=a(o),l=n(41),s=a(l),d=[n(44),n(42),n(22),n(133),n(168),n(30),n(46),n(47),n(48),n(63),n(71),n(62)],p={"history.next":r.next,"history.pref":r.pref},c={"list.select":s.listClick};d.push(p),d.push(c),e.exports={getHandlerTasks:i}},function(e,t,n){"use strict";function a(){location.href.indexOf("groupShareClientV2.html")>0&&(G.newUi=!0),navigator.userAgent.indexOf("Mac OS X")>=0?(G.mac=!0,$("#inputSearch").attr("placeholder",""),$("#navTopFolder").attr("data-action","menu.filenum"),$(".refresh-icon").attr("data-action","menu.refresh").click(function(){window.location.reload()})):(console.log(navigator.userAgent),navigator.userAgent.indexOf("TIM")>=0&&($("html").addClass("tim"),G.isTim=!0),$("#inputSearch").attr("placeholder","搜索"))}function i(){var e=new Date("2016-3-23"),t=new Date("2019-3-23"),n=(new Date).getTime();return n>e&&n<t}function o(){var e=n(175),t=n(12),o=n(177),r=n(132),l=n(71),d=n(131),c=n(24),f=n(45);a(),G.info=e.getInfo(),c.init(),t.init(),r.init(),o.init(),l.init(),d.action(s),"isLocal"===localVersion&&report("offlinePage"),window.addEventListener("message",function(e){"return to pan"===e.data&&f.hideDocs()});var u=__getParameter("timeout");if("0"===u?report("httpssuc"):"1"===u?(report("httpsfail"),i()||report("httptimeerr")):""===u&&report("oldJump"),report("httpsall"),report("expnew"),"tips"===p){(0,n(31).showDocs)()}}function r(){o()}savePoint("start"),window.G={},G.flagThumb=!0,G.flagUploadTemp=!1,G.flagHeightChrome=/chrome\/([2|3]\d)/gi.test(window.navigator.userAgent),G.canOpenFolder=window.external&&window.external.openFolder,G.ifFileExist=window.external&&window.external.isFileExist,G.flagIsVip=!1,G.handler={},G.cMap={},G.pList=[],G.cList=[],G.continueUploadMap={init:!1},G.compList=[],G.selectRow={},G.previewCache={},G.activeElement,G.oldVersion=!1,G.filesClass={},G.folderVersion=5461,G.nowFolder="/",G.folderNum=0,G.appid=4,G.canCreateFolder=!0,G.mac=!1,G.secondMove={},G.tab={};var l=n(7),s=(n(127),n(32),l.getParameter("debug"),decodeURIComponent(l.getParameter("webParams"))),d=l.getParameter("ep"),p=l.getParameter("jumpfrom");G.isPriv=""!==d,G.isTim=!1;var c=window.external&&window.external.CallHummerApi&&window.external.CallHummerApi("IM.GetVersion");if(c)try{c=JSON.parse(c),0===c.errorCode&&(c=c.version)}catch(e){c=!1}G.version=c,G.webParams=s,G.downFast=window.external&&window.external.downloadByXF,G.fileMap=function(e){var t=[];return G.fileMaps=t,function(e){var n=e||G.module();return t[n]=t[n]||{},t[n]}}(),G.folderMap=function(){var e=[];return function(){var t=G.module();return 1!==t&&2!==t&&3!==t||(t=0),e[t]=e[t]||{},e[t]}}(),G.module=function(){var e=0,t={0:"首页",1:"文件夹内",2:"成员文件列表",3:"搜索结果页"};return function(n){return void 0===n?e:t[n]?(3!==n&&$("#inputSearch").val(""),e=n):void console.log("illegal module")}}(),G.checkHttps=function(){return location.href.indexOf("https://")>=0},G.scrollHandler=function(){var e=[];return function(t){var n=G.module();if(t)return e[n]=t;e[n]=e[n]||function(){},e[n]()}}(),r();try{window.addEventListener("error",function(e){window.external&&window.external.GF_LOG&&widnow.external.GF_LOG(function(){},"js Error,message:"+e.message+",line : "+e.lineno+",col:"+e.colno+",stack:"+JSON.stringify(e.error))},!1)}catch(e){console.error(e)}},function(e,t,n){"use strict";var a=n(2),i=n(0),o={};e.exports=o,o.getFileCount=function(e,t){a.getFileCount().done(function(t){i.setFileCount(t),e(t)}).fail(function(e){console.log(e)})}},function(e,t,n){"use strict";var a=n(2),i=(n(0),{});e.exports=i,i.createFolder=function(e,t){a.createFolder(e).done(function(e){t(e)}).fail(function(e){})},i.renameFolder=function(e,t){},i.deleteFolder=function(e,t){}},function(e,t,n){"use strict";function a(){var e=i.getUin(),t=i.getParameter("gid")||i.getParameter("groupid"),n=function(){var n="refresh_"+e+"_"+t;return!!(1*i.getCookie(n))&&(i.getCookie(n),!0)}();/^\d+$/.test(t)||(t=parseInt(t,10),isNaN(t)&&(t="0"));var a=i.getParameter("visitor"),r="1"===a,l=o.getVersion().version;return{uin:parseInt(e),gc:parseInt(t),isVisitor:r,nickName:o.getNickName(e),fromRefresh:n,version:l}}var i=n(7),o=n(3);e.exports={getInfo:a}},function(e,t,n){"use strict";var a={},i=n(2),o=(n(0),n(7));e.exports=a,G.searchFuncSingtons={},a.search=function(e){var e=e||{},t=e.succ,n=e.fail,a=e.beforeRequest,r=e.isNew,l=o.extend({key_word:"",search_type:0,app_id:4},e.searchParams);G.mac&&(l.app_id=7);var s=!1,d=JSON.stringify(l);(r||void 0==G.searchFuncSingtons[d])&&(G.searchFuncSingtons[d]=function(){var e=void 0,t=0;return function(n,o){if(t)return void console.log("no more items");!0!==s&&(l.cookie=e,l.count=25,a&&a(),s=!0,i.search(l).done(function(a){r&&($("#searchReasult").text(a.total),$(".nav").addClass("hide"),$("#searchNav").removeClass("hide")),t=a.is_end,e=a.cookie,n&&n(a,d),s=!1,$("#fileNum").addClass("hide"),$("#searchDom").css("display","flex"),$("#folderName").addClass("hide")}).fail(function(e){o&&o(e),s=!1,$("#searchReasult").text(0),$("#searchDom").css("disolay","none"),$("#folderName").addClass("hide")}))}}()),G.searchFuncSingtons[d](t,n)},window.search=a.search},function(e,t,n){"use strict";function a(){for(var e in o)o.hasOwnProperty(e)&&p.bind("box."+e,o[e])}function i(){var e=d.getMapLocationPathToRemotePath(),t=d.getTaskListAdv(),n=l.getClist();if("ok"===e.status)for(var i in e.map){var o=e.map[i],p={filepath:i,localpath:o};l.set(p)}if(G.pList=s.cleanMap(t.map),G.compList=n,G.pList)for(var c=0,f=G.pList.length;c<f;c++){var u=G.pList[c],m=r.getData(u.filepath);m||(u.id=u.filepath,r.addData(u))}if(G.compList)for(var h=0,_=G.compList.length;h<_;h++){var v=G.compList[h],w=r.getData(v.filepath);w||(v.id=v.filepath,r.addData(v))}a()}var o=(n(178),n(179),n(14)),r=n(0),l=n(12),s=n(17),d=n(3),p=$(G.handler);window.client=d,e.exports={init:i}},function(e,t,n){"use strict";function a(e,t){var n=t;i.check(n)||i.add(n),"download"===n.type||"continueupload"===n.type?o.updateDownloadRow(n):o.appendFile(n)}var i=n(49),o=(n(14),n(5));$(G.handler).bind("client.addTask",a)},function(e,t,n){"use strict";function a(e,t){var n=t;"download"===n.type&&i.updateDownloadTimes(n),i.updateDownloadRow(n)}var i=(n(49),n(14),n(5));$(G.handler).bind("client.updateTask",a)},function(e,t,n){"use strict";var a={},i=$("#groupSize"),o=$("#groupSizeBar");a.renderSpace=function(){if("/"===G.nowFolder){i.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);o.css("width",e+"%"),$("#fileNum").removeClass("hide"),$(".nav").addClass("hide"),$("#normalNav").removeClass("hide")}},e.exports=a},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){for(var e in G.filesClass){G.filesClass[e].sethide()}}t.__esModule=!0;var o=n(73),r=n(0),l=n(17),s=n(3),d=n(7),p=$("#fileNumText"),c=($("#groupSize"),$("#groupSizeBar"),n(38)),f=$(G.handler),u=(n(16),!0),m=function(){function e(t){if(a(this,e),this.folderId=t.folderId,this.filterUin=t.uin,this.startIndex=0,this.pageSize=30,this.filterCode=t.filterCode||0,this.isEnd=!1,this.sort=t.sort_by||!1,this.order=t.sort_order||!1,this.isLoad=!1,this.isRender=!1,this.fname=t.fname,this.noShow=t.noShow||!1,this.hasSetRole=!1,this.role=0,this.uploadingList=[],this.uploadingMap=[],this.cUploadFlag=!1,this.module=0,this.lastModify=0,this.showRedPoint=!1,this.modifyKey="docModify_"+G.info.gc+"_"+d.getUin(),this.filterUin&&(this.name=t.name,this.filterCode=3,this.folderId="/"),"/"!==this.folderId&&(this.module=1),this.filterUin&&(this.module=2),"/"===this.folderId&&0===this.startIndex){var n=localStorage.getItem(this.modifyKey);n&&(this.lastModify=parseInt(n)),this.getRedPoint()}this.getDom(),this.getUploadingFile()}return e.prototype.reset=function(){this.startIndex=0,this.isLoad=!1,this.isRender=!1,this.dom.html("")},e.prototype.getRedPoint=function(){var e=this;o.getRedPoint(function(t){if(0===t.cgicode){var n=t.data.last_modify_ts;n>e.lastModify&&(e.showRedPoint=!0,localStorage.setItem(e.modifyKey,n),reportNew("showRedPoint",{}),e.isRender&&$("#onlineDocsFolder .filev3-folder").append('<div class="red-point"></div>'))}})},e.prototype.upDateRedPoint=function(){},e.prototype.getDom=function(){var e=function(e){return'<section class="file-list" id="'+e+'"></section>'},t=$("#fileListDom");if("/"!==this.folderId||this.filterUin){if(this.filterUin)t.after(e("userFileDom")),this.dom=$("#userFileDom");else if("/"!==this.folderId){var n="list"+this.folderId.replace(/\//i,"-");t.after(e(n)),this.dom=$("#"+n)}}else this.dom=t},e.prototype.changeHash=function(){if("/"===this.folderId||this.filterUin){var e=location.hash;return void(e.indexOf("&webParams=")>0&&(location.hash=e.substr(0,e.indexOf("&webParams="))))}var t=location.hash;t=decodeURIComponent(t);var n={params:{fid:this.folderId,fname:this.fname}};location.hash=t.replace(/&webParams={.+}/,"")+"&webParams="+encodeURIComponent(JSON.stringify(n))},e.prototype.setshow=function(){if(this.noShow)return void(this.noShow=!1);i(),this.isShow=!0,this.fillTit(),this.dom.show(),this.changeHash(),G.nowFolder=this.folderId,this.fname?($(".sub-folder").css("display","flex"),$(".root-folder").hide(),$("#createNewFolder").hide(),$(".more-menu").show()):this.filterUin?($(".sub-folder").css("display","flex"),$(".root-folder").hide(),$("#createNewFolder").hide(),$(".more-menu").show()):($(".more-menu").show(),$(".sub-folder").css("display","none"),$(".root-folder").show(),G.info.isAdmin&&$("#createNewFolder").show()),G.scrollHandler=this},e.prototype.sethide=function(){this.isShow=!1,this.dom.hide()},e.prototype.getUploadingFile=function(){var e=s.getTaskListAdv();if(this.uploadingList=[],this.uploadingMap={},!e.empty||"ok"!==e.status)for(var t=l.cleanMap(e.map),n=0,a=t.length;n<a;n++){var i=t[n];"upload"===i.type&&i.folderpath===this.folderId&&(this.uploadingMap[i.filepath]=i)}},e.prototype.changeStatus=function(e){e.uin?(this.filterUin=e.uin,this.name=e.name,this.isRender=!1,this.startIndex=0,this.getData()):e.sort_by&&(this.getUploadingFile(),e.sort_by===this.sort&&e.sort_order===this.order?(this.getData(),console.log("get Date")):(this.sort=e.sort_by,this.order=e.sort_order,console.log("reset get data",this.sort,this.order,e),this.reset(),this.getData()))},e.prototype.setRole=function(){0!==this.role&&3!==this.role||$("#createNewFolder").remove()},e.prototype.fillTit=function(e){this.fname?$(".sub-folder-name").text(this.fname):this.filterUin?$(".sub-folder-name").text(this.name+"上传的文件"):e&&p.text(G.file.allnum).attr("aria-label","共"+G.file.allnum+"个文件")},e.prototype.fullData=function(e){return"number"==typeof e.total&&r.setAllNum(e),"/"===this.folderId&&r.setRole(e),this.fillTit(e),r.setFileList(e.list,{},this.module)},e.prototype.sucParseData=function(e,t){var n=this;if(e.sort_by===n.sort&&e.sort_order!==n.order)return void console.log("no~~~~~~~~~");n.showLoad(!0),(!n.sort_by&&0===n.startIndex||1===n.startIndex)&&G.tab.resetTab(),t.file_list?n.startIndex+=t.file_list.length:n.isEnd=!0,0===t.next_index&&(n.isEnd=!0);var a={list:t.file_list,total:t.total_cnt,userRole:t.user_role,openFlag:t.open_flag},i=n.fullData(a);"/"===n.folderId&&(n.role=a.userRole);var o=window.requestAnimationFrame,r=window.cancelAnimationFrame;if(n.isRender)n.render(i);else{var l=void 0;o(function e(){l=o(e),n.cUploadFlag&&(n.render(i),r(l))})}},e.prototype.getData=function(){if(!this.isLoad){this.isLoad=!0;var e={folder_id:this.folderId,start_index:this.startIndex,cnt:this.pageSize};this.filterUin&&(e.filter_uin=this.filterUin),this.sort&&this.order?(e.sort_by=this.sort,e.sort_order=this.order):e.filter_code=this.filterCode,"/"!==this.folderId||this.isRender||(e.show_onlinedoc_folder=1),this.showLoad();var t=this,n=function(){o.getFilesList(e).done(function(n){t.sucParseData(e,n)}).fail(function(e){if(t.showLoad(!0),e&&console.log(e),1e3!==e.ec){var n="拉取文件列表失败";u&&(G.mac?n+="，请稍后重试":n+='，请稍后<a onclick="window.location.reload();">重试</a>'),f.trigger("toast.show",{type:"fail",text:n,autoHide:!u})}})};try{if(!__isInit&&__dataHadGet&&this.folderId===__rootId){if(__firstData)t.sucParseData(e,__firstData);else{var a=Date.now(),i=function i(){var o=Date.now();__firstData?t.sucParseData(e,__firstData):o-a<5e3?requestAnimationFrame(i):n()};requestAnimationFrame(i)}__isInit=!0}else n()}catch(e){}}},e.prototype.appendContinueUpload=function(){this.cUploadFlag=!0},e.prototype.getContinueUpload=function(){var e=G.continueUploadMap[this.folderId],t=[];if(e)for(var n in e)t.push(e[n]);return t},e.prototype.render=function(e){this.isLoad=!1;var t=this.dom,n={},a=!1;G.info.isVisitor&&(n.actionHide=!0),this.filterUin?G.module(2):"/"!==this.folderId||this.noShow?G.module(1):G.module(0),this.noShow=!1;var i=e.file;if(e.clist){i=e.clist.concat(i)}var o=[];if(!this.isRender){for(var r=this.getContinueUpload(),l=0,s=r.length;l<s;l++){var d=r[l].filepath;this.uploadingMap[d]&&($.extend(r[l],this.uploadingMap[d]),delete this.uploadingMap[d])}for(var p in this.uploadingMap)o.push(this.uploadingMap[p]);i=r.concat(i),i=o.concat(i)}var f=c({list:i,renderParams:n}),u=c({list:e.folder,getDateStr:e.getDateStr,lastModify:this.lastModify||0,showRedPoint:this.showRedPoint,renderParams:n});if(console.log("isrender : ",this.isRender),this.isRender){var m=$(".fold").last();t.find(".file").first();"/"===this.folderId&&m.length>0?1===this.order?(m=$(".fold").first(),m.before(f),t.append(u)):(m.after(u),t.append(f)):1===this.order?(t.append(f),t.append(u)):(m.after(u),t.append(f))}else 0===i.length&&0===e.folder.length?(console.warn(t,"empty!!"),t.addClass("files-empty")):(this.hasSetRole||"/"!==this.folderId||(this.setRole(e),this.hasSetRole=!0),a=!0,this.setshow(),this.isRender=!0,t.html(""),1===this.order?(t.html(f),t.append(u)):(t.html(u),t.append(f)));"/"===this.folderId&&a&&this.speedReport(),t.find(".list-item").each(function(e){this.setAttribute("idx",e)}),t[0].scrollHeight>$(".scroll-dom").height()?$(".list-thead").addClass("padding"):$(".list-thead").removeClass("padding")},e.prototype.showLoad=function(e){var t=$("#loaderDom");0===t.length&&($("body").append('<div class="loader" id="loaderDom"><div class="loading"></div></div>'),t=$("#loaderDom")),e?t.removeClass("open"):t.addClass("open")},e.prototype.speedReport=function(){if(!window._timePoints.show){savePoint("show"),console.log(window._timePoints.show);var e={20:window._timePoints.css,21:window._timePoints.zepto,22:window._timePoints.js,23:window._timePoints.start};"isLocal"===localVersion?e[25]=window._timePoints.show:"undefined"!=typeof nodeCost?e[26]=window._timePoints.show:e[24]=window._timePoints.show,e[28]=window._timePoints.show;var t=1;if(G.checkHttps&&G.checkHttps()){QReport.monitor(2809156),t=13;try{var n=d.getParameter("iframetime");e[27]=n}catch(e){}}else QReport.monitor(2809155);QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:t,speedTime:e})}},e}();t.default=m,e.exports=m},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){for(var e in G.filesClass){G.filesClass[e].sethide()}}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),l=n(109),s=n(0),d=n(7),p=($(G.handler),function(){function e(t){a(this,e),this.keyword=t.keyword,this.newKey=!0,this.skey=t.skey,this.cookie=0,this.count=30,this.isLoad=!1,this.isRender=!1,this.search_type=0,this.app_id=G.mac?7:4,this.owner=!0,this.other=!0,this.isEnd=!1,this.getDom(),console.log(t)}return e.prototype.getDom=function(){var e=function(e){return'<section class="file-list" id="'+e+'"></section>'};$("#fileListDom").after(e(this.skey)),this.dom=$("#"+this.skey)},e.prototype.reset=function(e){this.isLoad=!1,this.newKey=!0,this.keyword=e.keyword,this.cookie=0,this.owner=!0,this.other=!0,this.isRender=!1,this.isEnd=!1},e.prototype.changeHash=function(){var e=location.hash;e=decodeURIComponent(e);var t={params:{key:this.keyword}};location.hash=e.replace(/&webParams={.+}/,"")+"&webParams="+encodeURIComponent(JSON.stringify(t))},e.prototype.setshow=function(){i(),this.show=!0,this.fillTit(),this.dom.show(),G.scrollHandler=this},e.prototype.sethide=function(){this.show=!1,this.dom.hide()},e.prototype.fillTit=function(e){e&&$(".sub-folder-name").text("共"+e.total+"个搜索结果"),$(".sub-folder").css("display","flex"),$(".root-folder").hide(),$("#createNewFolder").hide(),$(".more-menu").hide()},e.prototype.changeStatus=function(e){console.debug("changeStatus",e,this.keyword,o(this.keyword)),G.module(3),this.keyword!==e.keyword?(this.reset(e),this.getData(),console.debug("get search data")):this.setshow()},e.prototype.showLoad=function(e){var t=$("#loaderDom");0===t.length&&($("body").append('<div class="loader" id="loaderDom"><div class="loading"></div></div>'),t=$("#loaderDom")),e?t.removeClass("open"):t.addClass("open")},e.prototype.convert=function(e){function t(e){return e.gc===G.info.gc}function n(e){return e.gc!==G.info.gc}e=e||[];var a={ut:"upload_time",owner_name:"uin_name"};return function(e){function t(e,t,n){e=e.filter(t);for(var i={},o=e.length-1;o>=0;o--){var r=e[o];i[r.id]=r}for(var l=s.setFileList(e,a),p=l.file,c=p.length-1;c>=0;c--){var f=p[c].fp,u=G.fileMap()["/"+p[c].busid+f],m=i[f].match_word;p[c].name=d.heightLight(u.name.replace(/&nbsp;/gi," "),m),p[c].suf=d.heightLight(u.suf,m),n&&(p[c].otherGroupName=i[f].group_name,p[c].gc=i[f].gc)}return p}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filters:{selfGroupFilter:function(){},otherGroupFilter:function(){}}};return{selfGroupResult:t(e,n.filters.selfGroupFilter),otherGroupResult:t(e,n.filters.otherGroupFilter,!0)}}(e,{filters:{selfGroupFilter:t,otherGroupFilter:n}})},e.prototype.getData=function(){if(!this.isEnd&&!this.isLoad){report("doSearch"),G.module(3),this.isLoad=!0;var e={key_word:this.keyword,count:this.count,app_id:this.app_id,cookie:this.cookie},t=this;r.search(e).done(function(e){$("body").attr("data-mode","search"),t.newKey&&G.tab.resetTab(),t.newKey=!1,t.cookie=e.cookie;var n=t.convert(e.file_list);n.owner=e.owner_total,n.total=e.total,t.render(n),t.isEnd=e.is_end}).fail(function(e){if(t.newKey){t.dom.html(t.noResultRender()),$(".search-empty").css("height","100%"||"160px")}t.showLoad(!0)})}},e.prototype.render=function(e){this.isLoad=!1,G.module(3),this.isRender||(G.nowFolder="/",i(),this.setshow(),this.fillTit(e),this.isRender=!0,$(".scroll-dom")[0].scrollTop=0);var t=e.selfGroupResult,n=e.otherGroupResult,a=e.owner,o=e.total-e.owner,r=!1,s=!1;if($(".root-folder").addClass("folder"),0===a&&0===o){var d=this.noResultRender();return this.dom.html(d),void $(".search-empty").css("height","100%")}t.length>0&&(r=l({data:{self:!0,first:this.owner,list:t,total:a,name:"本群搜索结果",gc:"0000"},renderParams:{actionHide:!1,getByUinHide:!1,searchModule:!0},batchMode:!1})),n.length>0&&(s=l({data:{self:!1,first:this.other,list:n,total:o,name:"其他群的搜索结果",gc:"1111"},renderParams:{actionHide:!1,getByUinHide:!1,searchModule:!0},batchMode:!1})),this.owner&&(report("showSearchRes"),this.dom.html(""),this.owner=!1,$("body").trigger("searchResult",!0)),r&&this.dom.append(r),n.length>0&&this.other&&(this.other=!1),s&&this.dom.append(s)},e.prototype.noResultRender=function(){return this.setshow(),this.dom.height("100%"),this.fillTit({total:0}),['<div class="search-empty"><div class="search-icon-dom">','<div class="icons-search-empty"></div>','<span class="empty-desc">很遗憾，','没有找到与"',this.keyword,'"相关的文件</span></div></div>'].join("")},e}());t.default=p},function(e,t,n){"use strict";function a(){G.flagIsVip&&o.html('<i class="icons-vip"></i>极速下载特权</a>').addClass("is-vip")}function i(){G.flagIsVip&&(r.find(".tips-msg").text("尊贵的QQ超级会员，您已获得群文件极速下载特权，快去下载文件体验吧！"),r.find(".btn-ok").remove()),r.addClass("open"),r.find(".btn-ok").focus()}var o=$("#qqVip"),r=$("#openVip");e.exports={showQQVip:a,show:i}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(92)}]);