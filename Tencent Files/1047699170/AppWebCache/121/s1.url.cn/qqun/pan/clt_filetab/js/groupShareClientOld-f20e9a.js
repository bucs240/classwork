!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//s1.url.cn/qqun/pan/clt_filetab/",t(t.s=238)}([,function(e,t,n){"use strict";function a(){if("/"===G.nowFolder){b.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);y.css("width",e+"%"),$("#fileNum").removeClass("hide")}}function o(e){return e+="",e.replace(/\//gi,"-")}function i(e){var t={};for(var n in e)t[n]=e[n];return t}function r(e){return!(!G.info.isAdmin&&e!==G.info.uin)}function l(e){if(!e||void 0===e.name)return void console.log(!e,!e.name);if(e.filepath&&(e.filepath=e.filepath.replace(/\\\//g,"/")),!e.remoteType)switch(e.busid){case 102:e.remoteType=F;break;case 104:case 105:e.remoteType=x;break;default:e.remoteType=F}if(e.lp&&(G.mac?e.localpath=p.decode(e.lp):e.localpath=p.decode(e.lp).replace(/\\|\//g,"\\\\")),e.upsize<e.size)e.uin===G.info.uin&&(e.type="continueupload",e.status="continue",e.canContinueUpload=!0,e.taskStarttime=e.ct,e.styles="upload pause",e.csize=e.upsize,e.csizeStr=d.getSize(e.upsize),e.cPercent=0,e.upsize&&e.size&&(e.cPercent=100*e.upsize/e.size),e.notComplete=!0,e.result=1,v.parse(e));else{e.result=2,e.auditflag>0&&console.warn("auditFlag",e);var t=(e.name,e.size);e.ct;e.down||(e.down=0),"图片"===e.filetype&&(e.result=3,G.info.isVisitor||(e.preview=!0)),e.remoteType===x&&e.isAdmin&&(e.canForever=!0);var n=0;t<102400?n=5:t<1048576?n=4:t<10485760?n=3:t<52428800?n=2:t<104857600&&(n=1);var a=[];e.isAdmin&&(e.canDelete=!0,e.canRename=!0,a.push("can_delete=1 "),a.push("can_rename=1 ")),e.preview&&a.push("can_preview=1 "),e.canForever&&a.push("can_forever=1 "),e.canDo=a.join(""),e.showMore="",""===e.canDo&&(e.showMore="disable_more"),e.sizeType=n,e.styleTemp||(e.styleTemp=""),e.styleIssucc||(e.styleIssucc=""),e.expireStr="",e.fileTitle=e.filename,e.remotetype===x&&(e.styleTemp="temp",e.expireStr=m.getExpriesDayNum(e.ttl)+"天后到期",e.fileTitle+=" (临时文件：剩余"+data.getExpriesDayNum(e.ttl)+"天)")}return e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(26),c=n(33),p=n(76),f=n(56),u=n(88),m=n(9),v=n(27),_=n(13),h=$(G.handler),g={},w=!1,b=$("#groupSize"),y=$("#groupSizeBar");e.exports=g,g.updateFile=function(e,t){"permanent"===t&&e&&(delete G.fileMap()[e.filepath],e.id&&delete G.fileMap()[e.id],G.fileMap()[e.newFilePath]=e,e.filepath=e.newFilePath)},g.updateFolder=function(e){return delete G.folderMap()[e.id],e.modify_time=Math.ceil((new Date).getTime()/1e3),e.mt=e.modify_time,e.mtStr=c.getDateStr(e.modify_time),G.folderMap()[e.id]=e,e},g.filterFolder=function(e){var t={fname:e.name,fnameEsc:p.decode(e.name),name:e.name,id:e.id,icon:"folder",ct:e.create_time,ctStr:c.getDateStr(e.create_time),mt:e.modify_time,mtStr:c.getDateStr(e.modify_time),uin:e.owner_uin||G.info.uin,filenum:e.size,nick:e.owner_name||G.info.nickName,mnick:e.modify_name||G.info.nickName,muin:e.modify_uin||G.info.uin,orcType:e.type||2,domid:o(e.id),downNum:0},n=_.check(t.id);return n&&(t.localpath=n,t.succ=!0),t},g.addData=function(e){e&&(2===e.orcType?G.folderMap()[e.id]=e:G.fileMap()[e.filepath]=e)},g.getData=function(e){return G.folderMap()[e]||G.fileMap()[e]||!1},g.deleteData=function(e){if(G.folderMap()[e]&&delete G.folderMap()[e],G.fileMap()[e]){var t=g.getFile(e);G.fileMap()(t.filepath),t.id&&G.fileMap()(t.id)}},g.remove=function(e){G.folderMap()[e]&&delete G.folderMap()[e];var t=G.fileMap()[e];t&&(t.isRemoved=!0,delete G.fileMap()[e],delete G.fileMap()[t.filepath])},g.getFile=function(e,t){return G.fileMap()[e]||G.fileMap()[t]||!1},g.getTask=function(e){return G.cMap[e]||!1},g.setAllNum=function(e){G.file||(G.file={}),G.file.allnum=e.total||0},g.setFileCount=function(e){G.file||(G.file={}),G.file.fileCount=e.file_count||0,G.file.isTooMany=e.is_too_many,G.file.isFull=e.is_full},g.setAllSpace=function(e){G.file||(G.file={}),G.file.capacitytotal=d.getSize(e.totalSpace),G.file.capacityused=d.getSize(e.usedSpace),G.file.ct=e.totalSpace,G.file.cu=e.usedSpace},g.removeAllNum=function(e){G.file.allnum&&G.file.allnum--,1===e.remoteType&&(G.file.cu-=e.size,G.file.capacityused=d.getSize(G.file.cu))},g.addAllNum=function(e){},g.updateAllNum=function(e){var t={files:[],action:""};e=m.extend(t,e);for(var n=e.action,o=e.files,i=0,r=o.length-1;r>=0;r--)i+=o[r].size;"add"===n?(G.file.allnum=G.file.allnum+o.length,G.file.cu+=i):"remove"===n?(G.file.allnum=G.file.allnum-o.length,G.file.cu-=i):console.log("illegal action"),a()},g.setRole=function(e){if(!w){w=!0;var t=e.userRole||0,a=e.openFlag||0,o=0,i=0,r=!1,l=3===e.userRole;t>=1&&4!==t?(o=1,1===t&&(i=1),r=!0):3===t&&1===a&&(l=!0),G.info.isAdmin=o,G.info.isMaster=i,G.info.isVisitor=l,G.info.isPublic=a,G.canCreateFolder=r,G.info.role=t,console.log(G.info),report("enter",a),report("showSearchBtn");n(18).init(),$("body").addClass("auth"+G.info.isAdmin)}},g.task2file=function(e){var t=e,n=t.filepath.substr(1,3);n=parseInt(n);var a=parseInt((new Date).getTime()/1e3,10),r=d.getFileName(t.filename);if("downloadcomplete"!==t.status)t.name=r.filename_name,t.fname=t.filename,t.nameEsc=p.decode(r.filename_name),t.folderid=o(t.folderpath),t.down=0,t.filepath=t.filepath,t.fp=t.filepath.substr(4),t.domid=o(t.filepath),t.busid=n,t.filetype=d.getType(r.filename_suc),t.uin=G.info.uin,t.nick=G.info.nickName,t.upsize=t.filesize,t.temp=102!=n,t.ttl=86400,t.ct=a,t.ctStr=c.dayStr(a),t.mt=a,t.mtStr=c.dayStr(a),t.type=1,t.succ=!0,t.admin=!0,t.isDown=!0,t.remove=!0,t.rename=!0,t.size=t.size,t.remoteType=102===n?1:2,t.parentId=t.folderpath||"/";else{var l=void 0,s=t.id;l=i(1===t.downloadtasktype?G.folderMap()[t.filepath]:G.fileMap()[t.filepath]),t=$.extend(!0,l,t),t.taskId=s,t.isDown=!0,t.succ=!0,t.domid=o(t.filepath)}return G.cMap[t.id]&&delete G.cMap[t.id],G.cMap[t.filepath]&&delete G.cMap[t.filepath],2===t.orcType&&(t.id=t.filepath),g.addData(t),t},g.setFileList=function(e,t){G.cMap||(G.cMap={});var n=[],a=[],i=[],s=[];t=m.extend({fn:"name",t:"bus_id",uin:"owner_uin",dt:"download_times",ut:"create_time",mt:"modify_time",lp:"local_path",ufs:"upload_size",fp:"id",fs:"size",owner_name:"owner_name"},t);var v=t.fn,w=t.t,b=t.uin,y=t.dt,F=t.ut,x=t.mt,k=t.lp,T=t.ufs,C=t.fp,S=t.fs,$=t.owner_name;e=e||[];for(var M=0,D=e.length;M<D;M++){var R=e[M];if(void 0===R.type&&(R.type=1),1===R.type){var L=d.getFileName(R[v]),O={t:R[w],exp:R.exp||0,lp:R[k],busid:R[w],fname:R[v],fnameEsc:p.decode(R[v]),name:L.filename_name,nameEsc:p.decode(L.filename_name),suf:L.filename_suf,icon:d.getIcon(L.filename_suf),domid:o("/"+R[w]+R[C]),filepath:"/"+R[w]+R[C],fp:R[C],admin:!1,filetype:d.getType(L.filename_suf),uin:R[b],nick:R[$],size:R[S],sizeStr:d.getSize(R[S]),upsize:R[T],temp:104===R[w],down:R[y],ct:R[F],ctStr:c.dayStr(R[F]),mt:R[x],parentId:R.parent_id,mtStr:c.dayStr(R[x]),orcType:R.type,safeType:R.safe_type,remove:!1,rename:!1,isDown:!1};O.admin=r(R[b]),O.admin&&(O.remove=!0,O.rename=!0),O=l(O);var E=_.check(O.filepath);if(E?(O.isDown=!0,O.localpath=E,O.succ=!0,report("showOpenFile",G.module())):report("showDownloadBtn",G.module()),O.safeType){var N=G.getReportInfo(O);N.ver3=N.ver4,N.ver4=N.ver5,N.ver5=N.ver6,delete N.ver6,reportNew("blackExp",N)}3!==O.result||G.previewCache[O.filepath]||n.push(O),G.previewCache[O.filepath]&&(O.previewObj=G.previewCache[O.filepath]),G.fileMap()[O.filepath]=O,R[S]===R[T]?a.push(O):R[b]===G.info.uin&&(f.add(O),i.push(O))}else{var j=g.filterFolder(R);j.id.indexOf("online_doc_folder")>=0&&(j.isDoc=!0),G.folderNum++,g.addData(j),s.push(j),report("showOpenFile",G.module())}}return G.topFolder={fname:"群文件",fnameEsc:"群文件",id:"/",icon:"folder",mt:0,mtStr:0,uin:0,filenum:0,nick:0,type:2},i.length>0&&(G.cList=i,h.trigger("box.renderNum")),n.length>0&&u.getThumb(n),s.length>0&&report("folderNum",G.module(),s.length),report("showSeeBtn",G.module()),{file:a,folder:s}};var F=1,x=2;!function(){var e=window.external&&window.external.getPreviewSuffixConfig&&window.external.getPreviewSuffixConfig();if(null===e&&(e={content:[]}),"string"==typeof e)try{e=JSON.parse(e)}catch(e){}"object"!==(void 0===e?"undefined":s(e))&&(e={content:[]});var t={};if(e=e.content)for(var n=function(n,a){var o=e[n].suffix,i=e[n].maxsize;o.split(".").forEach(function(e,n,a){e&&(t[e]=i)})},a=0,o=e.length;a<o;a++)n(a,o)}();g.clearComplete=function(){f.clearComplete()}},,,function(e,t,n){"use strict";function a(){var e={};if(window.external&&E.getTaskList){var t=E.getTaskList();if("string"!=typeof t&&(t=""),""===t)e.map={},e.status="busy";else if("{}"===t)e.map={},e.status="ok",e.empty=!0;else{try{e.map=JSON.parse(t)}catch(e){console.error("客户端接口getTaskList返回的数据有问题?parse出错["+t+"]")}"object"===O(e.map)&&null!==e.map?e.status="ok":(e.map={},e.status="parseerror")}}else e={map:{},status:"ok",empty:!0};return e}function o(){var e={};if(window.external&&E.getCompleteTaskList){var t=E.getCompleteTaskList();if("string"!=typeof t&&(t=""),""===t)e.map={},e.status="busy";else if("{}"===t)e.map={},e.status="ok",e.empty=!0;else{try{e.map=JSON.parse(t)}catch(e){console.error("客户端接口getCompleteTaskList返回的数据有问题?parse出错["+t+"]")}"object"===O(e.map)&&null!==e.map?e.status="ok":(e.map={},e.status="parseerror")}}else e={map:{},status:"ok",empty:!0};return e}function i(e){if(window.external&&E.getTaskInfo){E.getTaskInfo(e)}return ret}function r(e,t){var n=void 0;return e||(e=1),window.g_flag_upload_temp&&(e=2),"addUploadTask"in E&&(n=E.addUploadTask(e,t)),n}function l(e,t,n,a,o){var i=void 0;return window.external&&E.addDownloadTask?(n+="",i=E.addDownloadTask(e,t,n,a,o||!1)):i=-1,i}function s(e,t,n){var a=void 0;return window.external&&E.downloadByXF?(n+="",a=E.downloadByXF(e,t,n),console.debug(a)):a=-1,a}function d(e,t,n){return window.external&&E.forwardFile?E.forwardFile(t,e,n):-1}function c(e,t,n){return window.external&&E.forwardFileToDataLine?E.forwardFileToDataLine(t,e,n):-1}function p(e,t,n,a){var o=void 0;return console.log("client",e,t,n,a),window.external&&E.addContinueUploadTask?(o=E.addContinueUploadTask(e,t,n,a),console.log(o)):o=-1,o}function f(e){var t=void 0;return window.external&&E.removeTask?t=E.removeTask(e):(console.log("task相关接口不存在 addContinueUploadTask"),t=-1),t}function u(e){return window.external&&E.removeCompleteTask?E.removeCompleteTask(e):-1}function m(e){return window.external&&E.pauseTask?E.pauseTask(e):-1}function v(e){return window.external&&E.resumeTask?E.resumeTask(e):-1}function _(){var e=top.external&&top.external.CallHummerApi;if(e){var t=void 0;try{return t=e.apply(this,arguments),t=JSON.parse(t)}catch(e){return!1}}return!1}function h(){if(!G.mac)return _("IM.GetVersion");try{return{errorCode:0,version:E.getVersion()}}catch(e){return{errorCode:1,version:0}}}function g(){return!!window.G_DEBUG||!!_("Contact.IsOnline")&&_("Contact.IsOnline").online}function w(e,t){return t=t||1,_("Group.OpenGroupInfoCard",'{ "groupId" : "'+e+'", "tabId" : '+t+" }")}function b(e,t){return _("Group.OpenGroupFile",JSON.stringify({gc:""+e,webParams:t}))}function y(e){if(N)return N;var t={uin:e+""};t=JSON.stringify(t);var n=_("Contact.GetNickName",t);if(n&&0===n.errorCode&&n.nickName&&(N=n.nickName),G.mac)try{N=E.getNickName(e)}catch(t){N=e}return N||e}function F(){return _("IM.GetClientKey")}function x(e){e+="&pictype=scaled&size=1024*1024";return G.mac?window.external&&window.external.previewPicture(e):_("Misc.OpenWebPic",'{"url":"'+e+'"}')}function k(e,t){window.external&&window.external.previewFile(e,t)}function T(){var e=o();if(e.map)for(var t in e.map){var n=e.map[t];if(n.id){var a=u(n.id);-1===a&&console.warn("移除完成任务失败！")}}}function C(e,t,n){return G.mac?window.alert(n):_("Window.Alert",'{ "iconType" : '+e+', "title" : "'+t+'", "text" : "'+n+'" }')}function S(e,t,n){if(G.mac){return{errorCode:0,ret:window.confirm(n)}}return _("Window.Confirm",'{ "iconType" : '+e+', "title" : "'+t+'", "text" : "'+n+'" }')}function $(){return window.external&&E.getUploadFiles?E.getUploadFiles():-1}function M(e,t,n){n||(n=1);return window.external&&E.uploadFiles?E.uploadFiles(e,t,n):-1}function D(e){return remotetype||(remotetype=1),window.external&&E.setUploadFileRemotePath?E.setUploadFileRemotePath(e):-1}function R(e){return console.log(e),window.external&&E.addMultiDownloadTasks?E.addMultiDownloadTasks(e):-1}function L(e){var t=void 0;return window.external&&E.printLog&&(t=E.printLog(e)),t}var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=top.external,N=null;e.exports={getVersion:h,getBatchFiles:$,batchUpload:M,setUploadFileRemotePath:D,getTaskListAdv:a,getCompleteTaskListAdv:o,addUploadTask:r,addDownloadTask:l,addDownloadFast:s,addContinueUploadTask:p,removeTask:f,removeCompleteTask:u,pauseTask:m,resumeTask:v,getTaskInfo:i,forwardFile:d,forwardFileToDataLine:c,callHummerApi:_,getNickName:y,isOnline:g,getClientKey:F,preview:x,previewFile:k,clearClist:T,alert:C,confirm:S,openGroupInfoCard:w,openGroupFile:b,addMultiDownloadTasks:R,printLog:L}},,function(e,t,n){"use strict";var a=n(186),o=n(4),i=n(59),r={};e.exports=r;var l="//pan.qun.qq.com/cgi-bin/group_file/",s={getFileList:l+"get_file_list",renameFolder:l+"rename_folder",getFileInfo:l+"get_file_info",createFolder:l+"create_folder",deleteFolder:l+"delete_folder",renameFile:l+"rename_file",deleteFile:l+"delete_file",moveFile:l+"move_file",fileSearch:l+"search_file",getSpace:l+"get_group_space",previewFile:"//pan.qun.qq.com/cgi-bin/thumbnail",permanent:"//pan.qun.qq.com/cgi-bin/permanent",checkOneFile:"//pan.qun.qq.com/cgi-bin/checkAuditFlag",getFileAttr:l+"get_file_attr",checkVip:"//pan.qun.qq.com/cgi-bin/get_vip_info",getFileCount:l+"get_file_count",cleanFile:l+"clean_file",getRedPoint:"//docs.qq.com/cgi-bin/group_online_docs/list_lastmodify"};r.getRedPoint=function(e){var t={};t.gc||(t.group_code=G.info.gc),t.bkn=a.getToken(),i.ajaxGet({url:s.getRedPoint,param:t,ajaxType:"POST",success:function(t){e(t)},error:function(t){o.printLog("get doc redpoint Error!"),e(t)}})},r.setPermanent=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.permanent,type:"POST",data:e})},r.getFileList=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.getFileList,type:"GET",data:e})},r.deleteFile=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),e.bus_id&&(e.file_list=JSON.stringify({file_list:[{gc:G.info.gc,app_id:G.appid,bus_id:e.bus_id,file_id:e.file_id,parent_folder_id:e.parent_folder_id}]})),a.ajax({url:s.deleteFile,type:"POST",data:e})},r.renameFile=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.renameFile,type:"POST",data:e})},r.moveFile=function(e){var t={};return t.file_list=JSON.stringify({file_list:e}),t.gc||(t.gc=G.info.gc),a.ajax({url:s.moveFile,type:"POST",data:t})},r.createFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.createFolder,type:"POST",data:e})},r.deleteFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.createFolder,type:"POST",data:e})},r.renameFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.renameFolder,type:"POST",data:e})},r.deleteFolder=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.deleteFolder,type:"POST",data:e})},r.getPreview=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.previewFile,type:"POST",data:e})},r.checkOneFile=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.checkOneFile+"?_="+(new Date).getTime(),type:"POST",data:e})},r.search=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.fileSearch,type:"GET",data:e})},r.getSpace=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),a.ajax({url:s.getSpace,type:"GET",data:e})},r.getFileAttr=function(e){return e.gc||(e.gc=G.info.gc),a.ajax({url:s.getFileAttr,type:"GET",data:e})},r.checkVip=function(){var e={gc:G.info.gc};return a.ajax({type:"GET",data:e,url:s.checkVip+"?_="+(new Date).getTime()})},r.getFileCount=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),e.bus_id||(e.bus_id=0),a.ajax({url:s.getFileCount,type:"GET",data:e})},r.cleanFile=function(e){return e=e||{},e.gc||(e.gc=G.info.gc),a.ajax({url:s.cleanFile,type:"POST",data:e})}},,function(e,t,n){"use strict";function a(){if("/"!==G.nowFolder&&G.mac)return void(G.info.isAdmin?$("#createFolder").show():$("#box").addClass("one"));S.text(G.file.allnum).attr("aria-label","共"+G.file.allnum+"个文件"),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);D.css("width",e+"%"),G.file.capacityused?M.text(G.file.capacityused+"/"+G.file.capacitytotal):M.text("未知/未知"),"/"===G.nowFolder&&$("#fileNum").removeClass("hide"),G.info.isAdmin?$("#createFolder").show():$("#box").addClass("one")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!0;return function(e){g(!0);var o=j();if(!e||0===e.file.length&&0===e.folder.length)return i(),a(),void(n=!1);E=!1,G.info.isVisitor&&(t.actionHide=!0);var r=b({list:e.file,renderParams:t}),l=b({list:e.folder,getDateStr:O,renderParams:t});if(n)a(),n=!1,o.html(l),o.append(r);else{var s=$(".fold").last();s.length>0?s.after(l):o.append(l),o.append(r)}if(o.find(".list-item").each(function(e){this.setAttribute("idx",e)}),!window._timePoints.show){savePoint("show");var d={20:window._timePoints.css,21:window._timePoints.zepto,22:window._timePoints.js,23:window._timePoints.start};"isLocal"===localVersion?d[25]=window._timePoints.show:"undefined"!=typeof nodeCost?d[26]=window._timePoints.show:d[24]=window._timePoints.show,QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:1,speedTime:d})}}}function i(){var e=G.getDomPanel();if(!e.find(".list-item").length){var t=y();e.html(t)}}function r(e){if("/"===G.nowFolder){var t=b({list:[e]});if(0===C.find(".icons-empty").length){var n=$("#onlineDocsFolder");0===n.length?C.prepend(t):n.after(t)}else C.html(t)}}function l(e){if(e)if(e.domid){var t=e.domid;k.removeEase($("#"+t))}else if(e.id){var n=e.id;k.removeEase($("[data-path="+n+"]"))}setTimeout(i,500)}function s(e){var t=G.getDomPanel(),n=t.find(".fold").last(),a=b({list:[e]});G.info.version<G.folderVersion?"/"===e.parentId&&"/"===G.nowFolder&&(n.length?n.after(a):t.prepend(a)):n.length?n.after(a):"/"!==G.folder&&0===t.find(".icons-empty").length?t.prepend(a):t.html(a),R.renderSpace()}function d(e){var t=$("#folder"+e.folderid),n=b({list:[e]});t.prepend(n)}function c(e){if(e){var t=e.domid;console.log(t),k.removeEase($("#"+t))}setTimeout(i,500)}function p(e){2===e.orcType?l(e):c(e)}function f(e,t){w.setAllSpace(function(t){u(),e&&e(t)},t)}function u(){if("/"===G.nowFolder){M.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件"),G.file.capacitytotal?$("#ariaSpace").attr("aril-label","已用容量"+G.file.capacityused+"共"+G.file.capacitytotal):$("#ariaSpace").attr("aril-label","已用容量未知G,共未知G");var e=parseInt(G.file.cu/G.file.ct*100);D.css("width",e+"%"),$("#fileNum").removeClass("hide")}}function m(e){var t=e||{},n=t.container||"#folderOrSearchResult",a=t.succ,i=t.searchParams||{},r=JSON.stringify(i);void 0==G.searchFuncSingtons[r]&&(G.searchFuncSingtons[r]=F.search(i)),G.searchFuncSingtons[r](function(e){void 0==G.renderListFuncSingtons[folderId]&&(G.renderListFuncSingtons[folderId]=o(n)),G.renderListFuncSingtons[folderId](e),a&&a(e)},function(){})}function v(){var e="docModify_"+G.info.gc+"_"+k.getUin();console.log(e);var t=localStorage.getItem(e);t=t?parseInt(t):0,w.getRedPoint(function(n){if(0===n.cgicode){var a=n.data.last_modify_ts;G.lastDocModify=a,localStorage.setItem(e,a),a>t&&(G.showRed=!0,document.querySelector("#onlineDocsFolder")&&($("#onlineDocsFolder .file-icons").append('<div class="red-point"></div>'),$("#onlineDocsFolder .file-info dd").html('<span class="uploadtime" title="更新时间:'+O(a)+'"> '+O(a)+"更新</span>")))}})}function _(e){I(e)(),v(),P(),G.file&&G.file.ct||f()}function h(e){var t=void 0;if(1===e.orcType)t=$('.list-item[data-path="'+e.filepath+'"]'),t.find(".downloadtime").text(e.down+"次下载");else{if(t=$("#"+e.domid),e.toFirst)return t.remove(),void r(e);t=$("#"+e.domid),e.filenum&&t.find(".file-size").text(e.filenum+"个文件").attr("title",e.filenum+"个文件"),t.find(".uploadtime").text(e.mtStr+" 更新").attr("title",e.mtStr+" 更新")}if("downloadcomplete"!==e.status&&t.find(".name").html(e.name),"downloadfail"===e.status)t.find(".btn-left").removeClass("downing");else if("uploadcomplete"===e.status||"downloadcomplete"===e.status){t.addClass("succ");var n="打开";G.mac&&(n=""),t.find(".btn-left").removeClass("downing").addClass("open").html('<i class="open"></i>'+n),1===e.orcType&&t.find(".btn-left").attr("data-action","file.openFolder")}else if(e.isDown||e.isDowning)e.isDowning&&(G.mac?t.find(".btn-left").addClass("downing"):t.find(".btn-left").addClass("downing").html("下载中"));else{if(1===e.orcType){var a="下载";G.mac&&(a=""),t.find(".btn-left").attr("data-action","file.download").removeClass("open").addClass("down").html('<i class="down"></i>'+a)}t.removeClass("succ")}}function g(e){N||($("body").append('<div class="loader" id="loaderDom"><div class="loading"></div></div>'),N=$("#loaderDom")),e?N.removeClass("open"):N.addClass("open")}var w=n(229),b=n(39),y=n(115),F=n(89),x=n(1),k=n(9),T=n(15),C=$("#fileListDom"),S=$("#fileNumText"),M=$("#groupSize"),D=$("#groupSizeBar"),R=n(233),L=$(G.handler),O=n(33).getDateStr,E=!0,N=void 0;G.renderListFuncSingtons={},G.getListFuncSingtons={},G.searchFuncSingtons={},L.bind("file.thumbUpdate",function(e,t){var n=$("#"+t.domid);if(n.length&&t.previewObj&&t.previewObj.url){var a=t.previewObj.url+"&pictype=scaled&size=50*50",o=new Image;o.onload=function(){n.find(".files-pic").css("background-image","url("+a+")").addClass("thumb")},o.onerror=function(){console.log("缩略图加载失败!",a)},o.src=a,report("imgurl")}}),L.bind("file.dataUpdate",function(e,t){var n=$("#"+t.domid);1===t.remoteType&&n.removeClass("temp"),t.newFilePath&&n.attr("data-path",t.newFilePath),n.find(".file-info .name").text(t.fnameEsc)});var j=function(){var e=G.module(),t=function(e){return'<section class="file-list" id="'+e+'"></section>'},n=function(){var e=x.getData(G.nowFolder),n=e.domid,a=$("#list"+n);return a.length>0?a:(C.after(t("list"+n)),a=$("#list"+n))},a=function(){var e=$("#searchFileDom");return e.length>0?e:(C.after(t("searchFileDom")),e=$("#searchFileDom"))},o=function(){var e=$("#userFileDom");return e.length>0?e:(C.after(t("userFileDom")),e=$("#userFileDom"))};switch($(".file-list").hide(),e){case 0:return C.show();case 1:return n().show();case 3:return a().show();case 2:return o().show()}};G.getDomPanel=j;var P=function(){var e={filterUin:G.info.uin,filterCode:4};w.getList(e)(function(e){T.firstRender()},function(e){})},I=function(){var e=!1,t=void 0;return function(n){var a=n||{},i=a.paramsFilter||{},r=a.container||"#fileListDom",l=a.succ;a.fail;e=JSON.stringify(t)!==JSON.stringify(i);var s=t=i;return $("body").attr("data-mode","folder"),"/"!==G.nowFolder?$("body").addClass("folder-module"):$("body").removeClass("folder-module"),G.scrollHandler(function(){(e||void 0==G.getListFuncSingtons[s])&&(G.getListFuncSingtons[s]=w.getList(i)),G.getListFuncSingtons[s](function(t){if((e||void 0==G.renderListFuncSingtons[s])&&(e=!1,G.renderListFuncSingtons[s]=o(r,a.renderParams)),3===i.filterCode)for(var n=t.file,d=n.length-1;d>=0;d--){var c=n[d];c.parentId&&G.folderMap()[c.parentId]&&(t.file[d].folderName=G.folderMap()[c.parentId].fnameEsc)}G.renderListFuncSingtons[s](t),g(!0),l&&l(t)},function(e){if(g(!0),e&&console.log(e),1e3!==e.ec){var t="拉取文件列表失败";E&&(G.mac?t+="，请稍后重试":t+='，请稍后<a onclick="window.location.reload();">重试</a>'),L.trigger("toast.show",{type:"fail",text:t,autoHide:!E})}e&&e.fc&&e.fc},function(e){return function(){e()}}(g))})}}();e.exports={init:_,appendFold:r,removeFold:l,appendFile:s,appendFileToFolder:d,updateRow:h,search:m,renderSpace:u,removeRow:p,getList:I,renderList:o,showLoad:g,getDomPanel:j}},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){function e(e,t){for(var n=0,a=0;a<e.length;a++){var o=e.charAt(a);if(encodeURI(o).length>2?n+=1:n+=.5,n>=t){var i=n==t?a+1:a;return e.substr(0,i)}}return e}function t(e){e&&e.length>0&&(e.addClass("remove-ease"),setTimeout(function(){e.remove()},300))}function n(){for(var e={},t=Object.keys(G.folderMap()),n=t.length-1;n>=0;n--){var a=G.folderMap()[t[n]];a&&(e[a.fnameEsc]=a)}for(var o="新建文件夹",i=1;void 0!==e[o];)o="新建文件夹("+i+")",i++;return o}function o(e,t){t.map(function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")});var n="("+t.join("|")+")";return e.split(new RegExp(n,"i"))}function i(e,t){for(var n=t.length-1;n>=0;n--)t[n]=(""+t[n]).toUpperCase();for(var a=[],o=e.length-1;o>=0;o--)-1!==t.indexOf(e[o].toUpperCase())?a[o]='<span class="match-word">'+e[o]+"</span>":a[o]=e[o];return a.join("")}function r(e,t){return i(o(e,t),t)}var l=function(e){var t=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),n=document.cookie.match(t);return n?n[1]:""},s=function(){var e=l("uin");return e?(e+="",e.replace(/^[\D0]+/g,"")):0},d=function(e,t){t=t||location.href;var n=new RegExp("(\\?|#|&)"+e+"=([^&^#]*)(&|#|$)"),a=t.match(n);return decodeURIComponent(a?a[2]:"")},c=function(e){return e+="",e.replace(/^[ 　]*/gi,"")},p=function(e,t){var n=t||3;e+="",e=c(e);var a=e.match(/[^\x00-\xff]/g)||[],o=e.replace(/[^\x00-\xff]/g,"");return parseInt(a.length*n+o.length)},f=function(e,t,n){var a=p(e,3);return!(a<t||a>n)},u=function(e,t){var t=t||10,n=p(e),a=t-n;return a>=0?a:0},m=function(e,t){};window.onerror=function(e,t,n){};var v=function(e,t){return function(n){var a=arguments.length;if(t&&(n=Object(n)),a<2||null==n)return n;for(var o=1;o<a;o++)for(var i=arguments[o],r=e(i),l=r.length,s=0;s<l;s++){var d=r[s];t&&void 0!==n[d]||(n[d]=i[d])}return n}},_=function(e){var t=void 0===e?"undefined":a(e);return"function"===t||"object"===t&&!!e},h=function(e){if(!_(e))return[];var t=[];for(var n in e)t.push(n);return t},g=v(h);return{getCookie:l,getUin:s,getParameter:d,getLen:p,changeLen:u,checkLength:f,checkLen:m,extend:g,removeEase:t,subString:e,quickSortByObjectAttr:function e(t,n){if(t.length<=1)return t;for(var a=Math.floor(t.length/2),o=t.splice(a,1)[0],i=[],r=[],l=0;l<t.length;l++)t[l]&&(t[l][n]>o[n]?i.push(t[l]):r.push(t[l]));return e(i,n).concat([o],e(r,n))},getFolderNameDefault:n,heightLight:r}}()},,function(e,t,n){"use strict";function a(e,t){c.trigger("menu.hide"),e.find(".panel-title span").text(t.title),e.find(".rename-hint").text(t.tips),e.find(".btn-ok").attr("data-action",t.action);var n=e.find(".new-name");t.showValue&&n.val(t.showValue),e.find(".error-message").removeClass("show"),e.addClass("open").focus(),t.showValue&&(n[0].inputStart=!0,n[0].focus(),n[0].select(),setTimeout(function(){n[0].inputStart=!1},200),setTimeout(function(){G.activeElement=n[0]},0))}function o(e){e.removeClass("open")}function i(e){console.warn(e),c.trigger("menu.hide");var t=$("#containerFolderTreePanel");t.html(s.folderTreePanel(e)),d.render(t.find(".folder-tree-box")),t.find("#folderTreePanel").addClass("open")}function r(e,t){c.trigger("menu.hide"),e.addClass("open").focus(),t&&(t.hideAll?e.find(".panel-footer").addClass("hide"):e.find(".panel-footer").removeClass("hide"),t.hideOk?e.find(".btn-ok").addClass("hide"):e.find(".btn-ok").removeClass("hide"),t.closeText?e.find(".btn-no").text("确定").val("确定"):e.find(".btn-no").text("取消").val("取消"),e.find(".panel-title span").text(t.title),e.find(".panel-content").html(t.text),e.find(".btn-ok").attr("data-action",t.action))}function l(){$(".panel-overlay").removeClass("open")}var s={folderTreePanel:n(121)},d=n(28),c=$(G.handler);c.bind("panel.hideAll",l),e.exports={show:a,hide:o,hideAll:l,showFolderTreePanel:i,showBatchPanel:r}},,function(e,t,n){"use strict";function a(){return u||(u="lp"+G.info.gc+"-"+G.info.uin),v||(v="tips"+G.info.gc+"-"+G.info.uin),m||(m="clist"+G.info.gc+"-"+G.info.uin),u}function o(e){try{h.setItem(v,e)}catch(t){h.clear(),h.setItem(v,e)}}function i(){return h.getItem(v)}function r(e){g[e.filepath]=e.localpath,_.push(e);try{h.setItem(u,JSON.stringify(g)),h.setItem(m,JSON.stringify(_))}catch(e){h.clear(),h.setItem(u,JSON.stringify(g)),h.setItem(m,JSON.stringify(_))}}function l(e){1===e.orcType?delete g[e.filepath]:delete g[e.id];try{h.setItem(u,JSON.stringify(g))}catch(e){h.clear(),h.setItem(u,JSON.stringify(g))}}function s(e){return g[e]||!1}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";"push"===t?_.push(e):"delete"===t&&(_=_.filter(function(t){return e.localpath!==t.localpath}));try{h.setItem(m,JSON.stringify(_))}catch(e){h.clear(),h.setItem(m,JSON.stringify(_))}}function c(){var e=h.getItem(m);if(null===e)return!1;try{return JSON.parse(e)}catch(e){return!1}}function p(){h.removeItem(m)}function f(){u=a();var e=h.getItem(u);e&&(g=JSON.parse(e))}var u=void 0,m=void 0,v=void 0,_=[],h=window.localStorage,g={};e.exports={set:r,remove:l,check:s,init:f,setTips:o,getTips:i,clearClist:p,getClist:c,setClist:d}},,function(e,t,n){"use strict";function a(e){var t=w.find('[data-path="'+e+'"]');return t.length>0&&!t.hasClass("complete")&&t}function o(e){var t=w.find('[data-id="'+e+'"]');return t.length>0&&!t.hasClass("complete")&&t}function i(e){return 1===e.type||"upload"===e.type?o(e.taskId):2===e.orcType?o(e.taskId):a(e.filepath)}function r(e){var t=i(e);if("remove"===e.status)return F--,h.removeEase(t),void c();var n=_({list:[e]});t&&t.replaceWith(n),"uploadcomplete"!==e.status&&"downloadcomplete"!==e.status||($("#boxTitle").attr("class","box-title tri"),F--,c())}function l(e){var t=i(e);if(console.log("更新",e,t),k=!0,!(t.length>0)){var n=_({list:[e]});y=!0,F++,c(),w.prepend(n),w.removeClass("empty")}}function s(e){}function d(e,t){}function c(){F<0&&(F=0),F?g.text(F).addClass("small"):g.text(F).removeClass("small")}function p(){k=!1}function f(e,t){var n=_(t);y?w.append(n):w.html(n)}function u(){if(x){x=!1;var e=[],t=G.cList,n=G.pList,a=G.compList;t=t.concat(n);var o=t.length;e=t,a&&(e=t.concat(a)),e=T(e),F=o,c(),f(null,{list:e}),e.length>0&&w.removeClass("empty"),a.length>0&&$("#boxTitle").attr("class","box-title tri")}}function m(){if(h.removeEase(w.find(".complete")),G.mac)for(var e=w.find(".err"),t=e.length,n=0;n<t;n++){var a=e.eq(n),o=a.data("id");b.trigger("task.removeOne",o),h.removeEase(a)}setTimeout(function(){0===w.find(".file2").length&&w.addClass("empty")},500),$("#boxTitle").attr("class","box-title empty")}function v(e){w.find('[data-path="'+e.filepath+'"]').find(".go-folder").addClass("disable")}var _=n(122),h=n(9),g=$("#boxNum"),w=$("#boxListDom"),b=$(G.handler),y=!1,F=0,x=!0,k=!1,T=function(e){for(var t=[],n=[],a=0,o=e.length;a<o;a++)$.inArray(e[a].id,t)<0&&$.inArray(e[a].filepath,t)<0&&(e[a].id&&t.push(e[a].id),e[a].filepath&&t.push(e[a].filepath),n.push(e[a]));return n};e.exports={updateBoxRow:r,addBoxRow:l,removeBoxRow:s,cleanBox:d,render:f,firstRender:u,updateBoxNum:c,clearComplete:m,removePoint:p,removeOpenFolder:v}},,,function(e,t,n){"use strict";var a=n(226),o=$(G.handler),i=function(){a.getFileCount(function(e){G.file.isFull?($(".icons-upload-1").addClass("disabled"),$(".icons-new-folder-1").addClass("icons-new-folder-2"),r()):($(".icons-upload-1").removeClass("disabled"),$(".icons-new-folder-1").removeClass("icons-new-folder-2"),r())})},r=function(e){G.file.isTooMany?($("#alertTips").addClass("not-opacity"),G.info.isAdmin?G.info.isMaster?$("#alertTips").html('<div class="more-file-info"><i class="icons-alert"></i>文件数已超出上限，无法显示文件夹。</div><div class="more-file-tips">请自行清理或<a class="auto-delete-file" data-action="file.autoClear">自动删除旧文件</a></div>'):G.info.isAdmin&&$("#alertTips").html('<div class="more-file-info"><i class="icons-alert"></i>文件数已超出上限，无法显示文件夹。请尽快处理</div>'):$("#alertTips").html('<div class="more-file-info"><i class="icons-alert"></i>文件数已超出上限，无法显示文件夹。</div><div class="more-file-tips">请提醒群主或管理员清除</div>')):$("#alertTips").html('<a href="http://kf.qq.com/faq/120511jiYzIJ140828eimiAR.html" target="_blank" data-action="tips.close">【网络正能量倡议书】腾讯呼吁网友共建绿色QQ群 抵制色情、反动等违法信息。</a><div class="close" data-action="tips.close"></div>').removeClass("not-opacity")};o.bind("filecount.getrole",r),e.exports={init:i}},,,,,,,,function(e,t,n){"use strict";function a(e){var t={fLen:3};if("number"!=typeof e)return"";for(var n,a=e,o=["B","KB","MB","GB","TB","PB"];a>1024;)a/=1024,o.shift();a>=1e3&&(a/=1024,o.shift());var i=2,r=100;if(t&&t.len&&(i=t.len),i<0&&(i=0),r=Math.pow(10,i),a=Math.floor(a*r)/r,t&&t.fLen){var l=a.toString().indexOf(".");if(a.toString().length<=t.fLen){var s=parseInt(a,10).toString().length;a=a.toFixed(t.fLen-s)}else t.fLen<a.toString().length&&(a=a.toString(),a=l>0&&l<3?a.substr(0,4):a.substr(0,3))}return n=a.toString().replace(/\.0+$/,""),n+=o[0],0===a&&(n=0),n}function o(e){var t="unknow",n={excel:/xls|xlsx/i,pdf:/pdf/i,ppt:/ppt|pptx/i,word:/doc|docx|wps/i,text:/txt/i,pic:/jpg|jpeg|jpgx|gif|bmp|png|ico|webp|raw|tiff/i,music:/mp3|wma|midi|aac|ape|flac|wav|mid|ogg|aac/i,video:/mp4|rm|rmvb|mpeg|mov|avi|3gp|amv|dmv|flv|wmv|qsed|asf|mkv/i,zip:/rar|zip|tar|cab|uue|jar|iso|7z|ace|lzh|arj|gzip|bz2/i,code:/ink|torrent|url|vbs|tif|w3g|vbe|ssf|dll|mht|rcd|bat|sav|dat|cmd|ttf|xml|vob|sgs|mhw|js|html|htm|css/i,exe:/exe|msi/i,ipa:/ipa/i,dmg:/dmg/i,apk:/apk/i};for(var a in n){if(n[a].test(e)){t=a;break}}return t}function i(e){var t="其他",n={"文档":/doc|docx|ppt|pptx|xsl|xslx|xls|xlsx|pdf|txt|wps/i,"图片":/jpg|jpeg|jpgx|gif|bmp|png/i,"音乐":/mp3|wma|midi|aac/i,"视频":/mp4|rm|rmvb|mpeg|mov|avi|3gp|amv|dmv|flv|wmv|qsed/i,"压缩包":/rar|zip|tar|cab|uue|jar|iso|7z|ace|lzh|arj|gzip|bz2/i,"应用":/dmg/i};for(var a in n){if(n[a].test(e)){t=a;break}}return t}function r(e){var t=e.lastIndexOf("."),n={};return t>=0?(n.filename_name=e.substr(0,t),n.filename_suf=e.substr(t)):(n.filename_name=e,n.filename_suf=""),n}function l(e){var t=e.lastIndexOf("\\");return e.substr(t+1)}e.exports={getSize:a,getIcon:o,getType:i,getFileName:r,getFolderName:l}},function(e,t,n){"use strict";function a(e){try{if(!e)return;G.cMap||(G.cMap={}),e.taskId=e.id,e.taskId&&(G.cMap[e.taskId]=e),e.filepath&&(G.cMap[e.filepath]=e);var t=d.getType(e.type);d.check(t,e.status);var n=d.getWord(t,e.status),a=d.getClass(t,e.status);if("scan"===a)e.cPercent&&(n+=e.cPercent+"%"),e.cPercent=0,a="pre";else if("pre"===a)e.cPercent=0;else if("pause"===a||"continue"===a)e.csizeStr&&(n+=e.csizeStr),e.sizeStr&&(n+="/"+e.sizeStr);else if("err"===a)e.cPercent=0,e.status.indexOf("securityfail")>=0?(n="<i class='warn'></i>"+getErrorWording(e),e.securityattri>=1&&e.securityattri<=5&&(n+="<i class='security'></i>")):(-1e3==e.errorcode&&(n="该文件已被删除"),n="<i class='warn'></i>"+n);else if("progress"===a){e.speedStr&&(n+=e.speedStr);var o=void 0;if(e.speed){var i=Math.ceil((e.filesize-e.completesize)/e.speed),r=Math.floor(i/3600),l=Math.floor(i%3600/60);i=Math.floor(i%60),r<10&&(r="0"+r),l<10&&(l="0"+l),i<10&&(i="0"+i),o="<span class='lefttime'>"+r+":"+l+":"+i+"</span>"}if(c[e.filepath]){var s=new Date-c[e.filepath];s>3e3&&o&&(n+=o)}else e.filepath&&(c[e.filepath]=new Date)}else"complete"===a?(e.cPercent=100,n+=e.sizeStr):e.c_percent=0;e.wording=n,e.styleType=t,"continueupload"===t&&(e.styleType="upload"),e.styleStatus=a,e.failedFileList&&e.failedFileList.length>0?e.styles=e.styleType:e.styles=e.styleType+" "+e.styleStatus}catch(t){console.warn("parse",t,e)}}function o(e){e.taskId=e.id,1===e.downloadtasktype?(e.filepath=e.folderpath,e.orcType=2,e.icon="folder",G.mac?e.name=e.filename:e.name=s.getFolderName(e.localpath),e.filename=e.name,e.filelist=[],e.status||(e.status="downloadprogress"),e.filesize=e.foldersize):e.orcType=1,e.fnameEsc||(e.fnameEsc=e.filename),e.speedStr="",e.wording="",e.csizeStr="",e.updateFlag=!0;var t=e.filename,n=e.filesize;e.createtime;e.speedStr=s.getSize(e.speed),0===e.speedStr?e.speedStr="":e.speedStr+="/S",void 0===e.size&&(e.size=e.completesize),e.sizeStr=s.getSize(n),e.csizeStr=s.getSize(e.completesize);var o=0;e.completesize>0&&e.filesize>0&&(o=Math.round(100*e.completesize/e.filesize)),e.cPercent=o;var i=t.lastIndexOf(".");return i>=0?(e.name=t.substr(0,i),e.suf=t.substr(i)):(e.name=t,e.suf=""),e.icon||(e.icon=s.getIcon(e.suf)),a(e),e}function i(e){var t=[];for(var n in e){var a=e[n];if(a=o(a),2!==a.downloadtasktype)t.push(a);else{var i=l(a.fordertaskid);i&&(i.fileTaskList||(i.fileTaskList=[]),i.fileTaskList.push(a.id))}}return t}function r(e){var t=[];for(var n in G.cMap){var a=G.cMap[n];a.foldertaskid!==e&&a.folderpath!==e||t.push(a)}return t}function l(e){return G.cMap[e]||!1}var s=n(26),d=n(187),c=(n(50),{});e.exports={get:o,getFolderTask:r,getOneTask:l,parse:a,cleanMap:i}},function(e,t,n){"use strict";function a(e,t){G.folderTree=G.folderTree||{};var n="/"===G.nowFolder?{fname:"群文件",id:"/"}:G.folderMap()[G.nowFolder];G.folderTree&&G.folderTree.selected&&(G.folderTree.selected=n),G.folderTree.container=$(e);for(var a=[],i=Object.keys(G.folderMap()),l=i.length-1;l>=0;l--)a.push(G.folderMap()[i[l]]);a=s.quickSortByObjectAttr(a,"mt"),$(e).html(r.folderTree({topFolder:G.topFolder,items:a})),o(n.id)}function o(e){if(e=e||$(this).data("id")){G.folderTree||(G.folderTree={}),l.find(".active").removeClass("active");var t={};"/"===e?t=G.folderTree.selected=G.topFolder:"new"!==e?t=G.folderTree.selected=G.folderMap()[e]:(t={id:e},G.folderTree.selected=t),console.debug(t),$('.folder-list-item[data-id="'+t.id+'"]').addClass("active"),void 0!==t.fname&&l.find('[data-role="dest"]').html(t.fname)}}function i(){var e=G.folderTree.container.find(".secondary-folder-list li");e.length?e.first().before(r.newFloder()):G.folderTree.container.find(".secondary-folder-list").append(r.newFloder())}var r={folderTree:n(113),newFloder:n(114)},l=$("#containerFolderTreePanel"),s=n(9);e.exports={render:a,newFolder:i,select:o}},function(e,t,n){"use strict";function a(e,t){if(e=Math.abs(e),r[e]&&$.inArray(e,d)>=0)t.find(".error-message").text(r[e]).addClass("show");else{var n=r[e]||"操作失败";l.trigger("toast.show",{type:"alert",text:n}),s.hideAll()}}function o(){l.trigger("toast.show",{type:"alert",text:msg})}function i(){l.trigger("toast.show",{type:"alert",text:msg})}var r={102:"非群成员",103:"该文件不存在或已失效",106:"登录态校验失败",116:"没有权限",117:"没有权限",118:"没有权限",119:"没有权限",120:"没有权限",121:"没有权限",122:"没有权限",123:"没有权限",124:"没有权限",125:"没有权限",126:"没有权限",127:"没有权限",128:"没有权限",129:"没有权限",130:"没有权限",131:"没有权限",132:"文件存在安全风险",133:"文件安全性未知",134:"名称包含特殊/敏感字符，请重新输入。",313:"已存在同名文件夹，请重新命名",314:"创建文件夹失败",315:"删除文件夹失败",402:"文件数量已经超过限制",403:"可用空间不够",405:"创建失败，文件夹个数已达上限",25:"操作失败，空间不足."},l=$(G.handler),s=n(11),d=[134,313,405];e.exports={showError:a,showWait:o,showSuc:i}},,,,function(e,t,n){"use strict";function a(e){return Math.ceil(e/86400)}function o(e){return e=w(e),e.getFullYear()==F.getFullYear()&&(e.getMonth()==F.getMonth()&&e.getDate()==F.getDate())}function i(e){e=w(e);var t=o(e),n=!1;if(!t){var a=new Date(F.getFullYear(),F.getMonth(),F.getDate())-e;n=a>0&&a<864e5}return n}function r(e){e=w(e);var t=o(e),n=!1;if(!t){var a=new Date(F.getFullYear(),F.getMonth(),F.getDate())-e;n=a>0&&a<1728e5}return n}function l(e){e=w(e);var t=o(e),n=!1;if(!t){var a=new Date(F.getFullYear(),F.getMonth(),F.getDate())-e;n=a>=0&&a<=864e5}return n?"昨天":"前天"}function s(e){e=w(e);var t=o(e),n=!1;if(!t){var a=new Date(F.getFullYear(),F.getMonth(),F.getDate())-e;n=a>0&&a<1728e5}return n}function d(e){return(e=w(e))>u(F)}function c(e){return e=w(e),e.getYear()==F.getYear()}function p(e){e||(e=F.getFullYear());var t=new Date(e,0,1),n=t.getDay();0===n&&(n=7);var a=[null,"一","二","三","四","五","六","日"];a[n];return 1!=n&&t.setDate(9-n),t}function f(e){var t=new Date(e),n=p(t.getFullYear()),a=0;return n.getDate()>1&&(a=1),t<n?1:Math.floor((t-n)/7/864e5)+a}function u(e){var t=w(e),n=t.getDay();0===n&&(n=7);var a=n-1;return new Date(t.getTime()-864e5*a)}function m(e){var t=w(e),n=t.getDay();return 0===n&&(n=7),n}function v(){}function _(e){if(e){var t=w(e),n=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),i=t.getHours(),r=t.getMinutes();return r<10&&(r="0"+r),n+"-"+a+"-"+o+" "+i+":"+r}}function h(e){if(e){var t=w(e),n=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),i=(t.getHours(),t.getMinutes());return i<10&&(i="0"+i),n+"-"+a+"-"+o}}function g(e){var t=w(e),n=new Date,a=n.getTime()-t.getTime(),o=parseInt(a/36e5,10);return o<1?o="刚刚":o+="小时前",o}function w(e){var t=e;return"string"==typeof e&&(t=new Date(e)),"number"==typeof e&&(t=new Date(1e3*e)),t}function b(e){if(e){var t=60,n=3600,a=86400;return e>=a?Math.ceil(e/a)+"天":e>=n?Math.ceil(e/n)+"小时":e>=t?Math.ceil(e/t)+"分钟":e>0?e+"秒":"已过期"}}function y(e){var t=void 0;return"number"==typeof e?t=new Date(1e3*e):e instanceof Date&&(t=e),o(t)?"今天":r(t)?l(t):h(t)}function G(e){var t=e.createtime;e.day_str=y(t),e.createtime_str=_(t),"今天"===e.day_str&&(e.createtime_str=g(t)),"最近三天"===e.day_str&&(e.createtime_str=l(t))}var F=new Date;F.getFullYear();e.exports={dayStr:y,genTimeStr:G,getValidity:b,toDate:w,getHourStr:g,getExpriesDayNum:a,isToday:o,isYesterday:i,strYesterdayOrPre:l,isLast3days:s,isThisWeek:d,isThisYear:c,getMonOY:p,getWOY:f,getMOW:u,getDayOfWeek:m,getDayOfYear:v,getDateStr:_}},function(e,t,n){"use strict";function a(){var e=$(this).parents(".list-item"),t=e.data("path"),n=void 0,a=b.getData(t);2===a.orcType?n="fold":1==a.orcType&&(n="file"),G.selectRow=a||{},G.selectRow.path=t,G.selectRow.type=n,G.selectRows=[G.selectRow]}var o=n(211),i=n(83),r=n(51),l=n(217),s=n(80),d=n(212),c=n(79),p=n(216),f=n(81),u=n(214),m=n(52),v=n(210),_=n(82),h=n(213),g=n(215),w=n(209),b=n(1);e.exports={"file.batchDelete":v.remove,"batch.removeAction":v.removeAction,"file.batchMove":v.move,"file.batchDownload":v.down,"batch.downloadAction":v.downloadAction,"file.batchSaveAs":v.save,"file.selectAll":m.selectAll,"file.select":m.select,"file.check":m.check,"file.exitBatch":m.exit,"file.upload":i.upload,"file.batchUpload":i.bupload,"file.openFolder":r.openByPath,"file.openFolderInBox":r.openByMenu,"file.showRename":l.showFileRename,"file.renameFile":l.renameFile,"file.saveAs":_.save,"file.download":s.download,"file.downloadBatch":s.downloadBatch,"file.preview":p.preview,"file.menupreview":p.menupreview,"file.jubao":u,"file.permanent":g,"file.delete":c.removeOne,"file.deleteBatch":c.removeBatch,"file.forward":d.forward,"file.forwardMobile":d.toMobile,"file.showUpload":i.showUpload,"file.showMove":f.showMove,"file.move":f.move,"upload.noTips":i.noTips,"upload.cUpload":i.cupload,"file.getByUin":h.byUin,"file.getAttr":w,"qq.update":i.update,"file.aria":a,"file.autoClear":o.clickClearFile,"file.doClearFile":o.doClearFile}},function(e,t,n){"use strict";function a(){return report("clkCreateFolder"),G.file.isFull?y.show(G.mac?"fail":"alert","文件数已达到上限"):G.canCreateFolder?(c.show(d,{title:"新建文件夹",tips:"请输入文件夹名称",showValue:h.getFolderNameDefault(),action:"folder.createFolder"}),void $(".new-name").focus()):void w.trigger("toast.show",{type:"new-alert",text:"文件夹个数已达上限"})}function o(e){report("renameFolder"),console.log(G.selectRow),c.show(d,{title:"重命名",tips:"请输入文件夹的新名称",action:"folder.renameFolder",showValue:G.selectRow.fnameEsc})}function i(){c.hide(d),G.activeElement&&G.activeElement.focus()}function r(){}function l(){}function l(){d.find(".btn-ok").attr("data-action","folder.createOK")}function s(){if(event&&13!==event.keyCode)return void b["input.keyup"].call(this,event);var e=$('[data-keyup="folderTree.create"]');if(!e.length)return void(callback&&callback());var t=e.val();b.folderName(t)&&p.createFolder()}var d=$("#folderPanel"),c=n(11),p=n(84),f=n(218),u=n(222),m=n(219),v=n(220),_=n(85),h=(n(221),n(9)),g=n(51),w=$(G.handler),b=n(55),y=n(58);e.exports={"folder.openfolder":g.openByFolder,"folder.property":v.show,"folder.create":a,"folder.panelhide":i,"folder.show":r,"folder.showmove":l,"folder.toDelete":l,"folder.createFolder":p.createFolder,"folder.deleteFolder":f.deleteFolder,"folder.renameFolder":u.renameFolder,"folder.showDeleteFolder":f.showDeleteFolder,"folder.showRenameFolder":o,"folder.open":_.renderFolder,"folder.download":m.download,"input.createFolder":s}},function(e,t,n){"use strict";var a=n(11),o=function(){a.hideAll(),G.activeElement&&G.activeElement.focus()};e.exports={"panel.close":o}},function(e,t){!function(){var t="ALLOY_REPORT_TEMP",n={},a=!1,o=function(e){var t;return window&&window.localStorage?(t=window.localStorage.getItem(e))&&JSON.parse(t)||void 0:n[e]},i=function(e,t){t?window&&window.localStorage?window.localStorage.setItem(e,JSON.stringify(t)):n[e]=t:window&&window.localStorage?window.localStorage.removeItem(e):delete n[e]},r=function(e,n){var a=[];try{a=o(t),(!a instanceof Array||!a)&&(a=[]),a.push({t:e,d:n}),i(t,a)}catch(e){console.error(e)}a.push({t:e,d:n})},l=["monitor","tdw","huatuo","retcode","tdbank","tdw.setDefaultTable","tdbank.setDefaultTable","tdw.setDefaultData","tdbank.setDefaultData","tdw.clearDefaultData","tdbank.clearDefaultData","performance","closeLog","openLog"],s={},d=function(){var e;!(e=o(t))instanceof Array&&(e=[]);for(var n=0;n<e.length;n++)try{var a=e[n].t.split(".");if(a.length>1){if(!s[a[0]])return;s[a[0]][a[1]].apply(this,e[n].d)}else s[a[0]].apply(this,e[n].d)}catch(e){console.error(e)}i(t),window.__reportWating=!1},c=function(e){if(e=e||0,("undefined"!=typeof window||"undefined"!=typeof document)&&!window.QReport.isMain&&e<4){var t="//s.url.cn/pub/js/alloyreport.js?_bid=2231";e&&e<3?t="//s"+e+".url.cn/pub/js/alloyreport.js":e&&(t="//qun.qq.com/pub/js/alloyreport.js");var n=document.createElement("script");n.setAttribute("src",t),n.onload=n.onreadystatechange=function(){if(!(a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))if(a=!0,window.QReport.isMain)try{window.QReport.reset=window.AlloyReportCore&&window.AlloyReportCore.reset||function(){},Object.assign(s,window.QReport),d()}catch(e){}else{switch(a=!1,e){case 0:window.QReport.monitor(2396704);break;case 1:window.QReport.monitor(2396705);break;case 2:window.QReport.monitor(2396706)}c(e+1)}},n.onerror=function(){switch(e){case 0:window.QReport.monitor(2396704);break;case 1:window.QReport.monitor(2396705);break;case 2:window.QReport.monitor(2396706)}c(e+1)},document.body.appendChild(n)}};"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(!e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});for(var p=0;p<l.length;p++){var f=l[p],u=f.split("."),m=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);r(e,t)}}(f);u.length>1?(s[u[0]]||(s[u[0]]={}),s[u[0]][u[1]]=m):s[u[0]]=m}"undefined"!=typeof window&&(window.QReport=s,window.AlloyReport=s,window.__reportWating=!0),void 0!==e&&e.exports&&(e.exports=s),"undefined"==typeof window&&"undefined"==typeof document||(window.QReport=s,window.AlloyReport=s,window.__reportWating=!0,c(0))}()},,function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})for(var i=0,l=locals.list.length;i<l;i++){var item=locals.list[i];2===item.orcType?(__append("\n\t"),item.isDoc?(__append('\n\t\t<div class="fold list-item '),item.succ&&__append("succ"),__append('" data-path="'),__append(escapeFn(item.id)),__append('" id="onlineDocsFolder" data-action="folder.open">\n\t\t\t<div class="file-select">\n\n\t\t\t</div>\n\t\t\t<div class="file-icons">\n\t\t\t\t<div class="files-folder" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('"></div>\n\t\t\t\t<i class="icons-check"></i>\n\t\t\t\t'),G.showRed&&__append('\n\t\t\t\t\t<div class="red-point"></div>\n\t\t\t\t'),__append('\n\t\t\t</div>\n\t\t\t<dl class="file-info">\n\t\t\t\t<dt>\n\t\t\t\t\t<div class="name" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('">\n\t\t\t\t\t\t'),__append(item.fname),__append("\n\t\t\t\t\t</div>\n\t\t\t\t</dt>\n\t\t\t\t<dd>\n\t\t\t\t\t"),G.lastDocModify?(__append('\n\t\t\t\t\t\t<span class="uploadtime" title="更新时间:'),__append(escapeFn(locals.getDateStr(G.lastDocModify))),__append('"> '),__append(escapeFn(locals.getDateStr(G.lastDocModify))),__append("更新</span>\n\t\t\t\t\t")):__append('\n\t\t\t\t\t\t<span class="uploadtime">多人编辑、永久保存</span>\n\t\t\t\t\t'),__append('\n\t\t\t\t</dd>\n\t\t\t</dl>\n\t\t\t<div class="file-action">\n\t\t\t\t<div class="btn-group">\n\t\t\t\t\t<a href="javascript:void(0)" class="btn-left download open open-folder-link" title="打开文件夹" tabindex="3" aria-label="打开文件夹'),__append(item.fname),__append('" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('" tabindex="3">\n\t\t\t\t\t\t<i class="open mac-folder"></i>打开\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t')):(__append('\n\t\t\t<div class="fold list-item '),item.succ&&__append("succ"),__append('" data-path="'),__append(escapeFn(item.id)),__append('" id="'),__append(escapeFn(item.domid)),__append('" data-action="folder.open">\n\t\t\t\t<div class="file-select">\n\n\t\t\t\t</div>\n\t\t\t\t<div class="file-icons">\n\t\t\t\t\t<div class="files-folder" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('"></div>\n\t\t\t\t\t<i class="icons-check"></i>\n\t\t\t\t</div>\n\t\t\t\t<dl class="file-info">\n\t\t\t\t\t<dt>\n\t\t\t\t\t\t<div class="name" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('">\n\t\t\t\t\t\t\t'),__append(item.fname),__append('\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</dt>\n\n\t\t\t\t\t<dd>\n\t\t\t\t\t\t<span class="file-size" title="'),__append(item.filenum),__append('个文件">'),__append(item.filenum),__append('个文件</span>\n\t\t\t\t\t\t<span class="file-dot">.</span>\n\t\t\t\t\t\t<span class="uploadtime" title="更新时间:'),__append(escapeFn(item.mtStr)),__append('">'),__append(escapeFn(item.mtStr)),__append(" 更新</span>\n\t\t\t\t\t</dd>\n\t\t\t\t</dl>\n\t\t\t\t"),locals.renderParams&&!0===locals.renderParams.actionHide||(__append('\n\t\t\t\t\t<div class="file-action">\n\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn-left download open open-folder-link" title="打开文件夹" tabindex="3" aria-label="打开文件夹'),__append(item.fname),__append('" data-action="folder.open" data-path="'),__append(escapeFn(item.id)),__append('" data-viewcntr="folder'),__append(escapeFn(item.domid)),__append('" tabindex="3">\n\t\t\t\t\t<i class="open mac-folder"></i>'),G.mac||__append("打开"),__append('\n\t\t\t\t</a>\n\t\t\t\t\t\t\t<a class="file-more icons-btn-right-down folder-icon-down-link" data-action="menu.foldmore" menu="file-menu" title="更多"></a>\n\t\t\t\t\t\t\t<div class="aria-hide">\n\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="下载文件夹'),__append(escapeFn(item.fname)),__append('" data-action="folder.download" tabindex="3">下载</a>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="重命名文件夹'),__append(escapeFn(item.fname)),__append('" data-action="folder.showRenameFolder" data-blur="aria.fmg" tabindex="3">重命名</a>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="查看文件夹属性'),__append(escapeFn(item.fname)),__append('" data-action="folder.property" data-blur="aria.fmg" tabindex="3">文件夹属性</a>\n\t\t\t\t\t\t\t\t'),G.info.isAdmin?(__append('\n\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="删除文件夹'),__append(escapeFn(item.fname)),__append('" data-action="folder.showDeleteFolder" tabindex="3">删除</a>\n\t\t\t\t\t\t\t\t\t')):(__append('\n\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="举报'),__append(escapeFn(item.fname)),__append('" data-action="file.jubao" tabindex="3">举报</a>\n\t\t\t\t\t\t\t\t\t\t')),__append("\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t")),__append('\n\t\t\t\t\t\t<div class="line"></div>\n\t\t\t</div>\n\t\t\t')),__append("\n\t\t\t\t")):(__append('\n\t\t\t\t\t<div class="file list-item '),__append(escapeFn(item.icon)),__append(" "),2===item.remoteType&&__append("temp"),__append(" "),item.succ&&__append("succ"),__append(" "),item.safeType&&__append("illegal"),__append('" id="'),__append(escapeFn(item.domid)),__append('" data-path="'),__append(escapeFn(item.filepath)),__append('" '),locals.renderParams||(__append('id="\n\t\t\t\t\t\t'),__append(escapeFn(item.domid)),__append('"\n\t\t\t\t\t\t\t')),__append("\n\t\t\t\t\t\t\t\t"),item.otherGroupName&&(__append(' data-action="openGroupFile" data-uin="\n\t\t\t\t\t\t\t\t\t'),__append(item.gc),__append('"\n\t\t\t\t\t\t\t\t\t\t')),__append("\n\t\t\t\t\t\t\t\t\t\t\t"),item.preview&&__append('data-action="file.preview"\n\t\t\t\t\t\t\t\t\t\t\t\t'),__append("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),item.safeType&&__append('title="该文件存在安全风险，无法正常使用"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),__append('>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="file-select">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),(locals.batchMode===undefined||locals.batchMode)&&(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" class="cbox" data-action="file.check" aria-label="文件类型:'),__append(escapeFn(item.filetype)),__append(",名称"),__append(escapeFn(item.fname)),__append(",大小:"),__append(escapeFn(item.sizeStr)),__append(",下载次数:"),__append(escapeFn(item.down)),__append("次,上传人:"),__append(escapeFn(item.nick)),__append(",上传时间:"),__append(escapeFn(item.ctStr)),__append('" tabindex="3" value="'),__append(escapeFn(item.filepath)),__append('">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t')),__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="file-icons" data-path="'),__append(escapeFn(item.filepath)),__append('" '),item.preview&&__append('data-action="file.preview"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),__append('>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="files-'),__append(escapeFn(item.icon)),__append(" "),item.previewObj&&__append("thumb"),__append('" '),item.previewObj&&(__append('style="background-image:url(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),__append(escapeFn(item.previewObj.url)),__append(');"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t')),__append('></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="icons-check"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dl class="file-info">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dt>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="name">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),__append(item.name),__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="suffix">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),__append(item.suf),__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="icons-temp-icon" '),item.safeType||__append('title="临时文件"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),__append('></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="security"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dt>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="file-size" '),item.safeType||(__append('title="文件大小:'),__append(escapeFn(item.sizeStr)),__append('"')),__append(">"),__append(escapeFn(item.sizeStr)),__append('</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="file-dot">.</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span '),item.safeType||(__append('title="下载次数:'),__append(escapeFn(item.down)),__append('次"')),__append('><span class="downloadtime">'),__append(escapeFn(item.down)),__append("次下载</span></span>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),locals.renderParams&&!0===locals.renderParams.uploaderHide||(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="uploader" '),item.safeType||(__append('title="上传者:'),__append(escapeFn(item.nick)),__append(" ("),__append(escapeFn(item.uin)),__append(')"')),__append('><i class="uploader-name" '),__append(locals.renderParams&&!0===locals.renderParams.getByUinHide?'data-action=""':'data-action="file.getByUin"'),__append(' data-uin="'),__append(escapeFn(item.uin)),__append('">'),__append(item.nick),__append("</i></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")),__append('\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="uploadtime" '),item.safeType||(__append('title="上传时间:'),__append(escapeFn(item.ctStr)),__append('"')),__append(">"),__append(escapeFn(item.ctStr)),__append("</span>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),item.folderName&&(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="uploader" '),item.safeType||(__append('title="来自：'),__append(escapeFn(item.folderName)),__append('"')),__append(' data-action="folder.open" data-path="'),__append(item.parentId),__append('">来自：<a class="from-folder-name">'),__append(escapeFn(item.folderName)),__append("</a></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")),__append("\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),item.otherGroupName&&(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="from-group">来自群：</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="other-group-name" data-action="openGroupInfoCard" '),item.safeType||(__append('title="来自群：'),__append(escapeFn(item.otherGroupName)),__append('"')),__append(' data-uin="'),__append(item.gc),__append('">'),__append(item.otherGroupName),__append("</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")),__append("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),locals.renderParams&&!0===locals.renderParams.actionHide||(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="file-action">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),item.isDown?(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn-left download open open-file-link" data-action="file.openFolder" title="打开" tabindex="3" aria-label="打开文件'),__append(escapeFn(item.name)),__append('">\n\t\t\t\t\t\t<i class="open"></i>'),G.mac||__append("打开"),__append("\n\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")):(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="btn-left download download-file-link" data-action="file.download" title="下载" tabindex="3" aria-label="下载文件'),__append(escapeFn(item.name)),__append('">\n\t\t\t\t\t\t<i class="down"></i>'),G.mac||__append("下载"),__append("\n\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")),__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="file-more icons-btn-right-down file-icons-down-link" data-action="menu.filemore" menu="file-menu" title="更多"></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t')),__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="aria-hide">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'),(item.admin||G.info.isAdmin)&&(__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="转发文件'),__append(escapeFn(item.fname)),__append('" data-action="file.forward" tabindex="3">转发</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="转发文件到手机'),__append(escapeFn(item.fname)),__append('" data-action="file.forwardMobile" tabindex="3">转发文件到手机</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="在文件夹中显示'),__append(escapeFn(item.fname)),__append('" data-action="file.openFolderInBox" tabindex="3">在文件夹中显示</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="重命名文件'),__append(escapeFn(item.fname)),__append('" data-action="file.showRename" data-blur="aria.fmg" tabindex="3">重命名</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="转存为永久文件'),__append(escapeFn(item.fname)),__append('" data-action="file.permanent" tabindex="3">转存为永久文件</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="移动文件'),__append(escapeFn(item.fname)),__append('" data-action="file.showMove" data-blur="aria.fmg" tabindex="3">移动文件</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="删除文件'),__append(escapeFn(item.fname)),__append('" data-action="file.delete" tabindex="3">删除</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t')),__append('\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="javascript:void(0)" data-focus="file.aria" aria-label="举报文件'),__append(escapeFn(item.fname)),__append('" data-action="file.jubao" tabindex="3">举报文件</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="line"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t'))}return __output.join("")}},,,,,,,,,,,function(e,t,n){"use strict";var a={upload:"upload",continueupload:"continueupload",download:"download"},o={};o.upload={scanning:"扫描中...&nbsp;&nbsp;",scanfail:"扫描失败&nbsp;&nbsp;",scanend:"扫描完成...&nbsp;&nbsp;",uploadgeturl:"准备上传...&nbsp;&nbsp;",uploadgeturlend:"上传中...&nbsp;&nbsp;",uploadadminonlyfail:"无法上传，已限制成员上传文件",uploadgeturlfail:"申请上传地址失败",uploadlimit:"文件个数达到上限，无法上传",uploadsecurityfail:"安全扫描失败",cancel:"空间不足,已取消上传",uploadprogress:"上传中:&nbsp;&nbsp;",uploadfail:"上传失败",uploadcomplete:"上传完成&nbsp;&nbsp;",filenotexsit:"文件不存在",pause:"暂停&nbsp;&nbsp;",continue:"待续传&nbsp;&nbsp;"},o.download={wait:"等待下载...&nbsp;&nbsp;",downloadready:"准备下载...&nbsp;&nbsp;",downloadgeturl:"准备下载...&nbsp;&nbsp;",downloadgeturlfail:"获取下载地址失败",cancel:"已取消下载&nbsp;&nbsp;",downloadgeturlend:"下载中...",downloadprogress:"下载中:&nbsp;&nbsp;",downloadfail:"下载失败&nbsp;&nbsp;",filenotexsit:"文件不存在",downloadcomplete:"下载完成&nbsp;&nbsp;",pause:"暂停&nbsp;&nbsp;"},o.continueupload={scanning:"扫描中...&nbsp;&nbsp;",scanfail:"扫描失败&nbsp;&nbsp;",scanend:"扫描完成...&nbsp;&nbsp;",uploadgeturl:"准备续传...&nbsp;&nbsp;",uploadgeturlend:"续传中...&nbsp;&nbsp;",uploadgeturlfail:"申请续传地址失败",uploadlimit:"文件个数达到上限，无法上传",uploadsecurityfail:"安全扫描失败",cancel:"空间不足,已取消续传",uploadprogress:"续传中:&nbsp;&nbsp;",uploadfail:"续传失败",uploadcomplete:"续传完成&nbsp;&nbsp;",pause:"暂停&nbsp;&nbsp;",filenotexsit:"文件不存在",continue:"待续传&nbsp;&nbsp;"};var i={};i.upload={scanning:"scan",scanfail:"err",scanend:"scan",uploadgeturl:"pre",uploadgeturlend:"pre",uploadgeturlfail:"err",uploadsecurityfail:"err",cancel:"err",uploadprogress:"progress",uploadfail:"err",uploadcomplete:"complete",pause:"pause",filenotexsit:"err",continue:"continue",remove:""},i.download={wait:"pre",downloadready:"pre",downloadgeturl:"pre",downloadgeturlfail:"err",cancel:"err",downloadgeturlend:"pre",downloadprogress:"progress",downloadfail:"err",filenotexsit:"err",downloadcomplete:"complete",pause:"pause"},i.continueupload={scanning:"scan",scanfail:"err",scanend:"scan",uploadgeturl:"pre",uploadgeturlend:"pre",uploadgeturlfail:"err",uploadsecurityfail:"err",cancel:"err",uploadprogress:"progress",uploadfail:"err",uploadcomplete:"complete",pause:"pause",filenotexsit:"err",continue:"continue",remove:""};var r={upload:"upload",download:"download",continueupload:"upload"},l=["安全","扫描到病毒，已取消上传","扫描到未知风险","扫描到安全风险","扫描到安全风险","扫描到安全风险","文件包含敏感词"],s={"download-downloadgeturlfail":"下载失败,请稍候再试","download-cancel":"","download-downloadfail":"下载失败","upload-scanfail":"扫描失败,请稍候再试","upload-uploadgeturlfail":"上传失败","upload-uploadsecurityfail":"上传安全扫描失败","upload-cancel":"空间不足,已取消上传","upload-uploadfail":"上传失败,请稍候再试",folderLimit:"文件夹个数以达上限"};e.exports={errorCfg:s,errorCfgPrefix:r,securityattriMap:l,styleMap:i,wordingMap:o,typeMap:a,refreshTime:300}},function(e,t,n){"use strict";function a(e){delete e.status,e.isDown=!1,e.isDowning=!1,e.succ=!1,f.updateRow(e),u.removeOpenFolder(e),m.remove(e)}function o(e){if(v.trigger("menu.hide"),window.external&&window.external.isFileExist){var t=window.external.isFileExist(e);if("false"==t||!1===t){p.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置");return a(c.getFile(e)),!1}}if(window.external&&window.external.openFile){var n=window.external.openFile(e);if("success"==n)return!0;if("file cannot open"!==n)return!1}if(window.external&&window.external.openFolder){if("success"!=window.external.openFolder(e))return p.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),!1}}function i(){if(!this.classList.contains("disable")){var e=G.selectRow,t=e.localpath;if(v.trigger("menu.hide"),"string"==typeof t&&t.indexOf("OSRoot")<0&&(t="OSRoot:\\"+t),report("clkOpenFile",G.module()),window.external&&window.external.isFileExist){var n=window.external.isFileExist(t);if("false"==n||!1===n)return p.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),a(e),!1}if(window.external&&window.external.openFolder){if("success"!=window.external.openFolder(t))return p.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),!1}}}function r(){var e=$(this).parents(".file"),t=e.data("path"),n=c.getData(t),o=n.localpath;if(v.trigger("menu.hide"),n.safeType){var i=G.getReportInfo(n);return i.ver3=i.ver4,i.ver4=i.ver5,i.ver5=n.isDown?2:1,reportNew("blackTips",i),void p.alert(2,"提示","该文件存在安全风险，无法正常使用")}if("string"==typeof o&&o.indexOf("OSRoot")<0&&(o="OSRoot:\\"+o),report("clkOpenFile",G.module()),window.external&&window.external.isFileExist){var r=window.external.isFileExist(o);if("false"==r||!1===r)return p.alert(2,"提示","此文件不存在，可能已被删除或被移动到其他位置"),a(n),!1}if(window.external&&window.external.openFile){var l=window.external.openFile(o);if("success"==l)return!0;if("file cannot open"!==l)return!1}if(window.external&&window.external.openFolder){if("success"!=window.external.openFolder(o))return p.alert(2,"提示","此文件夹不存在，可能已被删除或被移动到其他位置"),a(n),!1}}function l(){var e=this;for(v.trigger("menu.hide"),report("clkShowInFolder",G.module());!e.classList.contains("complete");)e=e.parentNode;var t=$(e),n=t.data("path"),a=c.getData(n),i=a._localpath||a.localpath||a.localname;i&&0!=i.indexOf("OSRoot:\\")&&(i="OSRoot:\\"+i);o(i)}function s(){var e=this;for(v.trigger("menu.hide");!e.classList.contains("complete");)e=e.parentNode;var t=$(e),n=t.data("path"),o=c.getData(n);if($("#boxTitle a").focus(),o){var i=o._localpath||o.localpath||o.localname;if(i){"string"==typeof i&&0!=i.indexOf("OSRoot:\\")&&(i="OSRoot:\\"+i);var r=!1;if(window.external&&window.external.openFolder){"success"==window.external.openFolder(i)?r=!0:p.alert(2,"提示","此文件夹不存在，可能被删除或被移动到其他位置")}0==r&&a(o)}else a(o)}}function d(){if(!this.classList.contains("disable")){var e=G.selectRow.path,t=c.getFile(e);if(v.trigger("menu.hide"),t){report("clkShowInFolder",G.module());var n=t.localpath;if(n){"string"==typeof n&&0!=n.indexOf("OSRoot:\\")&&(n="OSRoot:\\"+n);var o=!1;if(window.external&&window.external.openFolder){var i=window.external.openFolder(n);console.log(i),"success"==i?o=!0:p.alert(2,"提示","此文件夹不存在，可能被删除或被移动到其他位置")}0==o&&a(t)}else a(t)}}}var c=n(1),p=n(4),f=n(8),u=n(15),m=n(13),v=$(G.handler);e.exports={openByFolder:i,openByPath:r,openByBox:l,openByMenu:d,openFolderByBoxIco:s}},function(e,t,n){"use strict";function a(e){c.text(e)}function o(e){for(var t=!1,n=!1,a=0,o=e.length;a<o;a++){var i=e[a],r=i.value,l=d.getData(r);l.admin&&(t=!0),l.succ||(n=!0)}t?($("#batchDel").removeClass("disabled"),$("#batchMove").removeClass("disabled")):($("#batchDel").addClass("disabled"),$("#batchMove").addClass("disabled")),n?$("#batchDown").removeClass("disabled"):$("#batchDown").addClass("disabled")}function i(){if(!G.mac){var e=G.getDomPanel()[0],t=e.querySelectorAll(".cbox:checked");t.length?(report("showSelectAll"),report("showBatch"),$(".nav").removeClass("hide"),$("body").addClass("batch-mode"),$(".file.list-item").attr("data-action","file.select"),o(t),a(t.length)):($("body").removeClass("batch-mode"),$(".file.list-item").attr("data-action",""))}}function r(){$("body").removeClass("batch-mode"),$(".cbox").prop("checked",!1),a(0)}function l(){var e=G.getDomPanel()[0];if(this.checked){report("clkSelectAll"),report("clkBatch"),G.getDomPanel().find(".cbox").prop("checked",!0);a(e.querySelectorAll(".cbox:checked").length)}else r()}function s(){var e=G.getDomPanel()[0],t=$(this).find(".cbox");t.prop("checked")?t.prop("checked",!1):t.prop("checked",!0),a(e.querySelectorAll(".cbox:checked").length)}var d=n(1),c=$("#selectFileNum");e.exports={check:i,exit:r,selectAll:l,select:s}},function(e,t,n){"use strict";function a(){if($('[data-keyup="folderTree.create"]').length)return void console.log("can not try to create more than one folder at the same time");report("createFolderInTree"),r.folderTree.newFolder(),r.folderTree.select("new"),$("#inputFolderNameInFolderTree").val(f.getFolderNameDefault()),$("#inputFolderNameInFolderTree")[0].focus(),$("#inputFolderNameInFolderTree")[0].select()}function o(e){e.keyCode=13,i.call(this,e)}function i(e,t){if(e&&13!==e.keyCode&&$("#inputFolderNameInFolderTree").length)return void s["input.keyup"].call(this,e);var n=$('[data-keyup="folderTree.create"]');if(!n.length)return void(t&&t());if(t&&(m=t),!u){var a=$.trim(n.val());if(s.folderName(a)){var o={parent_id:"/",name:a};u=!0,d.createFolder(o).done(function(e){var t=c.filterFolder(e.folder_info);c.addData(t),r.list.appendFold(t),$(".folder-tree-box").find('[data-id="new"].folder-list-item').html(l.folder({item:t})).attr("data-id",t.id),"new"===G.folderTree.selected.id&&p.select(t.id),report("createFolderInTreeSuc"),u=!1,m&&m(),m=!1}).fail(function(e){console.log("fail",e),u=!1;var t={134:"文件夹名称包含违禁词",313:"文件夹名已经存在",314:"创建文件夹失败",405:"文件夹个数已达上限",default:"创建失败"},n=Math.abs(e.ec),a=$(".folder-tree-box").find(".bubble");a.html('<span class="bot"></span><span class="top"></span>'+(t[n]||t.default)).show(),setTimeout(function(){a.hide()},3e3)})}}}var r={folderTree:n(28),list:n(8)},l={folder:n(112)},s=n(55),d=(n(227),n(6)),c=n(1),p=n(28),f=n(9),u=!1,m=!1;e.exports={"folderTree.select":p.select,"folderTree.new":a,"folderTree.create":i,createInputBlur:o}},function(e,t,n){"use strict";function a(e){e=p.extend({selfGroupResultNum:0,otherGroupResultNum:0},e);var t=['<div class="search-empty"><div class="search-icon-dom">','<div class="icons-search-empty"></div>','<span class="empty-desc">很遗憾，','没有找到与"',G.searchKeyword,'"相关的文件</span></div></div>'];return 0===e.selfGroupResultNum&&0!==e.otherGroupResultNum&&(t[1]="",t[3]="在本群中"+t[3],t[0]='<div id="selfNoResult" class="search-empty"><div>'),0!==e.selfGroupResultNum&&0===e.otherGroupResultNum&&(t[1]="",t=['<div id="otherNoResult" class="search-empty"><div >',"</div></div>"]),t.join("")}function o(e){var t=$(".other-group-result-desc");t.prev().find("dl").css("border-bottom-width",e),t.prev().find("div").css("border-bottom-width",e)}function i(){var e=!0,t={dataSelfGroupLen:0,dataOtherGroupLen:0};return function(n,i){var r=G.getDomPanel();if(n&&i){t.dataSelfGroupLen+=n.length,t.dataOtherGroupLen+=i.length;var l=a({selfGroupResultNum:t.dataSelfGroupLen,otherGroupResultNum:t.dataOtherGroupLen}),s=void 0;s=0!==t.dataSelfGroupLen?d({list:n,renderParams:{actionHide:!1,getByUinHide:!1,searchModule:!0},batchMode:!1}):l;var c=d({list:i,renderParams:{actionHide:!0,getByUinHide:!0},batchMode:!1}),p='<div class="other-group-result-desc"><span>其他群搜索结果</span></div>';if(parseInt($("#searchReasult").text())===t.dataSelfGroupLen&&(c=l,p=""),25==t.dataSelfGroupLen&&0===t.dataOtherGroupLen&&(c=""),G.mac&&(p=""),e){report("showSearchRes"),r.html("");var f=[s,p,c],u="100%";if(0===t.dataSelfGroupLen&&0===t.dataOtherGroupLen?f=[l]:0===t.dataSelfGroupLen&&0!==t.dataOtherGroupLen&&(u="200px"),r.html(f.join("")),$(".search-empty").css("height",u).attr("data-len",t.dataSelfGroupLen),o(0),e=!1,0!==t.dataSelfGroupLen&&0===t.dataOtherGroupLen){var m=r.height()-64*t.dataSelfGroupLen-25;m<200&&(m=200),$("#otherNoResult").css("height",m+"px")}}else{var v=$(".other-group-result-desc");if(o("1px"),0===t.dataSelfGroupLen&&(s=""),v.before(s),r.append(c),0!==t.dataSelfGroupLen&&0===t.dataOtherGroupLen){var _=r.height()-64*t.dataSelfGroupLen-25;_<200&&(_=200),$("#otherNoResult").css("height",_+"px")}o(0)}}}}function r(){var e=!1,t=void 0;return function(n,o){var r=G.searchKeyword=$.trim($("#inputSearch").val())||"";if(n&&13==n.keyCode||void 0==n){if(""===r)return void $("#searchNav .mac-return").click();report("doSearch"),$("body").attr("data-mode","search"),G.scrollHandler(function(){var n=G.searchKeyword=$("#inputSearch").val()||"",r={key_word:n};e=3!==G.module()||JSON.stringify(t)!=JSON.stringify(r),G.module(3),t=r;var d=function(t,n){function a(e){function t(e){return e.gc===G.info.gc}function n(e){return e.gc!==G.info.gc}e=e||[];var a={ut:"upload_time",owner_name:"uin_name"};return function(e){function t(e,t,n){e=e.filter(t);for(var o={},i=e.length-1;i>=0;i--){var r=e[i];o[r.id]=r}for(var l=c.setFileList(e,a),s=l.file,d=s.length-1;d>=0;d--){var f=s[d].fp,u=G.fileMap()["/"+s[d].busid+f],m=o[f].match_word;s[d].name=p.heightLight(u.name,m),s[d].suf=p.heightLight(u.suf,m),n&&(s[d].otherGroupName=o[f].group_name,s[d].gc=o[f].gc)}return s}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filters:{selfGroupFilter:function(){},otherGroupFilter:function(){}}};return{selfGroupResult:t(e,n.filters.selfGroupFilter),otherGroupResult:t(e,n.filters.otherGroupFilter,!0)}}(e,{filters:{selfGroupFilter:t,otherGroupFilter:n}})}console.log(n),(e||void 0==G.renderListFuncSingtons[n])&&(G.renderListFuncSingtons[n]=i());var r=a(t.file_list);G.renderListFuncSingtons[n](r.selfGroupResult,r.otherGroupResult),o&&o(),f.showLoad(!0)},u={succ:function(e,t){d(e,t)},fail:function(){if(e){G.getDomPanel().html(a()),$(".search-empty").css("height","100%"||"160px")}f.showLoad(!0)},beforeRequest:function(e){return function(){e()}}(f.showLoad),searchParams:r,isNew:e};if("object"===("undefined"==typeof nodeData?"undefined":l(nodeData))){var m={key_word:nodeData.key_word,search_type:0,app_id:4};d(nodeData,m),nodeData=!1}else s.search(u)}),G.scrollHandler()}}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(89),d=(n(6),n(39)),c=n(1),p=n(9),f=n(8);G.renderOtherGroupResultFuncSingtons={},e.exports={search:r()}},function(e,t,n){"use strict";function a(e){var t=!1,n=new RegExp('^[^/\\\\:?*"<>|]+$');return t=n.test(e),console.log("reg",n.test(e)),t}function o(){var e=$.trim(this.value);e.length>l&&!input&&(this.value=e.substr(0,l))}function i(e){var t=this.inputStart,n=this.value,o=$(this).parents(".panel-overlay"),i=$(this).parent().find(".bubble"),r=$("#folderPanel .btn-ok").data("action");if(""===$.trim(n))return $(this).parent().find(".error-message").removeClass("show"),o.find(".btn-ok").prop("disabled",!0),void i.hide();if(a(n))$(this).parent().find(".error-message").removeClass("show"),i.hide();else{var s='文件夹名称不能包含 \\ / : * ? " < > |';"file.renameFile"===r&&(s='文件名称不能包含 \\ / : * ? " < > |'),$(this).parent().find(".error-message").text(s).addClass("show"),i.html('<span class="bot"></span><span class="top"></span>'+s).show(),o.find(".btn-ok").prop("disabled",!0)}0===n.length?o.find(".btn-ok").prop("disabled",!0):0!==n.length&&a(n)&&o.find(".btn-ok").prop("disabled",!1),n.length>l&&!t&&(this.value=n.substr(0,l)),$("#folderPanel [data-action]").length&&e&&13==e.keyCode&&!t&&$("#folderPanel [data-action]").click()}function r(){$("#folderPanel .error-message").removeClass("show")}var l=(n(9),48);n(84);e.exports={"input.keyup":i,"input.focus":r,"input.blur":o,folderName:a}},function(e,t,n){"use strict";function a(e){G.cMap||(G.cMap={});var t=G.cMap[e.id];if(t||(t=G.cMap[e.filepath])&&(t&&t.type.indexOf("upload")>=0&&e.type.indexOf("upload")>=0&&t.status!=e.status?(e.id&&(plistMap[e.id]=t),console.warn("new task 发现续传 id["+t.id+"] status["+t.status+"]")):"download"==e.type&&console.log(e)),!t)return e.id&&(G.cMap[e.id]=e),e.filepath&&(G.cMap[e.filepath]=e),e}function o(e){return console.log("验证任务:",G.cMap,e,e.id,e.filepath,G.cMap[e.id]||G.cMap[e.filepath]),!(!G.cMap[e.id]&&!G.cMap[e.filepath])&&(console.log("已经存在数据!"),!0)}function i(e){G.cMap[e.id]&&delete G.cMap[e.id],G.cMap[e.filepath]&&delete G.cMap[e.filepath]}function r(e){}function l(){for(var e in G.cMap){var t=G.cMap[e];t&&"uploadcomplete"===t.status&&(delete G.cMap[t.id],delete G.cMap[t.filepath])}}e.exports={check:o,add:a,del:i,update:r,clearComplete:l}},function(e,t,n){"use strict";function a(e,t){var n=l(t);e.html(n)}function o(e){e?($("#navTopFolder").addClass("selected"),$("#createFolder").hide(),$("#fileNum").addClass("hide").attr("data-action","menu.filenum"),$("#headerLine").text(">"),$("#box").addClass("one"),$("#folderName").text(e.fnameEsc).removeClass("hide")):($("#navTopFolder").removeClass("selected"),G.info.isAdmin&&$("#createFolder").show(),$("#headerLine").text("|"),$("#fileNum").removeClass("hide").attr("data-action","menu.filenum"),$("#folderName").text("").addClass("hide"),$("#box").removeClass("one")),$("#normalNav").removeClass("hide")}function i(){d.src="//docs.qq.com/scenario/group.html?gid="+G.info.gc+"&role="+G.info.role+"&_from=qpan";try{document.querySelector("#onlineDocsFolder .red-point").remove()}catch(e){}s.classList.add("show")}function r(){s.classList.remove("show")}var l=n(119),s=(n(118),document.querySelector("#onlineDoc")),d=document.querySelector("#onlineDocFrame");e.exports={render:a,updataFolderHeader:o,showDocs:i,hideDocs:r}},function(e,t,n){"use strict";function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(G.mac)"fail"===e&&c.alert(2,"提示",t);else{if(i)r.attr("class","icons-"+p[e]+" toast-icon"),l.text(t);else{var a={cls:p[e],text:t},d=s(a);$("body").append(d),i=$("#toastDom"),r=i.find(".toast-icon"),l=i.find(".toast-message")}i.addClass("open"),n&&setTimeout(function(){o()},1e3)}}function o(){i&&i.removeClass("open")}var i,r,l,s=n(123),d=(n(9),$(G.handler)),c=n(4),p={fail:"fail",wait:"wait",suc:"suc",alert:"new-alert"};d.bind("toast.show",function(e,t){t&&t.type&&t.text&&a(t.type,t.text,t.autoHide)}),d.bind("toast.hide",function(e,t){o()}),e.exports={show:a,hide:o}},function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(){}function n(e){var n=w.beforeRequest(e),a={};return a.url=n.url,a.paramObj=n.param||{},a.successCb=n.success||t,a.errorCb=n.error||t,a.localData=n.localData||null,a.xhrFields=n.xhrFields||{},a.headers=n.headers||{},a.method=n.ajaxType||"GET",a.dataType=n.dataType||"json",a.async=n.async,a.timeout=n.timeout,a.method=a.method.toUpperCase(),a}function a(){for(var e=null,t=[function(){return new XMLHttpRequest},function(){return new XDomainRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.xmlhttp")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,a=t.length;n<a;n++){try{e=t[n]()}catch(e){continue}break}return e}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function i(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];t[n]="string"==typeof a?encodeURIComponent(a):a}return JSON.stringify(t)}function r(e,t){var n=e;return n+=(e.indexOf("?")>0?"&":"?")+t}function l(e,t,n){if(e.setRequestHeader){t["Content-type"]||"GET"!==n&&"POST"!==n||e.setRequestHeader("Content-type","application/x-www-form-urlencoded");var a=t||{};for(var o in a)a.hasOwnProperty(o)&&e.setRequestHeader(o,a[o])}}function s(e,t){e.withCredentials=!0,!1===t.withCredentials&&(e.withCredentials=!1)}function d(e){w.dataReturnSuccessCondition=e.dataReturnSuccessCondition||w.dataReturnSuccessCondition,w.beforeRequest=e.beforeRequest||w.beforeRequest,w.beforeResponse=e.beforeResponse||w.beforeResponse}function c(e){var t=n(e),a=o(t.paramObj),i=r(t.url,a),d=v(t);d&&(d.open("GET",i,!0),_(d,t),s(d,t.xhrFields),l(d,t.headers,"GET"),d.send())}function p(e){var t=n(e),a="",r=t.url,d=v(t);d&&(d.open("POST",r,!0),e.type&&"json"===e.type?(a=i(t.paramObj),t.headers["Content-type"]="application/json"):a=o(t.paramObj),_(d,t),s(d,t.xhrFields),l(d,t.headers,"POST"),d.send(a))}function f(e){var t=n(e),a=t.url,o=v(t);o&&(o.open("POST",a,!0),_(o,t),s(o,t.xhrFields),l(o,t.headers,"FORM"),o.send(t.paramObj))}function u(e){function t(e){setTimeout(function(){e.parentNode.removeChild(e)},200)}var a=n(e);if(!a.paramObj)throw new Error("Please provide parameter for jsonp");a.paramObj.jsonCbName||(a.paramObj.jsonCbName="jsonCb_"+Date.now()),a.paramObj.callback=a.paramObj.jsonCbName,delete a.paramObj.jsonCbName,g[a.paramObj.callback]=function(e){if(a.localData)return void m(a.localData,a);m(e,a),t(s)};var i=o(a.paramObj),l=r(a.url,i),s=g&&g.document?g.document.createElement("script"):{},d=g&&g.document?g.document.getElementsByTagName("head")[0]:{};s.src=l,d.appendChild(s),s.onerror=function(e){a.errorCb({errCode:e}),t(s)}}function m(e,t){w.beforeResponse(e,function(e){w.dataReturnSuccessCondition(e)?t.successCb(e):t.errorCb(e)},t.errorCb)}function v(e){var t=a();if(!t)throw new Error("XMLHttp is not defined");return e.localData?void m(e.localData,e):(t.async=!1!==e.async,t.onreadystatechange=function(){if(t.readyState===b)if(t.status===y){var n=t.responseText;"json"===e.dataType&&(n=JSON.parse(t.responseText)),m(n,e)}else e.errorCb({errCode:t.status})},t.onerror=function(){e.errorCb({errCode:-1})},t.ontimeout=function(){e.errorCb({errCode:-2})},t)}function _(e,t){t.timeout&&(e.timeout=t.timeout)}function h(e){switch(n(e).method){case"JSONP":u(e);break;case"GET":c(e);break;case"POST":p(e);break;case"FORM":f(e)}}var g=void 0!==g?g:{};"undefined"!=typeof window?g=window:"undefined"!=typeof self&&(g=self);var w={dataReturnSuccessCondition:function(){return!0},beforeRequest:function(e){return e},beforeResponse:function(e,t,n){t(e)}},b=4,y=200,G={ajax:h,ajaxGet:c,ajaxPost:p,ajaxForm:f,ajaxJsonp:u,ajaxInit:d};e.ajaxInit=d,e.ajaxGet=c,e.ajaxPost=p,e.ajaxForm=f,e.ajaxJsonp=u,e.default=G,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=function(){var e=/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,t=/&\w+;|&#(\d+);/g,n={"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&quot;":'"',"&copy;":""};return{encodeHtml:function(t){return t=void 0!=t?t:"","string"!=typeof t?t:t.replace(e,function(e){var t=e.charCodeAt(0),n=["&#"];return t=32==t?160:t,n.push(t),n.push(";"),n.join("")})},decodeHtml:function(e){e=void 0!=e?e:"";var a="string"!=typeof e?e:e.replace(t,function(e,t){var a=n[e];return void 0==a&&(a=isNaN(t)?e:String.fromCharCode(160==t?32:t)),a});return a=a.replace(/&#x2028;/g,"\u2028"),a=a.replace(/&#x2029;/g,"\u2029")}}}();e.exports={encode:a.encodeHtml,decode:a.decodeHtml}},function(e,t,n){"use strict";function a(e){"offline"===e.action||e.action}var o=n(4),i=function(){var e=parseInt($(this).data("uin"));o.openGroupInfoCard(e)},r=function(){var e=parseInt($(this).data("uin")),t=G.fileMap()[$(this).data("path")]||{},n={action:"search",params:{keyword:G.searchKeyword,files:[{fileId:t.fp,busId:t.busid}]}};localStorage.setItem("notifyOtherGroup",encodeURIComponent(JSON.stringify({gc:e,webParams:JSON.stringify(n),random:Math.random()}))),o.openGroupFile(e,encodeURIComponent(JSON.stringify(n)))};e.exports={groupEvent:a,openGroupFile:r,openGroupInfoCard:i}},function(e,t,n){"use strict";function a(e){console.log(e),i.showUpload(e)}function o(e){for(var t=e.fileList,n=[],a=0,o=t.length;a<o;a++){var r=t[a];n.push(r.filepath)}i.batchuploadInFolder(G.nowFolder,n)}var i=n(83);e.exports={uploadEvent:a,dropEvent:o}},function(e,t,n){"use strict";function a(){if(!this.classList.contains("disable")){m.trigger("menu.hide"),report("clkDeleteFile",G.module());var e=G.selectRow.path,t=i.getFile(e);if(t){var n=l.confirm(2,"提示","你确定要删除文件 "+t.fnameEsc+" 吗?");if(0===n.errorCode&&n.ret){var a={bus_id:parseInt(t.busid),file_id:t.fp,app_id:4,parent_folder_id:G.nowFolder};r.deleteFile(a).done(function(e){if(i.remove(t.filepath),s.removeRow(t),f.setClist(t,"delete"),i.updateAllNum({files:[t],action:"remove"}),G.file.capacityused=d.getSize(G.file.cu),c.renderSpace(),m.trigger("toast.show",{type:"suc",text:"删除成功"}),u.init(),t.safeType){var n=G.getReportInfo(t);n.ver6=n.ver3,n.ver3=n.ver4,n.ver4=n.ver5,n.ver5=t.size,reportNew("blackDelete",n)}}).fail(function(e){l.alert(2,"提示","删除失败"),report("delFileError")})}}}}function o(e,t){m.trigger("menu.hide");var n=[],a={},o=1,v=0,_=0,h=function(){++v===o&&G.scrollHandler&&G.scrollHandler()},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==e.length){for(var n={},a=[],p=0,m=e.length;p<m;p++)a[p]={gc:parseInt(G.info.gc),app_id:G.appid,bus_id:e[p].busid,file_id:e[p].fp,parent_folder_id:G.nowFolder};n.file_list=JSON.stringify({file_list:a}),r.deleteFile(n).done(function(n){var a=[];if(n.fail){a=n.fail;for(var r=e.length-1;r>=0;r--)$.inArray(e[r].fp,a)&&e.splice(r,1)}report("batchDeleteSuc");var l=e.length;_+=l,e.forEach(function(e){if(s.removeRow(e),i.remove(e.filepath),f.setClist(e,"delete"),e.safeType){var t=G.getReportInfo(e);t.ver6=t.ver3,t.ver3=t.ver4,t.ver4=t.ver5,t.ver5=e.size,reportNew("blackDelete",t)}}),i.updateAllNum({files:e,action:"remove"}),G.file.capacityused=d.getSize(G.file.cu),c.renderSpace(),h(_),v===o&&(u.init(),t(_))}).fail(function(e){l.alert(2,"提示","删除失败"),$(G.handler).trigger("panel.hideAll"),report("delFileError")})}};if(e.forEach(function(e){e.remove&&(n.push(e),a[e.fp]=e)}),1===(o=Math.ceil(n.length/p)))g(n);else for(var w=0;w<o;w++){var b=n.slice(w*p,(w+1)*p);g(b)}return!0}var i=n(1),r=n(6),l=n(4),s=n(8),d=n(26),c=n(8),p=(n(36),2),f=n(13),u=n(18),m=$(G.handler);e.exports={removeOne:a,removeBatch:o}},function(e,t,n){"use strict";function a(e){var t=document.createElement("div"),n=this.getBoundingClientRect(),a=function(){var e=document.height;return G.getDomPanel()[0].scrollHeight+52>e};t.innerHTML='<div class="img"></div>',t.className="file-animate files-"+e.icon;var o=window.innerWidth-n.left-3;G.info.isAdmin&&"/"===G.nowFolder&&(o+=37),a()||(o+=10),G.mac&&(o=177),t.style.right=o+"px",t.style.top=n.top-20+"px",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},1500)}function o(){var e=$(this).parents(".file"),t=e.data("path"),n=r.getData(t),o=this;if(console.log("download:",t,n),n.safeType){var i=G.getReportInfo(n);return i.ver3=i.ver4,i.ver4=i.ver5,i.ver5=n.isDown?2:1,reportNew("blackTips",i),void s.alert(2,"提示","该文件存在安全风险，无法正常使用")}if(report("clkDownloadBtn",G.module()),n){var d=n.filepath,c=n.fnameEsc,p=n.size;n.isDowning=!0;n.t,n.fp;a.call(o,n),l.updateRow(n);var f=$("#"+n.domid),u=f.attr("idx"),m=G.module()+"_"+u;reportNew("fileDownload",{ver1:G.module(),ver2:0,ver3:encodeURIComponent(n.name),ver4:encodeURIComponent(n.filetype),ver5:0,ver6:m,ver7:G.info.role}),s.addDownloadTask(d,c,p,!0)}}function i(e){var t=function(e){var t=e.filepath,n=e.fnameEsc,a=e.size;e.t,e.fp;s.addDownloadTask(t,n,a,!0)};reportNew("fileDownload",{ver1:G.module(),ver2:0,ver3:encodeURIComponent(e[0].name),ver4:encodeURIComponent(e[0].filetype),ver5:4,ver6:G.module()+"_",ver7:G.info.role});for(var n=0,a=e.length;n<a;n++){var o=e[n];o.succ||t(o)}}var r=n(1),l=(n(6),n(8)),s=n(4);$(G.handler);e.exports={download:o,downloadBatch:i}},function(e,t,n){"use strict";function a(){if(!this.classList||!this.classList.contains("disable")){var e=G.selectRows;if(e){var t={title:"移动文件",firstFileName:e[0].fname,fileNum:e.length,action:"移动到：",destFolder:"/"===G.nowFolder?"群文件":G.folderMap()[G.nowFolder].fname,okAction:"file.move"};r.showFolderTreePanel(t);$("#containerFolderTreePanel").find(".active .aria-hide").eq(0).focus(),report("folderTree",1),report("clkFolderMove")}}}function o(){if(G.selectRows){var e=G.selectRows,t=[],n={},a=G.folderTree.selected.id;if(a===G.nowFolder)return console.log("can not move to the same folder"),void m.trigger("toast.show",{type:"alert",text:"文件已在目标位置"});for(var o=e.length;o--;){var i=u.getData(e[o].filepath);i&&i.safeType&&e.splice(o,1)}for(var r=e.length-1;r>=0;r--){var p=e[r];t.push({file_id:p.fp,bus_id:parseInt(p.busid),parent_folder_id:p.parentId,dest_folder_id:a,app_id:G.appid,gc:G.info.gc}),n[e[r].fp]=e[r]}f.exit(),console.log(e,t);var _=function(){++b>=w&&m.trigger("toast.hide")},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0!==e.length&&l.moveFile(e).done(function(t){_();var o=e;if(t.fail){var i=[];try{i=JSON.parse(t.fail).fail}catch(e){}for(var r=i.length-1;r>=0;r--)n[i[r]]&&o.splice(r,1)}e.length>1?report("batchMoveSuc"):report("moveFileSuc");for(var l=o.length-1;l>=0;l--){var d=o[l],p="/"+d.bus_id+d.file_id;d=G.fileMap()[p],d.parentId=a,s.removeRow(d)}var f=void 0;(f=G.folderMap()[a])&&(f.filenum+=o.length,$('[id="'+f.domid+'"]').find(".file-size").html(f.filenum+"个文件")),s.removeFold(f),s.appendFold(f),c["panel.close"]()}).fail(function(e){_(),d.showError(e.ec),report("showMoveFail"),report("moveFileError"),console.log("fail",e)})},g=t.length,w=Math.ceil(g/v),b=0;if(m.trigger("toast.show",{type:"wait",text:"正在移动文件",autoHide:!1}),w)for(var y=0;y<w;y++){var F=t.slice(y*v,(y+1)*v);h(F)}else _(),c["panel.close"]();return!0}}function i(){p["folderTree.create"](null,o)}var r={folderTree:n(28),showFolderTreePanel:n(11).showFolderTreePanel},l=n(6),s=n(8),d=n(29),c=n(36),p=n(53),f=n(52),u=n(1),m=(n(4),$(G.handler)),v=10;e.exports={showMove:a,move:i}},function(e,t,n){"use strict";function a(e){if(!this.classList.contains("disable")){var t=e||G.selectRow;if(report("clkSaveAs",G.module()),t&&1===t.orcType)if(t.inDown);else{var n=t.filepath,a=t.fnameEsc,o=t.size,l=(t.t,t.fp,$("#"+t.domid)),s=l.attr("idx"),d={ver1:G.module(),ver2:0,ver3:encodeURIComponent(t.name),ver4:encodeURIComponent(t.filetype),ver5:3,ver6:G.module()+"_"+s,ver7:G.info.role};reportNew("fileDownload",d);i.addDownloadTask(n,a,o);r.trigger("menu.hide")}}}function o(e){var t={files:e,save2default:0},n=$("#"+e[0].domid),a=n.attr("idx"),o={ver1:G.module(),ver2:0,ver3:encodeURIComponent(e[0].fname),ver4:encodeURIComponent(e[0].filetype),ver5:5,ver6:G.module()+"_"+a,ver7:G.info.role};reportNew("fileDownload",o),i.addMultiDownloadTasks(JSON.stringify(t))}var i=n(4),r=(n(1),n(6),$(G.handler));e.exports={save:a,saveBatch:o}},function(e,t,n){"use strict";function a(){v.getTips()?u.addUploadTask():(report("showOldVersion"),$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本仅支持将文件上传至群文件首页，升级至QQ最新版本可上传文件至文件夹内。"),$("#updateQQ").find("input.btn-notips").attr("data-action","upload.cUpload"))}function o(){this.checked?(v.setTips(1),G.oldVersion=!0,$("#headerBatch .store").addClass("disabled"),report("clkNotRemind")):v.setTips(0)}function i(){$("#updateQQ").removeClass("open"),u.addUploadTask()}function r(){if(G.file.isFull)return w.show(G.mac?"fail":"alert","文件数已达到上限");G.info.version<_?a():G.folderMap()&&Object.keys(G.folderMap()).length>0||"/"!==G.nowFolder?u.getBatchFiles():(report("clkUpload",G.module()),u.addUploadTask())}function l(e){if(G.file.isFull)return w.show(G.mac?"fail":"alert","文件数已达到上限");if(b){var t=void 0;if("string"==typeof e?(report("clkUpload",1),t=e):t=G.folderTree.selected&&G.folderTree.selected.id||"/",$("#inputFolderNameInFolderTree").length>0)h["folderTree.create"](null,function(){t=G.folderTree.selected&&G.folderTree.selected.id||"/";u.batchUpload(t,JSON.stringify(b));b=null,m.panel.hideAll()});else{u.batchUpload(t,JSON.stringify(b));b=null,m.panel.hideAll()}}}function s(e,t){if(t&&0!==t.length){var n=void 0;n=e;var a="上传到群文件？";if("/"!==n){a="上传到文件夹："+g.getData(n).fnameEsc+"？"}var o=u.confirm(1,"提示",a);if(0===o.errorCode&&o.ret){report("clkUpload",1);u.batchUpload(n,JSON.stringify(t));m.panel.hideAll()}}}function d(e){var t=e[0],n=e.length,a=t.lastIndexOf("\\"),o=t.substr(a+1);G.mac&&(a=t.lastIndexOf("/"),o=t.substr(a+1)),console.log(t);var i=f.getFileName(o);return n>1?'<span class="name">'+i.filename_name+"</span><span>"+i.filename_suf+'</span>等<span class="blue">'+n+"</span>个文件":'<span class="name">'+i.filename_name+"</span><span>"+i.filename_suf+"</span>"}function c(e){if(b=e,"/"!==G.nowFolder)return void l(G.nowFolder);var t={title:"上传文件",firstFileName:d(e),action:"上传到：",destFolder:"群文件",okAction:"file.batchUpload"};m.showFolderTreePanel(t),$("#containerFolderTreePanel").find("#folderTreePanel").addClass("open"),report("folderTree",0)}function p(){report("clkUpdateQQ")}var f=n(26),u=n(4),m=($("#upload-panel"),{folderTree:n(28),showFolderTreePanel:n(11).showFolderTreePanel,panel:n(11)}),v=n(13),_=G.folderVersion,h=n(53),g=n(1),w=n(58),b=void 0;e.exports={batchuploadInFolder:s,upload:r,bupload:l,showUpload:c,noTips:o,cupload:i,update:p}},function(e,t,n){"use strict";function a(){var e=$.trim(o.find(".new-name").val()),t={parent_id:"/",name:e};l.createFolder(t).done(function(e){var t=d.filterFolder(e.folder_info);G.folderNum++,report("createFolderSuc"),d.addData(t),i.appendFold(t),s.hideAll(),p.trigger("toast.show",{type:"suc",text:"新建文件夹成功"}),c.init()}).fail(function(e){405===e.ec&&(G.canCreateFolder=!1),r.showError(e.ec,o),report("newFolderError")})}var o=$("#folderPanel"),i=n(8),r=n(29),l=n(6),s=n(11),d=n(1),c=n(18),p=$(G.handler);e.exports={createFolder:a}},function(e,t,n){"use strict";function a(){s.showDocs()}function o(e,t){function n(n){var a=l.getData(e);t&&(a={fnameEsc:t}),s.updataFolderHeader(a);var o=location.hash;o=decodeURIComponent(o),location.hash=o.replace(/&webParams={.+}/,"")+"&webParams="+encodeURIComponent(JSON.stringify({action:"fileList",params:{folderId:G.nowFolder,fname:a.fnameEsc}}))}if(e=e||$(this).data("path"),report("clkFolder",G.module()),l.getData(e).isDoc)return void a();if(G.mac&&$(".mac-file-top").removeClass("user-module"),0!=G.module()&&1!=G.module()||e!==G.nowFolder){G.module("/"===e?0:1),"/"===e?$(".mac-return").addClass("disable"):$(".mac-return").removeClass("disable"),G.nowFolder=e;var o=void 0;"/"===e&&(o=Math.random()),r.getList({paramsFilter:{folderId:e,random:o},succ:n})()}}function a(){s.showDocs()}function i(){s.hideDocs()}var r=n(8),l=n(1),s=n(57);e.exports={renderFolder:o,hideDocs:i}},function(e,t,n){"use strict";function a(e,t){report("clkFiles");var n=$(".hover-border.file-num-toggle");m.is(":hidden")?(m.show(),n.addClass("active")):(m.hide(),n.removeClass("active"))}function o(){var e=G.selectRow.path,t=h.getData(e);x.removeClass("disable"),b.removeClass("disable"),y.removeClass("disable"),F.removeClass("disable"),k.removeClass("disable"),T.removeClass("disable"),S.removeClass("disable"),C.removeClass("disable"),M.removeClass("disable"),"pic"===t.icon&&t.preview?x.removeClass("disable"):x.addClass("disable"),t.isDown?(F.attr("title","在文件夹中显示").attr("data-action","file.openFolderInBox"),F.find(".menu-item-label").text("在文件夹中显示")):(F.attr("title","另存为").attr("data-action","file.saveAs"),F.find(".menu-item-label").text("另存为")),t.temp&&t.admin?T.removeClass("disable"):T.addClass("disable"),t.admin?(k.removeClass("disable"),C.removeClass("disable"),report("showFolderMove")):(k.addClass("disable"),C.addClass("disable")),G.info.isAdmin?S.removeClass("disable"):S.addClass("disable"),3!==G.module()?S.show():S.hide(),t.safeType&&(x.addClass("disable"),b.addClass("disable"),y.addClass("disable"),F.addClass("disable"),k.addClass("disable"),T.addClass("disable"),S.addClass("disable"))}function i(){var e=G.selectRow.path,t=h.getData(e);t&&(t.succ?(v.find(".open-in-folder").removeClass("disable"),v.find(".download-item").removeClass("disable")):(v.find(".open-in-folder").addClass("disable"),0===t.filenum?v.find(".download-item").addClass("disable").removeAttr("data-action"):(v.find(".download-item").removeClass("disable").attr("data-action","folder.download"),report("showDownloadBtn",G.module())))),G.oldVersion&&v.find(".download-item").addClass("disable").removeAttr("data-action")}function r(e){$(".list-item").removeClass("active"),e.addClass("active")}function l(){var e=this,t=$(this).parents(".list-item"),n=t.data("path"),a=void 0,l=void 0;if(r(t),report("clkShowBtn",G.module()),l=h.getData(n),2===l.orcType?(a="fold",report("clkFolderMore",G.info.isAdmin?0:1)):1==l.orcType&&(a="file",l.succ?report("clkUnMore"):report("clkMore")),G.selectRow=l||{},G.selectRow.path=n,G.selectRow.type=a,G.selectRows=[G.selectRow],"fold"===a)w!==a&&_.renderFolder(),i();else if("file"===a)if(w===a)o();else{_.renderFile(),b=$("#fileFoward"),y=$("#fileFowardTo"),F=$("#fileOpenFolder"),x=$("#filePreview"),k=$("#renameFile"),T=$("#foreverFile"),C=$("#fileDelete"),S=$("#fileMove");$("#menuPreview");o()}if(w=a,e==g&&"block"===v[0].style.display)v.css("display","none");else{var s=e.getBoundingClientRect(),d=$(e).parents(".scroll-dom")[0],c=d.getBoundingClientRect(),p=c.right-s.right,f=document.querySelector(".scroll-dom"),u=f.scrollTop,m=(f.scrollHeight,s.bottom+u-52);v.css("display","block");var M=v.get(0).offsetHeight;m+M>u+window.innerHeight&&(m=m-M-28),v.css({right:p+"px",top:m+"px"}),g=e}}function s(e){return 0==$(e).closest("#fileNumMenu").length}function d(e){return 0==$(e).closest("#fileMoreMenu").length&&0==$(e).closest(".file-more").length}function c(e){if(s(e)){m.hide();$(".hover-border.file-num-toggle").removeClass("active")}d(e)&&v.hide()}function p(){report("clkRefresh")}function f(){c(),report("clkFeed")}var u=$(G.handler),m=($("#fileNum"),$("#fileNumMenu")),v=($(".file-more"),$("#fileMoreMenu")),_=n(234),h=n(1),g=null,w=void 0,b=$("#fileFoward"),y=$("#fileFowardTo"),F=$("#fileOpenFolder"),x=$("#filePreview"),k=$("#renameFile"),T=$("#foreverFile"),C=$("#fileDelete"),S=$("#fileMove"),M=$("#fileJubao");u.bind("menu.hide",c),e.exports={"menu.filenum":a,"menu.filemore":l,"menu.foldmore":l,"menu.hide":c,"menu.refresh":p,"menu.feedback":f}},function(e,t,n){"use strict";var a=n(6),o=n(235),i=$(G.handler),r=function(){a.checkVip().done(function(e){e&&e.vinfo&&e.vinfo.supervip?G.flagIsVip=!0:G.flagIsVip=!1,o.showQQVip()}).fail(function(e){o.showQQVip()})},l=function(){o.show(),i.trigger("menu.hide")},s=function(){report("openVip"),G.activeElement&&G.activeElement.focus(),window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")};e.exports={init:r,"vip.show":l,"vip.open":s}},function(e,t,n){"use strict";function a(e){var t=e.filepath,n=e.remoteType,a=e.fname,o=e.fp;o||(o=t.substr(4));var i=1==n?0:1,o=i+"<"+o+"<"+escape(a);return o}function o(e){for(var t="",n=0;n<e.length;n++)n>0&&(t+=":"),t+=a(e[n]);return t}var i=n(6),r={},l=$(G.handler);e.exports=r;r.getThumb=function(e,t){if(G.flagThumb){var n=o(e),a={id:Math.floor((new Date).getTime()/1e3),fp_list:n};i.getPreview(a).done(function(t){if(0===t.ec){t.address_list||(t.address_list=[]);for(var n=0,a=e.length;n<a;n++){var o=e[n],i=t.address_list[n];i.t=(new Date).getTime(),o&&(o.usedTime=0,G.previewCache[o.filepath]=i,o.previewObj=i,l.trigger("file.thumbUpdate",o))}}}).fail(function(e){})}},r.getOneThumb=function(e,t){var n=(new Date).getTime();try{if(n-e.previewObj.t<18e4&&e.usedTime<=3)return void t(e)}catch(e){console.log(e)}var o={id:Math.floor((new Date).getTime()/1e3),fp_list:a(e)};i.getPreview(o).done(function(n){if(0===n.ec){n.address_list||(n.address_list=[]);var a=n.address_list[0];a.t=(new Date).getTime(),e.usedTime=0,e.previewObj=a,t(e)}}).fail(function(e){})}},function(e,t,n){"use strict";var a={},o=n(6),i=(n(1),n(9));e.exports=a,G.searchFuncSingtons={},a.search=function(e){var e=e||{},t=e.succ,n=e.fail,a=e.beforeRequest,r=e.isNew,l=i.extend({key_word:"",search_type:0,app_id:4},e.searchParams);G.mac&&(l.app_id=7);var s=!1,d=JSON.stringify(l);(r||void 0==G.searchFuncSingtons[d])&&(G.searchFuncSingtons[d]=function(){var e=void 0,t=0;return function(n,i){if(t)return void console.log("no more items");!0!==s&&(l.cookie=e,l.count=25,a&&a(),s=!0,o.search(l).done(function(a){r&&($("#searchReasult").text(a.total),$(".nav").addClass("hide"),$("#searchNav").removeClass("hide")),t=a.is_end,e=a.cookie,n&&n(a,d),s=!1,$("#navTopFolder").addClass("selected")}).fail(function(e){i&&i(e),s=!1,$("#searchReasult").text(0),$(".nav").addClass("hide"),$("#searchNav").removeClass("hide"),$("#navTopFolder").addClass("selected")}))}}()),G.searchFuncSingtons[d](t,n)},window.search=a.search},function(e,t,n){"use strict";function a(e){if(!r){var t=i();$("body").append(t),r=$("#jubaoDom"),l=$("#jubaoIframe")}e&&(r.addClass("open"),l.attr("src",e).addClass("open"))}function o(){r&&(r.removeClass("open"),l.removeClass("open"))}var i=n(120),r=void 0,l=void 0;e.exports={show:a,hide:o}},,,function(e,t,n){"use strict";n(125),n(126),n(225)},,,,,,,,,,,,,,,,,,,function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="whole-row">&nbsp;</div>\r\n<div class="folder-info">\r\n    <span class="little-folder-icon"></span>\r\n    <span class="folder-name">'),__append(item&&item.fname),__append('</span>\r\n    <a href="javascript:void(0)" class="aria-hide" data-action="folderTree.select" role="treeitem" tabindex="1" data-id="'),__append(item.id),__append('" aria-label="选择文件夹:'),__append(item&&item.fname),__append('"></a>\r\n</div>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{}){__append('<ul class="primary-folder-list" data-action="file_active" role="tree">\r\n    <li class="folder-list-item" data-id="'),__append(topFolder.id),__append('" data-action="folderTree.select">\r\n        <div class="whole-row">&nbsp;</div>\r\n        <div class="folder-info">\r\n            <span class="little-folder-icon"></span>\r\n            <span class="folder-name">'),__append(topFolder.fname),__append('</span>\r\n            <a href="javascript:void(0)" class="aria-hide" data-action="folderTree.select" role="treeitem" tabindex="1" data-id="'),__append(topFolder.id),__append('" aria-label="选择文件夹:'),__append(topFolder.fname),__append('"></a>\r\n        </div>\r\n        <ul class="secondary-folder-list">\r\n            ');for(var key in items){var item=items[key];__append('\r\n                <li class="folder-list-item" data-action="folderTree.select" data-id="'),__append(escapeFn(item&&item.id)),__append('">\r\n                        <div class="whole-row">&nbsp;</div>\r\n                        <div class="folder-info">\r\n                            <span class="little-folder-icon"></span>\r\n                            <span class="folder-name">'),__append(item&&item.fname),__append('</span>\r\n                            <a href="javascript:void(0)" class="aria-hide" data-action="folderTree.select" role="treeitem" tabindex="1" data-id="'),__append(item.id),__append('" aria-label="选择文件夹:'),__append(item&&item.fname),__append('"></a>\r\n                        </div>\r\n                </li>\r\n            ')}__append("\r\n        </ul>\r\n    </li>\r\n</ul>")}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<li class="folder-list-item" data-id="new" data-action="folderTree.select">\r\n    <div class="whole-row">&nbsp;</div>\r\n    <div class="folder-info">\r\n        <span class="little-folder-icon"></span>\r\n        <input class="folder-name" id="inputFolderNameInFolderTree" value="新建文件夹" data-blur="createInputBlur" data-keyup="folderTree.create" autofocus="true">\r\n        <div class="bubble">\r\n            <span class="bot"></span>\r\n            <span class="top"></span>\r\n            文件夹名称中含有违禁词\r\n        </div>\r\n    </div>\r\n</li>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="files-empty"><div><div class="icons-empty"></div><div class="empty-desc">在这里，你可以把各种有趣的东西分享给大家</div></div></div>\n');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t\t<li class="item with-icon-item disable" id="filePreview" data-action="file.menupreview" aria-label="预览"><span class="icons-preview"></span><span class="menu-item-label">预览</span></li>\n\t\t'),G.mac||__append('\n\t\t\t<li class="item" id="fileFoward" data-action="file.forward" aria-label="转发">转发</li>\n\t\t\t<li class="item" id="fileFowardTo" data-action="file.forwardMobile" aria-label="转发到手机" tabindex="1">转发到手机</li>\n\t\t'),__append('\n\t\t<li class="item save-as open-folder with-icon-item" id="fileOpenFolder" data-action="file.openFolderInBox" aria-label="在文件夹中显示" tabindex="1"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n\t\t<li class="gap" tabindex="1"></li>\n\t\t<li class="item rename" id="renameFile" data-action="file.showRename" aria-label="重命名" tabindex="1">重命名</li>\n\t\t<li class="item forever disable" id="foreverFile" data-action="file.permanent" aria-label="转存为永久文件" tabindex="-1">转存为永久文件</li>\n\t\t'),G.info.isAdmin&&__append('\n\t\t<li class="item" id="fileMove" data-action="file.showMove" aria-label="移动" tabindex="-1">移动</li>\n\t\t'),__append('\n\t\t<li class="item jubao" id="fileJubao" data-action="file.jubao" aria-label="举报" tabindex="1">举报</li>\n\t\t<li class="gap" tabindex="1"></li>\n\t\t<li class="item delete with-icon-item" data-action="file.delete" id="fileDelete" aria-label="删除" tabindex="1"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t\t<li class="download-item with-icon-item download-folder" id="folderDownloadLink" data-action="folder.download"><span class="icons-download"></span><span class="menu-item-label">下载</span></li>\n\t\t<li class="with-icon-item open-in-folder disable" id="showInFolderLink" data-action="folder.openfolder"><span class="icons-menu-save-as"></span><span class="menu-item-label">在文件夹中显示</span></li>\n\t\t'),locals.isAdmin&&__append('\n\t\t<li class="rename-item" id="folderRenameLink" data-action="folder.showRenameFolder">重命名</li>\n\t\t'),__append('\n\t\t<li class="property-item" id="folderPropLink" data-action="folder.property">文件夹属性</li>\n\t\t<li class="gap"></li>\n\t\t'),__append(locals.isAdmin?'\n\t\t<li class="delete-item with-icon-item" id="folderDeleteLink" data-action="folder.showDeleteFolder"><span class="icons-trash"></span><span class="menu-item-label">删除</span></li>\n\t\t':'\n\t\t<li class="item jubao" data-action="file.jubao" id="folderJubaoLink" aria-label="举报" tabindex="1">举报</li>\n\t\t'),__append("\n");return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<section class="file-list" id="'),__append(locals.id),__append('"></section>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t\t<div class="panel">\n\t\t\t<div class="panel-title">\n\t\t\t\t<i class="icons-qq"></i>\n\t\t\t\t<span>文件夹属性</span>\n\t\t\t\t<div class="close" data-action="panel.close"></div>\n\t\t\t</div>\n\t\t\t<div class="panel-body">\n\t\t\t\t<div class="panel-content">\n\t\t\t\t\t<div class="folder-property-top">\n\t\t\t\t\t\t<div class="files-folder filesmall-folder"></div>\n\t\t\t\t\t\t<div class="folder-title">\n\t\t\t\t\t\t\t<div class="folder-name">'),__append(locals.fname),__append('</div>\n\t\t\t\t\t\t\t<div class="folder-size">共'),__append(escapeFn(locals.filenum)),__append('个文件</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="folder-property-bottom">\n\t\t\t\t\t\t<div class="created-at">\n\t\t\t\t\t\t\t<span class="folder-property-label">创建时间:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(escapeFn(locals.ctStr)),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="creator">\n\t\t\t\t\t\t\t<span class="folder-property-label">创&nbsp;&nbsp;建&nbsp;&nbsp;人:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(locals.nick),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="updated-at">\n\t\t\t\t\t\t\t<span class="folder-property-label">最后更新时间:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(escapeFn(locals.mtStr)),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="updater">\n\t\t\t\t\t\t\t<span class="folder-property-label">最&nbsp;后&nbsp;更&nbsp;新&nbsp;人:</span>\n\t\t\t\t\t\t\t<span class="folder-property-content">'),__append(locals.mnick),__append('</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<a href="javascript:void(0);" class="aria-hide" tabindex="3" aria-label="文件夹'),__append(locals.fname),__append("共"),__append(escapeFn(locals.filenum)),__append("个文件 创建时间:"),__append(escapeFn(locals.ctStr)),__append(" 创建人:"),__append(locals.nick),__append(" 最后更新人:"),__append(locals.mnick),__append('"></a>\n\t\t\t<a href="javascript:void(0);" class="aria-hide" data-action="panel.close" tabindex="3" aria-label="关闭文件夹属性窗口"></a>\n\t\t\t'),G.mac&&__append('\n\t\t\t\t<div class="panel-footer">\n\t\t\t\t\t<input aria-label="确定" type="submit" value="确定" class="btn-ok btn-common btn-right" data-action="panel.close" tabindex="2">\n\t\t\t\t</div>\n\t\t\t'),__append("\n\t\t</div>\n\n");return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('  <div class="panel-con jubao-panel" id="jubaoDom">\r\n    <iframe class="frame-jubao" id="jubaoIframe" frameborder="0" scrolling="no"></iframe>\r\n  </div>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel-overlay folder-tree-panel" id="folderTreePanel" role="panel">\r\n    <div class="panel">\r\n        <div class="panel-title">\r\n            <i class="icons-qq"></i><span>上传文件</span>\r\n            <div class="close" data-action="panel.close" data-dismiss="panel" aria-label="取消"></div>\r\n        </div>\r\n\t\t<div class="panel-body">\r\n            <div class="panel-content">\r\n                <div class="selected-files">\r\n                    <span class="file-name">\r\n                        '),__append(firstFileName),__append("\r\n                    </span>\r\n                    "),"undefined"!=typeof fileNum&&fileNum>1&&(__append('\r\n                        等<span class="file-number">'),__append(fileNum),__append("</span>个文件\r\n                    ")),__append('\r\n                </div>            \r\n                <div class="translateTo">\r\n                    <span class="translateTo-label">'),__append(action),__append('</span>\r\n                    <span class="little-folder-icon"></span>\r\n                    <div class="selected-folder-name" data-role="dest">\r\n                        '),__append(destFolder),__append('\r\n                    </div>\r\n                    <div class="aria-hide" id="targetFolderName" aria-live="assertive" aria-atomic="true" aria-relevant="all">\r\n                        <span>已选中文件夹</span>\r\n                        <span class="folder-name">'),__append(destFolder),__append('</span>\r\n                    </div>\r\n                </div>\r\n                <div class="folder-tree-box">\r\n                </div>\r\n            </div>           \r\n        </div>\r\n        <div class="panel-footer">\r\n            <input class="btn-create btn-common" type="submit" value="新建文件夹" data-action="folderTree.new" tabindex="1">\r\n            <input class="btn-no btn-common btn-right" type="submit" value="取消" data-action="panel.close" data-dismiss="panel" aris-label="取消移动文件" tabindex="1">\r\n            <input class="btn-ok btn-common btn-right" type="submit" value="确定" data-action="'),__append(okAction),__append('" aria-label="确定移动文件" tabindex="1">\r\n        </div>        \r\n    </div>\r\n</div>');return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})for(var i=0,l=locals.list.length;i<l;i++){var item=locals.list[i];if(__append('\r\n<div class="file2 file2-2 '),__append(item.styles),__append('" data-path="'),__append(item.filepath),__append('" data-id="'),__append(item.id),__append('" data-folder="'),__append(item.folderpath),__append('" '),"complete"===item.styleStatus&&__append('data-action="task.openFolder"'),__append('>\r\n\t<div class="file-icon">\r\n\t\t<div class="files-'),__append(item.icon),__append('"></div>\r\n\t\t<i></i>\r\n\t</div>\r\n\t<div class="file-info">\r\n\t\t<div class="filename">\r\n\t\t\t<div class="name">'),__append(escapeFn(item.name)),__append("</div>\r\n\t\t\t"),1===item.orcType&&(__append('\r\n\t\t\t\t<div class="suffix">'),__append(item.suf),__append("</div>\r\n\t\t\t")),__append('\r\n\t\t</div>\r\n\t\t<div class="loading">\r\n\t\t\t<div class="bar" style="width:'),__append(item.cPercent),__append('%;"></div>\r\n\t\t</div>\r\n\t\t'),item.failedFileList&&item.failedFileList.length>0){__append('\r\n\t\t\t<div class="wording" data-action="task.openfail">\r\n\t\t\t\t<i class="warn"></i>有'),__append(item.failedFileList.length),__append('个文件下载失败<i class="arrow"></i>\r\n\t\t\t\t\t<ul class="fail-list">\r\n\t\t\t\t\t\t');for(var j=0,m=item.failedFileList.length;j<m;j++)__append("\r\n\t\t\t\t\t\t\t<li>"),__append(escapeFn(item.failedFileList[j].filename)),__append("</li>\r\n\t\t\t\t\t\t");__append("\r\n\t\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t")}else __append('\r\n\t\t\t<div class="wording">'),__append(item.wording),__append("</div>\t\t\r\n\t\t");__append('\r\n\t</div>\r\n\t<div class="aris-hide">\r\n\t\t<a tabindex="-1">'),__append(escapeFn(item.name)),__append(" 进度"),__append(item.cPercent),__append('%</a>\r\n\t</div>\r\n\t<div class="file-action">\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="seat"></a>\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="pause" data-action="task.pause" title="暂停" aria-label="暂停任务 '),__append(escapeFn(item.name)),__append('" tabindex="3"></a>\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="resume" data-action="task.resume" title="启动" aria-label="启动任务 '),__append(escapeFn(item.name)),__append('" tabindex="3"></a>\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="continue" data-action="task.continue" title="续传" aria-label="续传任务 '),__append(escapeFn(item.name)),__append('" tabindex="3"></a>\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="remove" data-action="task.remove" title="删除" aria-label="删除任务 '),__append(escapeFn(item.name)),__append('" tabindex="3"></a>\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="ok-upload"></a>\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="ok-download"></a>\r\n\t\t<a href="javascript:void(0)" tabindex="-1" class="go-folder" data-action="task.openFolderIco" title="打开该文件所在的文件夹" arir-label="打开'),__append(escapeFn(item.name)),__append('所在的文件夹" tabindex="3"></a>\r\n\t</div>\r\n\t<div></div>\r\n</div>\r\n')}return __output.join("")}},function(module,exports){module.exports=function anonymous(locals,escapeFn,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('\t<div class="toast-overlay" id="toastDom" aria-describedby="toastText" tabindex="-1">\r\n\t\t<div class="toast" id="toastInfo">\r\n\t\t\t<div class="icons-'),__append(locals.cls),__append(' toast-icon"></div>\r\n\t\t\t<div class="toast-message" id="toastText">'),__append(locals.text),__append("</div>\r\n\t\t</div>\r\n\t</div>");return __output.join("")}},,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(185)},function(e,t,n){"use strict";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}function a(){var e,t,n,a=window.webkitPerformance?window.webkitPerformance:window.performance,o=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];if(a&&(e=a.timing)){e.domContentLoadedEventStart||o.splice(15,2,"domContentLoadedStart","domContentLoadedEnd");var i=[];for(n=0,t=o.length;n<t;n++)i[n]=e[o[n]];QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:1,speedTime:i})}}var o=n(37),i=t(o),r=n(9);window.QReport=i.default;var l={enter:{monitor:2057388,mac:2162523,tdw:["home","exp"]},clkGroupFile:{monitor:2057389,tdw:["home","Clk_grpfiles"]},clkFiles:{monitor:2057390,tdw:["home","Clk_files"]},openVip:{monitor:2057391,tdw:["home","Clk_open"]},clkFeed:{monitor:2057392,tdw:["home","Clk_feed"]},clkRefresh:{monitor:2057393,tdw:["home","Clk_refresh"]},forward:{monitor:0,tdw:["home","Clk_towards_mac"]},back:{monitor:0,tdw:["home","Clk_back"]},folder:{monitor:2057394,tdw:["file","exp"]},propFolder:{monitor:2057401,tdw:["file","Clk_property"]},folderBtnShow:{monitor:2057396,tdw:["file","exp_create"]},clkCreateFolder:{monitor:2057397,tdw:["file","Clk_create"]},createFolderSuc:{monitor:2057398,tdw:["file","create_suc"]},renameFolder:{monitor:2057400,tdw:["file","Clk_rename"]},clkFolderMore:{monitor:2057399,tdw:["file","Clk_more"]},downloadFolder:{monitor:2057399,tdw:["file","Clk_down"]},deleteFolder:{monitor:2057402,tdw:["file","Clk_delete"]},returnHome:{monitor:2057395,tdw:["file","Clk_home"]},folderTree:{monitor:2057403,tdw:["file","exp_select"]},createFolderInTree:{monitor:2057404,tdw:["file","select_create"]},createFolderInTreeSuc:{monitor:2057405,tdw:["file","select_suc"]},memberFileShow:{monitor:2057406,tdw:["mber_file","exp"]},memberClkFolder:{monitor:2057407,tdw:["mber_file","Clk_name"]},memberReturnHome:{monitor:2057408,tdw:["mber_file","Clk_home"]},uploadShow:{monitor:2057409,tdw:["oper_file","exp_button"]},clkUpload:{monitor:2057410,tdw:["oper_file","Clk_button"]},clkFolder:{monitor:2057411,tdw:["oper_file","Clk_category"]},showOpenFile:{monitor:2057412,tdw:["oper_file","exp_open"]},clkOpenFile:{monitor:2057413,tdw:["oper_file","Clk_open"]},showDownloadBtn:{monitor:2057414,tdw:["oper_file","exp_download"]},clkDownloadBtn:{monitor:2057415,tdw:["oper_file","Clk_download"]},showSeeBtn:{monitor:2057416,tdw:["oper_file","exp_see"]},clkShowBtn:{monitor:2057417,tdw:["oper_file","Clk_see"]},clkMore:{monitor:2057418,tdw:["oper_file","Clk_more"]},clkUnMore:{monitor:2057419,tdw:["oper_file","Clk_un_more"]},clkSaveAs:{monitor:2057420,tdw:["oper_file","Clk_save"]},clkRepost:{monitor:2057421,tdw:["oper_file","Clk_repost"]},clkPhone:{monitor:2057422,tdw:["oper_file","Clk_phone"]},clkRenameFile:{monitor:2057423,tdw:["oper_file","Clk_rename"]},clkForever:{monitor:2057424,tdw:["oper_file","Clk_forever"]},clkJubao:{monitor:2057425,tdw:["oper_file","Clk_report"]},clkDeleteFile:{monitor:2057426,tdw:["oper_file","Clk_delete"]},clkShowInFolder:{monitor:2057427,tdw:["oper_file","Clk_show"]},showSelectAll:{monitor:2057428,tdw:["all_oper","exp_box"]},clkSelectAll:{monitor:2057429,tdw:["all_oper","Clk_select"]},showBatch:{monitor:2057430,tdw:["all_oper","exp_mode"]},clkBatch:{monitor:2057431,tdw:["all_oper","Clk_all"]},batchSaveAs:{monitor:2057432,tdw:["all_oper","Clk_save"]},batchDownload:{monitor:2057433,tdw:["all_oper","Clk_download"]},batchDelete:{monitor:2057434,tdw:["all_oper","Clk_delete"]},batchDeleteSuc:{monitor:2057435,tdw:["all_oper","suc_delete"]},batchMove:{monitor:2057436,tdw:["all_oper","Clk_move"]},batchMoveSuc:{monitor:2057437,tdw:["all_oper","suc_move"]},showTask:{monitor:2057438,tdw:["task","exp"]},clkTask:{monitor:2057439,tdw:["task","Clk_task"]},showOneTask:{monitor:2057440,tdw:["task","exp_category"]},clkTaskName:{monitor:2057441,tdw:["task","Clk_name"]},showTaskShow:{monitor:2057442,tdw:["task","exp_see"]},clkTaskShow:{monitor:2057443,tdw:["task","Clk_see"]},showTaskPause:{monitor:2057444,tdw:["task","exp_start"]},clkTaskPause:{monitor:2057445,tdw:["task","Clk_stop"]},showTaskDelete:{monitor:2057446,tdw:["task","exp_delete"]},clkTaskDelete:{monitor:2057447,tdw:["task","Clk_delete"]},taskExp:{monitor:2057448,tdw:["task","exp_tips"]},clkTaskExp:{monitor:2057449,tdw:["task","Clk_tips"]},showSearchBtn:{monitor:2057450,tdw:["search","exp_button"]},clkSearchBtn:{monitor:2057451,tdw:["search","Clk_button"]},doSearch:{monitor:2057452,tdw:["search","Clk_search"]},showSearchRes:{monitor:2057453,tdw:["search","exp_result"]},clkSearchRes:{monitor:2057454,tdw:["search","Clk_result"]},clkSearchName:{monitor:2057455,tdw:["search","Clk_name"]},showFolderMove:{monitor:2057456,tdw:["oper_file","exp_move"]},clkFolderMove:{monitor:2057457,tdw:["oper_file","Clk_move"]},moveFileSuc:{monitor:2057458,tdw:["oper_file","move_suc"]},showOldVersion:{monitor:2057459,tdw:["oper_file","exp_upgradetips"]},clkUpdateQQ:{monitor:2057460,tdw:["oper_file","Clk_upgrade"]},clkNotRemind:{monitor:2057461,tdw:["oper_file","Clk_nomoreremind"]},showMoveFail:{monitor:2057462,tdw:["oper_file","exp_movefail"]},delFolderSuc:{monitor:2057463,tdw:["oper_file","delete_suc"]},jsError:{monitor:2069233},getListError:{monitor:2069234},delFileError:{monitor:2069235},moveFileError:{monitor:2069236},renameFileError:{monitor:2069237},newFolderError:{monitor:2069238},renameFolderError:{monitor:2069239},delFolderError:{monitor:2069240},cgiTimeout:{monitor:2069241},offlinePage:{monitor:2069242},nodePage:{monitor:2069243},folderNum:{tdw:["file","exp_folder"]},imgurl:{monitor:2200307},fileDownload:{monitor:2366516,tdw:["oper_file","down_in"]},blackExp:{monitor:2370085,tdw:["black","exp_foul"]},blackTips:{monitor:2370086,tdw:["black","exp_tip"]},blackDelete:{monitor:2370087,tdw:["black","delete"]},openOnlineDocs:{docs:!0,tdw:{act_type:278,report_type:101,platform:7,intext_3:3}},showRedPoint:{docs:!0,tdw:{act_type:278,report_type:101,platform:7,intext_3:3}}},s="Grp_pcfiles";window.addEventListener("load",function(){a()}),window.addEventListener("error",function(){report("jsError")});var d=r.getParameter("gid");window.reportNew=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l[t]){var a=l[t];if(a.monitor&&QReport.monitor(a.monitor),a.mac&&QReport.monitor(a.mac),G.module&&(e=G.module()),a.tdw){var o={obj1:d,opername:s,module:a.tdw[0],action:a.tdw[1]};G.mac&&(o.action=a.tdw[1]+"_mac"),o=$.extend(o,n),QReport.tdw(o)}}},window.report=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l[t]){var o=l[t];if(o.monitor&&QReport.monitor(o.monitor),o.mac&&QReport.monitor(o.mac),G.module&&(e=G.module()),o.tdw)if(o.docs){var i=o.tdw;QReport.tdw(i,!0,"dc00290")}else{var r={obj1:d,opername:s,module:o.tdw[0],action:o.tdw[1],table:"dc00141"};G.mac&&(r.action=o.tdw[1]+"_mac"),n>=0&&(r.ver1=n),a&&(r.ver2=a),QReport.tdw(r)}}}}).call(t,n(60)(e))},function(e,t,n){"use strict";function a(){f=s.getCookie("skey");for(var e=5381,t=0,n=f.length;t<n;++t)e+=(e<<5)+f.charCodeAt(t);return 2147483647&e}function o(){var e=s.getCookie("uin");return e?(e+="",e.replace(/^[\D0]+/g,"")):0}function i(e){return!1}function r(e,t){if(c){var n=e.substr(0,e.indexOf("?"));if($.inArray(e,v)<0){if(!c.getEntriesByName)return;var a=c.getEntriesByName(e)[0];if(!a)return;v.push(e);var o={1:a.redirectEnd-a.redirectStart,2:a.domainLookupStart-a.fetchStart,3:a.domainLookupEnd-a.domainLookupStart,4:a.connectEnd-a.connectStart,5:a.responseStart-a.requestStart,6:a.responseEnd-a.responseStart,7:a.responseEnd-a.startTime,8:a.fetchStart,9:a.domainLookupStart};if($.inArray(n,m)>=0){var i=3;e===m[1]&&(i=4),QReport.huatuo({appid:10016,flag1:1772,flag2:1,flag3:i,speedTime:o})}o.url=e,o[2]}}}function l(e,t,n,a){var o=Date.now();t=t||e.responseURL,e.done(function(i){QReport.retcode({url:t,type:1,code:i.ec,time:Date.now()-o,rate:1}),setTimeout(function(){r(t,e)},100),1==i.ec&&console.log("1","缺少登录态"),i.ec&&(d.printLog(n+" cgi "+t+" return error! retcode is "+i.ec+"; request data is "+JSON.stringify(a)),console.log(n+" cgi "+t+" return error! retcode is "+i.ec+"; request data is "+JSON.stringify(a)))}).fail(function(e,n){r(t);var i={status:e.status,statusText:e.statusText};"timeout"==n&&(i.status=999,i.statusText="timeout");var l=i.status;QReport.retcode({url:t,type:9999===l?3:2,code:l,time:Date.now()-o,rate:1}),d.printLog("get "+t+" error! retcode is "+l+"; request data is "+JSON.stringify(a)),console.log("get "+t+" error! retcode is "+l+"; request data is "+JSON.stringify(a))})}var s=n(9),d=n(4),c=window.performance,p={};e.exports=p;var f=(s.getParameter("gc"),s.getCookie("skey")),u=(o(),s.getParameter("groupuin"),a()),m=["http://pan.qun.qq.com/cgi-bin/checkAuditFlag"],v=[];p.ajax=function(e){var t={type:"GET",dataType:"json",data:{src:"qpan",gc:e&&e.data&&e.data.gc||s.getParameter("groupuin")},xhrFields:{withCredentials:!0},success:function(e,t,n){}};u&&(t.data.bkn=a()),$.extend(!0,t,e),t.headers={"Cache-Control":"no-cache,no-store"},"GET"===t.type&&(t.url.indexOf("?")<0?t.url+="?"+$.param(t.data):t.url+="&"+$.param(t.data),t.url+="&_ti="+(new Date).getTime(),delete t.data);var n=$.ajax(t);return l(n,t.url),{done:function(e){var a=0;return function e(n,o){n.done(function(e){0==e.ec&&o(e)}),n.fail(function(){a>=1||i(t.url)||(a++,n=$.ajax(t),l(n,t.url,t.type,t.data),e(n,o))})}(n,e),this},fail:function(e){var a=0;return function e(n,o){n.done(function(e){0!=e.ec&&o(e)}),n.fail(function(i,r){if(a>=0)return"timeout"==r?(report("cgiTimeout"),o({ec:504,msg:r})):o({ec:i.status});a++,n=$.ajax(t),l(n,t.url,t.type,t.data),e(n,o)})}(n,e),this},timeout:function(e){return n.fail(function(t,n){"timeout"==n&&e({ec:504,msg:n})}),this},always:function(e){return n.always(e),this},then:function(){return n.then.apply(n,arguments),this}}},p.bkn=u,p.getToken=a},function(e,t,n){"use strict";function a(e){return!!(d.errorCfgPrefix[e.type]+"-"+e.status in d.errorCfg&&d.errorCfg)}function o(e){if(!e||!e.type||!e.status)return"";var t=d.errorCfgPrefix[e.type]+"-"+e.status;return t in d.errorCfg?"upload-uploadsecurityfail"===t&&d.securityattriMap[e.securityattri]?d.securityattriMap[e.securityattri]:d.errorCfg[t]:void 0}function i(e,t){return d.wordingMap[e][t]}function r(e,t){return d.styleMap[e][t]}function l(e){return d.typeMap[e]}function s(e,t){if(!e)return!1;d.wordingMap[e]||console.warn("设置wording 未知任务类型=["+e+"]"),d.wordingMap[e][t]||console.warn("设置wording 未知任务状态=["+t+"]"),d.styleMap[e][t]||console.warn("设置样式 未知任务状态=["+t+"]")}var d=n(50);e.exports={check:s,getType:l,getWord:i,getClass:r,ifError:a,getErrorWord:o}},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(35),i=n(34),r=n(54),l=n(8),s=function(e){if(""===e)l.init();else try{e=JSON.parse(e)}catch(e){return void l.init()}if("fileList"===e.action){var t=e.params;t="object"===(void 0===t?"undefined":a(t))?t:{};var n=t.folderId;"/"===n?l.init():o["folder.open"](n,t.fname)}else if("search"===e.action){var s=e.params;s="object"===(void 0===s?"undefined":a(s))?s:{};var d=s.keyword;$("#inputSearch").val(d);var c=s.files[0];r.search(void 0,function(e){var t=!0,n=!1;return function(){if(t&&(i["file.getAttr"](e,d),t=!1),!n){var a="#"+("/"+e.busId+e.fileId).replace(/\//gi,"-");$(a).last().remove(),n=!0}}}(c))}};!function(){window.addEventListener("storage",function(e){if("notifyOtherGroup"===e.key){var t={};try{t=JSON.parse(e.newValue)}catch(e){return void console.log("decode JSON fail")}if(t.gc===G.info.gc){var n=t.webParams;s(n)}}})}();e.exports={action:s}},function(e,t,n){"use strict";var a=n(34),o=n(35),i=n(1),r=function(){G.activeElement=this},l=function(){var e=$(document.activeElement).parents(".list-item");if(0===e.length)return!1;var t=e.data("path"),n=void 0,a=i.getData(t);return 2===a.orcType?n="fold":1==a.orcType&&(n="file"),G.selectRow=a||{},G.selectRow.path=t,G.selectRow.type=n,G.selectRows=[G.selectRow],!0},s=function(){l()&&"fold"===G.selectRow.type&&o["folder.openfolder"]()},d=function(){l()&&("file"===G.selectRow.type?a["file.showRename"]():"fold"===G.selectRow.type&&o["folder.showRenameFolder"]())},c=function(){l()&&"fold"===G.selectRow.type&&o["folder.property"]()},p=function(){l()&&("file"===G.selectRow.type?a["file.showRename"]():"fold"===G.selectRow.type&&o["folder.showRenameFolder"]())},f=function(){l()&&"file"===G.selectRow.type&&a["file.preview"]()},u=function(){l()&&"file"===G.selectRow.type&&a["file.showMove"]()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l()&&"file"===G.selectRow.type&&(e?a["file.forwardMobile"]():a["file.forward"]())},v=function(){l()&&"file"===G.selectRow.type&&a["file.jubao"]()},_=function(e){switch(e){case 65:$("#selectAllFile").click();break;case 66:$("#openBoxBtn").click();break;case 68:d();break;case 70:m();break;case 72:m(!0);break;case 74:v();break;case 76:doDownLoad();break;case 77:u();break;case 78:$("#createFolder button").click();break;case 79:s();break;case 80:c();break;case 82:p();break;case 85:$(".icons-upload-1").click();break;case 88:$(G.handler).trigger("panel.hideAll");break;case 89:f()}},h=function(e){e.altKey&&e.shiftKey&&_.call(this,e.keyCode)};e.exports={"aria.fmg":r,"aria.quick":h}},function(e,t,n){"use strict";function a(e){var t=$(this).data("action");if("folder.download"==t&&console.log(this.getBoundingClientRect()),t){var n=f[t];"function"==typeof n&&n.call(this)}else m.trigger("box.hide")}function o(e){var t=$(this).data("keyup");if(t){var n=f[t];"function"==typeof n&&n.call(this,e)}}function i(e){var t=$(this).data("keydown");if(t){var n=f[t];"function"==typeof n&&n.call(this,e)}}function r(e){var t=$(this).data("blur");if(t){var n=f[t];"function"==typeof n&&n.call(this,e)}}function l(){this.inputStart=!0}function s(){var e=this;setTimeout(function(){e.inputStart=!1},200)}function d(e){var t=$(e.target);0===t.parents("#box").length&&"box.toggle"!==t.data("action")&&m.trigger("box.hide")}function c(e){var t=$(this).data("focus");if(t){var n=f[t];"function"==typeof n&&n.call(this,event)}}function p(){$(document).on("click","[data-action]",a),$("body").on("click",d),$(document).on("keyup","[data-keyup]",o),$(document).on("keydown","[data-keydown]",i),$(document).on("focus","[data-focus]",c),$(document).on("blur","[data-blur]",r),$(document).on("compositionstart","[data-cstart]",l),$(document).on("compositionend","[data-cend]",s),$("body").on("click",function(e){u["menu.hide"](e.target)}),$(window).on("load",function(){$(".scroll-dom").scroll(function(){var e=$(window),t=e.height(),n=$(".scroll-dom").scrollTop(),a=$(".scroll-dom .file-list:visible").children(".list-item");30+n>=a.length*a.first().height()-t&&G.scrollHandler&&G.scrollHandler()})})}var f=n(224).getHandlerTasks(),u=n(86),m=(n(202),$(G.handler));e.exports={init:p}},function(e,t,n){"use strict";var a=n(192),o=n(194),i=n(193),r=n(196),l=n(198),s=n(199),d=(n(197),n(51)),c=n(195),p=n(200);e.exports={"box.toggle":a.toggle,"task.continue":o.continueUpload,"task.pause":r.pause,"task.remove":l.remove,"task.resume":s.resume,"task.clear":i.clear,"task.openFolder":d.openByBox,"task.openFolderIco":d.openFolderByBoxIco,"tips.close":p.closeTips,"tips.refesh":p.refeshVip,"tips.con":p.conVip,"tips.vipOk":p.vipTipsOk,"tips.vipCancel":p.vipTipsCancel,"tips.open":p.openVip,"task.clearHistory":i.clear,"task.openfail":c.toggle}},function(e,t,n){"use strict";function a(){report("clkTask"),d?i():(o(),r.removePoint())}function o(){report("showTask"),c||r.firstRender(),c=!0,d=!0,l.addClass("open"),$("#boxTitle a").focus()}function i(){d=!1,l.removeClass("open"),console.log(G.activeElement),G.activeElement&&G.activeElement.focus()}var r=n(15),l=$("#box"),s=$(G.handler),d=!1,c=!1;s.bind("box.hide",i),e.exports={toggle:a}},function(e,t,n){"use strict";function a(){var e=$(this.parentNode.parentNode),t=e.data("path");r.getFile(t);r.clearComplete(),i.clearComplete(),o.clearClist(),l.clearClist()}var o=n(4),i=n(15),r=n(1),l=n(13);e.exports={clear:a}},function(e,t,n){"use strict";function a(e){var t=$(this.parentNode.parentNode),n=t.data("path"),a=i.getTask(n);n=a.filepath;var r=a.remoteType,l=a.localpath,s=a.fnameEsc||a.fname;console.log("调用续传接口:",a,n);var d=o.addContinueUploadTask(n,l,s,r);$("#boxTitle a").focus(),console.log("continueUpload ret:",d)}var o=n(4),i=n(1);e.exports={continueUpload:a}},function(e,t,n){"use strict";function a(){this.classList.contains("open")?this.classList.remove("open"):(report("clkTaskExp"),this.classList.add("open"))}e.exports={toggle:a}},function(e,t,n){"use strict";function a(){var e=$(this.parentNode.parentNode),t=e.data("path"),n=e.data("id"),a=i.getTask(n,t);console.log(">>","task pause");o.pauseTask(n);$("#boxTitle a").focus(),report("clkTaskPause",void 0===a.downloadtasktype?0:1)}var o=n(4),i=n(1);e.exports={pause:a}},function(e,t,n){"use strict";function a(){c&&(clearTimeout(c),c=0)}function o(){c||i()}function i(){var e=r.getTaskListAdv(),t=!1;if(e.empty&&"ok"===e.status)a();else for(var n=/progress|ready|scan|geturl/gi,o=s.cleanMap(e.map),p=0,f=o.length;p<f;p++){var u=o[p];d.trigger("client.updateTask",u),n.test(u.status)&&(t=!0)}console.log(e),t?c=setTimeout(i,l):(console.log("do stop refresh!"),a())}var r=n(4),l=n(50).refreshTime,s=n(27),d=$(G.handler),c=0;$(G.handler).bind("task.startRefresh",o),$(G.handler).bind("task.stopRefresh",a)},function(e,t,n){"use strict";function a(){var e=$(this.parentNode.parentNode),t=e.data("id"),n=e.data("path"),a=r.getTask(t);a||(a=r.getTask(n));var d=a.type,c=!0,p=a.filepath;if(report("clkTaskDelete"),$("#boxTitle a").focus(),console.log(">>","task remove",a),a.id){o.removeTask(a.id);c=!0}if(c){if(d&&d.indexOf("upload")>=0){if(p){var f=p.substr(4),u=p.substr(1,3),m={app_id:G.appid,bus_id:parseInt(u),file_id:f,parent_folder_id:G.nowFolder};console.log("删除任务:",m,a),i.deleteFile(m).done(function(e){console.log("删除任务结果:",e),r.remove(a)}).fail(function(e){e.fc&&e.fc})}}else"download"===d&&(o.removeTask(a.id),o.removeCompleteTask(a.id));a.id&&r.remove(a.id),"download"!==a.type&&r.remove(a.filepath),a.status="remove",s.trigger("client.updateTask",a),o.clearClist();var v=r.getData(p);v&&(v.isDowning=!1),l.updateRow(v)}}var o=n(4),i=(n(9),n(6)),r=n(1),l=(n(15),n(8)),s=$(G.handler);s.bind("task.removeOne",function(e,t){var n=o.removeTask(t);console.log(n,t)}),e.exports={remove:a}},function(e,t,n){"use strict";function a(){var e=$(this.parentNode.parentNode),t=e.data("path"),n=i.getTask(t),a=n.id;o.resumeTask(a);report("clkTaskPause"),$("#boxTitle a").focus()}var o=n(4),i=n(1);e.exports={resume:a}},function(e,t,n){"use strict";var a=n(6),o=(n(4),n(1),{});e.exports=o,o.closeTips=function(){},o.refeshVip=function(){a.checkVip().done(function(e){console.log(e)}).fail(function(e){})},o.conVip=function(){window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")},o.vipTipsOk=function(){window.open("http://pay.qq.com/ipay/index.shtml?c=cjclub&aid=vip.gongneng.client.qunwenjian_openvip&ADTAG=CLIENT.QQ.GroupFile_OpenSVIP")},o.vipTipsCancel=function(){},o.openVip=function(){}},function(e,t,n){"use strict";function a(e){if("object"!==(void 0===e?"undefined":o(e)))return void console.error("onFiletransporterEvent param parse error");var t=e.event,n=e.task,a={newtask:"newtask",taskcomplete:"taskcomplete",taskpause:"taskpause",taskresume:"taskresume",startprogress:"taskprogress",taskabort:"taskabort"};void 0!==a[t]&&void 0!==r[a[t]]&&l.indexOf(n.id)<0?(console.log("收到任务:",n,e),n=i.get(n),r[a[t]](n),$(G.handler).trigger("task.startRefresh")):"statechange"===t&&"downloadfail"===n.status&&(l.push(n.id),r.taskabort(n))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(27),r={newtask:n(203),taskcomplete:n(205),taskpause:n(206),taskresume:n(208),taskprogress:n(207),taskabort:n(204)},l=[];e.exports={fileEvent:a}},function(e,t,n){"use strict";function a(e){console.log("收到客户端通知:",e);var t=void 0;if(!e)return void console.error("[Client] msg is not exist!");if("string"==typeof e)try{t=JSON.parse(e)}catch(e){console.error("[Client|init()]msg is string, but parse to object catch e!")}if("object"!==(void 0===t?"undefined":i(t)))return void console.error("[Client|init()]after parse, got no object!");o(t)}function o(e){console.log(e);var t=e;if(t&&"object"===(void 0===t?"undefined":i(t)))if("Client"===t.from){var n=t.data;"string"==typeof n&&(n=JSON.parse(t.data)||{});var a=n.cmd||"";switch(a){case"OnFiletransporterEvent":r(n.param);break;case"OnGroupShareTabChangedEvent":l(n.param);break;case"OnGroupUploadFileListsEvent":case"OnGroupDropInGroupFolderUpload":s(param);break;default:console.warn("warn:预期外的message.cmd:"+a)}}else if(t.cmd&&"OnGroupUploadFileListsEvent"===t.cmd)s(t.param);else if(t.cmd&&"OnGroupDropInGroupFolderUpload"===t.cmd)d(t.param);else{var o=t.data;if(!o)return;"string"==typeof o&&(o=JSON.parse(o));var p=o.cmd||"";switch(p){case"jubao_close":c.hide();break;default:console.warn("warn:预期外的message.cmd:"+p)}}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(201).fileEvent,l=n(77).groupEvent,s=n(78).uploadEvent,d=n(78).dropEvent,c=n(90),p=top;top.external;window.addEventListener("message",o),p.PostMessage=p.onClientEvent=a,window.onClientEvent=a,e.exports={}},function(e,t,n){"use strict";function a(e){if(console.warn("------新任务---------"),e.taskStarttime=parseInt((new Date).getTime()/1e3,10),"download"!==e.type||2!==e.downloadtasktype)$(G.handler).trigger("client.addTask",e);else{var t=e.foldertaskid,n=i.getOneTask(t);n&&(n.fileTaskList||(n.fileTaskList=[]),n.fileTaskList.push(e.id))}QReport.monitor(o[e.type])}var o={upload:2186487,continueupload:2186489,download:2186490},i=n(27);e.exports=a},function(e,t,n){"use strict";function a(e){var t=e.filepath,n=e.localpath,a=e.filename_esc||e.filename,o=e.remotetype;i.addContinueUploadTask(t,n,a,o)}function o(e){if(s.trigger("client.updateTask",e),"downloadfail"===e.status){var t=l.task2file(e);r.updateRow(t);try{i.removeTask(e.id)}catch(e){}}var n=d[e.type],o=n[e.status];if(o&&QReport.monitor(o),e.errorcode||e.securityattri){var c=e.errorcode;if(32221991===c)return void a(e)}}var i=n(4),r=n(8),l=n(1),s=$(G.handler),d={upload:{cancel:2186633,remove:2186634,scanfail:2186635,uploadsecurityfail:2186636,uploadgeturlfail:2186637,uploadfail:2186491,_default:2186638},continueupload:{cancel:2186639,remove:2186640,scanfail:2186641,uploadsecurityfail:2186642,uploadgeturlfail:2186643,uploadfail:2186491,_default:2186644},download:{cancel:2186645,remove:2186646,downloadgeturlfail:2186647,downloadfail:386331,_default:2186648}};e.exports=o},function(e,t,n){"use strict";function a(e){var t=o.task2file(e);if(G.file||(G.file={}),G.file&&void 0===G.file.cu&&(G.file.cu=0),"downloadcomplete"===e.status){if(2!==e.downloadtasktype&&i.updateRow(t),t.parentId&&"/"!==t.parentId){var n=o.getData(t.parentId);n&&++n.downNum===n.filenum&&(n.isDown=!0,n.succ=!0,i.updateRow(n))}}else{if(G.file.cu+=t.size,G.file.capacityused=d.getSize(G.file.cu),i.renderSpace(),t.folderpath!==G.nowFolder&&t.folderpath){var a=o.getData(e.folderpath);a.filenum++;var c=parseInt((new Date).getTime()/1e3,10);a.mt=c,a.mtStr=s.dayStr(c),a.toFirst=!0,i.updateRow(a)}else i.appendFile(t);o.updateAllNum({files:[t],action:"add"})}r.set(t),report("showTaskShow"),console.log("task complete",t),l.trigger("client.updateTask",e)}var o=n(1),i=n(8),r=n(13),l=$(G.handler),s=n(33),d=n(26);n(18);e.exports=a},function(e,t,n){"use strict";function a(e){o.trigger("client.updateTask",e)}var o=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(e){e.createtime=parseInt((new Date).getTime()/1e3,10),"uploadprogress"===e.status&&setTimeout(function(){$(G.handler).trigger("box.show",e)},20),e.remotetype,e.type,o.trigger("client.updateTask",e)}var o=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(e){o.trigger("client.updateTask",e)}var o=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(){return function(e,t){var n=G.getDomPanel();if(e){var a=e.file[0],o=a.domid;if(0===$("#"+o).length){a.name=d.heightLight(a.name,[t]),a.suf=d.heightLight(a.suf,[t]);var i=l({list:e.file});n.prepend(i)}$("#"+o).addClass("height-light")}}}function o(e,t){e=e||{};var n=e.busId,o=e.fileId;r.getFileAttr({bus_id:n,file_id:o}).done(function(e){var n=[];if("object"===i(e.file_info)){e.file_info.upload_size=e.file_info.size;var r=e.file_info;r.proId=r.id,r.id=o,n.push(r),n=s.setFileList(n),a()(n,t)}}).fail(function(e){console.log("fail",e)})}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(6),l=n(39),s=n(1),d=n(9);G.renderOtherGroupResultFuncSingtons={};window.getFileAttr=o,e.exports=o},function(e,t,n){"use strict";function a(e){F.getTips()||(report("showOldVersion"),o())}function o(){$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本不支持批量另存功能，请升级QQ至最新版本后体验"),$("#updateQQ").find("input.btn-notips").attr("data-action","panel.close")}function i(e,t){switch(e){case 1:return'您选择了<span class="red">'+k+'</span>个文件,其中<span  class="red">'+C+'</span>个文件可以删除<br>您确定要删除这<span  class="red">'+C+"</span>个文件吗?";case 2:return"正在删除文件";case 3:return'已经成功删除<span class="red">'+t+"</span>个文件"}}function r(){k=0,T=0,C=0,M=[]}function l(){var e=G.getDomPanel()[0],t=e.querySelectorAll(".cbox:checked"),n=[];r(),k=t.length;for(var a=0,o=t.length;a<o;a++){var i=t[a],l=i.value,s=g.getData(l);s&&(s.remove&&C++,s.succ||S++,n.push(s))}return G.selectRows=n,n}function s(){}function d(){this.classList.contains("disabled")||(report("batchDownload"),w.hide(y),v.downloadBatch(l()),b.exit())}function c(){this.classList.contains("disabled")||(M=l(),w.showBatchPanel(y,{title:"批量删除",action:"batch.removeAction",text:i(1)}))}function p(){report("batchDelete"),w.showBatchPanel(y,{title:"批量删除",hideAll:!0,text:i(2)}),b.exit(),_.removeBatch(M,function(e){w.showBatchPanel(y,{title:"批量删除",action:"batch.removeAction",hideOk:!0,closeText:"关闭",text:i(3,e)}),r()})}function f(){this.classList.contains("disabled")||(report("batchMove"),M=l(),m.showMove())}function u(){report("batchSaveAs");var e=function(){l();var e=G.selectRows;b.exit();for(var t=[],n=e.length-1;n>=0;n--){var a=e[n];t.push({filepath:a.filepath,filename:a.fnameEsc,domid:a.domid,fname:a.fname,filetype:a.filetype,filesize:a.size})}h.saveBatch(t)};G.info.version<x?a(e):e()}var m=n(81),v=n(80),_=n(79),h=n(82),g=n(1),w=n(11),b=n(52),y=$("#batchPanel"),F=n(13),x=G.folderVersion,k=0,T=0,C=0,S=0,M=[];e.exports={remove:c,removeAction:p,download:s,downloadAction:d,move:f,save:u}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.doClearFile=t.clickClearFile=void 0;var o=n(6),i=a(o),r=n(11),l=a(r),s=$("#cleanFile"),d=$("#cleanProg"),c=(t.clickClearFile=function(){if(console.log(1234),G.mac){var e=client.confirm(2,"提示","将为你保留最近的1500个文件和文件夹，并删除之前的所有文件\n注意:本操作不可恢复，请自行备份");0===e.errorCode&&e.ret&&c()}l.default.showBatchPanel(s,{title:"提示",action:"file.doClearFile",text:'将为你保留最近的1500个文件和文件夹，并删除之前的所有文件<div class="warming">注意:本操作不可恢复，请自行备份</div>',okBtnText:"确定删除"})},t.doClearFile=function(){G.mac||(l.default.hide(s),l.default.show(d)),i.default.cleanFile().done(function(e){}).fail(function(e){l.default.hide(d)});var e=0,t=function t(){i.default.getFileCount().done(function(n){console.log(n),0!==n.ec||n.is_too_many?e=setTimeout(t,500):(l.default.hide(d),clearTimeout(e),location.reload())}).fail(function(n){console.log(n),e=setTimeout(t,500)})};G.mac||t()})},function(e,t,n){"use strict";function a(){if(!this.classList.contains("disable")){report("clkRepost",G.module());var e=G.selectRow.path,t=i.getFile(e);if(t){var n=t.filepath,a=t.fnameEsc,o=t.size;r.forwardFile(a,n,o),l.trigger("menu.hide")}}}function o(e){if(!this.classList.contains("disable")){report("clkPhone",G.module());var t=G.selectRow.path,n=i.getFile(t);if(n){var a=n.filepath,o=n.fnameEsc,s=n.size,d=r.forwardFileToDataLine(o,a,s);console.log(d),l.trigger("menu.hide")}}}var i=n(1),r=n(4),l=(n(36),$(G.handler));e.exports={forward:a,toMobile:o}},function(e,t,n){"use strict";var a=n(8),o={};o.byUin=function(){var e=$(this).data("uin"),t=this.innerHTML,n=function(){G.module(2),$("#navTopFolder").addClass("selected"),$("#createFolder").hide(),$("#fileNum").addClass("hide").attr("data-action","menu.filenum"),$("#headerLine").text(">"),$("#box").addClass("one"),$("#folderName").html('<div style="display: -webkit-box;"><div class="uploader-name">'+t+"</div><div>上传的文件</div></div>").removeClass("hide"),$("#normalNav").removeClass("hide"),G.mac&&$(".mac-file-top").addClass("user-module")};G.module(2),a.getList({paramsFilter:{filterUin:e,filterCode:3},succ:n,renderParams:{getByUinHide:!0,uploaderHide:!0}})()},e.exports=o},function(e,t,n){"use strict";function a(){var e=G.selectRow;if(report("clkJubao"),e){var t="http://jubao.qq.com/cn/jubao?appname=im&subapp=group_file&jubaotype=article";G.checkHttps()&&(t="https://proxy.qun.qq.com/tx_tls_gate=jubao.qq.com/cn/jubao?appname=im&subapp=group_file&jubaotype=article"),t+="&impeachuin="+G.info.uin,t+="&uin="+e.uin,t+="&fid="+e.fp,t+="&fname="+encodeURIComponent(e.fnameEsc),t+="&ut="+e.ct,t+="&fs="+e.size,t+="&dt="+e.down,t+="&t="+e.t,t+="&mt="+e.mt,t+="&exp="+e.exp,t+="&gid="+G.info.gc,o.show(encodeURI(t))}i.trigger("menu.hide")}var o=(n(1),n(90)),i=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(){if(!this.classList.contains("disable")){report("clkForever");var e=G.selectRow.path,t=o.getFile(e);if(t&&2===t.remoteType){var n=t.filepath,a={fp:n};i.setPermanent(a).done(function(e){if(0===e.ec){var n="/102"+e.fp;t.newFilePath=n,t.remoteType=1,t.fp=e.fp,t.temp=!1,o.updateFile(t,"permanent"),l.trigger("file.dataUpdate",t),l.trigger("toast.show",{type:"suc",text:"转存成功"})}}).fail(function(e){console.log(e),r.showError(e.ec)})}else console.log("文件不存在或者不是临时文件");l.trigger("menu.hide")}}var o=n(1),i=n(6),r=n(29),l=$(G.handler);e.exports=a},function(e,t,n){"use strict";function a(e){e.usedTime++,d.trigger("toast.hide"),l.preview(e.previewObj.url)}function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0,n=$(this);if(e)t=e;else{var o=n.data("path");if(!(t=r.getFile(o))){var i=G.selectRow.path;t=r.getFile(i)}if(!t){var p=G.selectRow.path;t=r.getFile(p)}}if(t){if(t.safeType){var f=G.getReportInfo(t);return f.ver3=f.ver4,f.ver4=f.ver5,f.ver5=t.isDown?2:1,reportNew("blackTips",f),void l.alert(2,"提示","该文件存在安全风险，无法正常使用")}var u=t.filepath,m=(t.remotetype,t.fnameEsc||t.fname),v=t.size,_=t.filetype;if($.inArray(_,c)>=0)v>20971520?l.alert(2,"提示","图片太大不支持预览，请直接下载"):(t.usedTime++,d.trigger("toast.show",{type:"wait",text:"正在加载预览图…"}),s.getOneThumb(t,a));else try{l.previewFile(u,m)}catch(e){console.log(e)}}}function i(){if(!this.classList||!this.classList.contains("disable")){d.trigger("menu.hide");var e=G.selectRow;e&&o(e)}}var r=n(1),l=n(4),s=n(88),d=$(G.handler),c=["图片"];e.exports={preview:o,menupreview:i}},function(e,t,n){"use strict";function a(){this.classList.contains("disable")||(report("clkRenameFile",G.module()),i.show(f,{title:"重命名",tips:"请为文件输入新名称",action:"file.renameFile",showValue:G.selectRow.nameEsc}))}function o(){var e=f.find(".new-name").val(),t=G.selectRow,n={file_id:t.fp,app_id:G.appid,new_file_name:e+t.suf,bus_id:t.busid,parent_folder_id:G.nowFolder};s.renameFile(n).done(function(n){0===n.ec&&(t.name=e,t.nameEsc=d.decode(e),t.fname=e+t.suf,t.fnameEsc=d.decode(t.fname),r.updateFile(t,"rename"),l.updateRow(t),u.trigger("file.thumbUpdate",t)),p.hideAll()}).fail(function(e){c.showError(e.ec,f),report("renameFileError")})}var i=n(11),r=n(1),l=n(8),s=n(6),d=n(76),c=n(29),p=(n(4),n(11)),f=$("#folderPanel"),u=$(G.handler);e.exports={showFileRename:a,renameFile:o}},function(e,t,n){"use strict";function a(e){if(0===e.errorCode&&e.ret){var t={id:G.selectRow.id};r.deleteFolder(t).done(function(e){if(e.ec)return void client.alert(2,"提示","删除文件夹失败");G.canCreateFolder=!0;var t=G.folderMap()[G.selectRow.id];G.folderNum--,G.folderNum<0&&(G.folderNum=0),l.remove(t.id),i.removeRow(t),d.setClist(t,"delete"),s.trigger("toast.show",{type:"suc",text:"删除文件夹成功"}),c.init(),report("delFolderSuc")}).fail(function(e){client.alert(2,"提示","删除文件夹失败"),report("delFolderError")})}}function o(){if(s.trigger("menu.hide"),G.selectRow){report("deleteFolder",G.module());var e=client.confirm(2,"提示","你确定要删除"+G.selectRow.fnameEsc+"以及文件夹内的所有文件吗？");e&&a(e)}}var i=n(8),r=n(6),l=n(1),s=$(G.handler),d=n(13),c=n(18);e.exports={showDeleteFolder:o,deleteFolder:a}},function(e,t,n){"use strict";function a(){l.getTips()||(report("showOldVersion"),o())}function o(){$("#updateQQ").addClass("open"),$("#updateQQTips").text("当前版本不支持文件夹下载功能，请升级QQ至最新版本后体验"),$("#updateQQ").find("input.btn-notips").attr("data-action","panel.close")}function i(e){var t=document.createElement("div"),n=this.getBoundingClientRect(),a=function(){var e=document.height;return G.getDomPanel()[0].scrollHeight+52>e};t.innerHTML='<div class="img"></div>',t.className="file-animate files-"+e.icon;var o=window.innerWidth-n.left-76;G.info.isAdmin&&(o+=47),a()&&(o-=20),G.mac&&(o=177),t.style.right=o+"px",t.style.top=n.top-20+"px",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},1500)}function r(){var e=G.selectRow;if(G.info.version<d)return void a();if(report("downloadFolder"),e){i.call(this,e);var t=e.path,n=e.fnameEsc;client.addDownloadTask(t,n,0,!0,!0)}s.trigger("menu.hide")}var l=(n(1),n(13)),s=$(G.handler),d=G.folderVersion;e.exports={download:r}},function(e,t,n){"use strict";function a(){report("propFolder"),i.render(o,G.selectRow),o.addClass("open"),r.trigger("menu.hide"),o.find(".aria-hide")[0].focus()}var o=$("#folderPropertyPanel"),i=n(57),r=$(G.handler);e.exports={show:a}},function(e,t,n){"use strict";function a(){d.addClass("open")}function o(){d.removeClass("open")}function i(){d.removeClass("open")}function r(){console.log("ok move file")}function l(){console.log("move file create folder")}function s(e,t){var n=$(e.target).closest(".folder-list-item");$(".folder-list-item").removeClass("active"),n.addClass("active")}var d=$("#move-file-panel");e.exports={oveFileOpen:a,moveFileClose:o,moveFileCancel:i,moveFileOk:r,moveFileCreateFolder:l,fileActive:s}},function(e,t,n){"use strict";function a(){if(c.trigger("menu.hide"),G.selectRow){var e=$.trim(o.find(".new-name").val()),t=G.selectRow.id,n={folder_id:t,new_name:e};return l.renameFolder(n).done(function(n){var a=G.folderMap()[t];a.fname=e,a.fnameEsc=e,a.name=e,a.modify_time=Math.ceil((new Date).getTime()/1e3),a=d.updateFolder(a),$("[data-path='"+t+"']").find(".name").html(e),c.trigger("toast.show",{type:"suc",text:"重命名文件夹成功"}),i.updateRow(a),s.hideAll()}).fail(function(e){r.showError(e.ec,o),report("renameFolderError")}),!0}}var o=$("#folderPanel"),i=n(8),r=n(29),l=n(6),s=n(11),d=n(1),c=(n(33),$(G.handler));e.exports={renameFolder:a}},function(e,t,n){"use strict";function a(){}e.exports={"input.edit":a}},function(e,t,n){"use strict";function a(){for(var e={},t=0;t<o.length;t++){var n=o[t],a=void 0;for(a in n)n.hasOwnProperty(a)&&(e[a]=n[a])}return e["tips.close"]=function(){$("#alertTips").remove()},e}var o=[n(35),n(34),n(86),n(191),n(223),n(36),n(53),n(54),n(55),n(77),n(87),n(189)];e.exports={getHandlerTasks:a}},function(e,t,n){"use strict";function a(){navigator.userAgent.indexOf("Mac OS X")>=0?(G.mac=!0,$("#inputSearch").attr("placeholder",""),$("#navTopFolder").attr("data-action","menu.filenum"),$(".refresh-icon").attr("data-action","menu.refresh").click(function(){window.location.reload()})):$("#inputSearch").attr("placeholder","")}function o(){var e=n(85);if(a(),G.info=i.getInfo(),r.init(),d.init(),l.init(),c.init(),p.action(m),window.addEventListener("message",function(t){"return to pan"===t.data&&e.hideDocs()}),"isLocal"===localVersion&&report("offlinePage"),"tips"===f){(0,n(57).showDocs)()}u.printLog("into pan.qun.qq.com,start init")}savePoint("start"),window.G={},G.flagThumb=!0,G.flagUploadTemp=!1,G.flagHeightChrome=/chrome\/([2|3]\d)/gi.test(window.navigator.userAgent),G.canOpenFolder=window.external&&window.external.openFolder,G.ifFileExist=window.external&&window.external.isFileExist,G.flagIsVip=!1,G.handler={},G.cMap={},G.pList=[],G.cList=[],G.compList=[],G.selectRow={},G.previewCache={},G.activeElement,G.oldVersion=!1,G.folderVersion=5461,G.nowFolder="/",G.folderNum=0,G.appid=4,G.canCreateFolder=!1,G.mac=!0;var i=n(228),r=n(13),l=(n(184),n(230)),s=(n(58),n(9)),d=n(190),c=(n(35),n(34),n(54),n(87)),p=(n(8),n(188)),f=(n(18),s.getParameter("jumpfrom")),u=(s.getParameter("debug"),n(4)),m=decodeURIComponent(s.getParameter("webParams"));G.downFast=window.external&&window.external.downloadByXF,G.showRed=!1,G.fileMap=function(){var e=[];return function(){return e[G.module()]=e[G.module()]||{},e[G.module()]}}(),G.folderMap=function(){var e=[];return function(){var t=G.module();return 1!==t&&2!==t&&3!==t||(t=0),e[t]=e[t]||{},e[t]}}(),G.module=function(){var e=0,t={0:"首页",1:"文件夹内",2:"成员文件列表",3:"搜索结果页"};return function(n){return void 0===n?e:t[n]?(3!==n&&$("#inputSearch").val(""),e=n):void console.log("illegal module")}}(),G.scrollHandler=function(){var e=[];return function(t){var n=G.module();if(t)return e[n]=t;e[n]=e[n]||function(){},e[n]()}}(),G.checkHttps=function(){return location.href.indexOf("https://")>=0},G.getReportInfo=function(e){if(1===e.orcType){var t=1===G.module()?1:0,n=$("#"+e.domid),a=n.attr("idx"),o=t;void 0!==a&&(o+="_"+a);var i=e.uin===G.info.uin?1:2;return{ver1:e.isDown?1:2,ver2:G.info.isAdmin?1:2,ver3:i,ver4:encodeURIComponent(e.fname),ver5:encodeURIComponent(e.filetype),ver6:o}}if(2===e.orcType){var r=0,l=$("#"+e.domid),s=l.attr("idx"),d=r;void 0!==s&&(d+="_"+s);var c=G.info.uin===e.uin?1:2;return{ver1:e.filenum===e.downNum?1:2,ver2:G.info.isAdmin?1:2,ver3:c,ver4:encodeURIComponent(e.name),ver5:d}}return!1},window.addEventListener("error",function(e){u.printLog("js error: in "+e.filename+", line: "+e.lineno+", col "+e.colno+",message : "+e.message+" ")},!1),o()},function(e,t,n){"use strict";var a=n(6),o=n(1),i={};e.exports=i,i.getFileCount=function(e,t){a.getFileCount().done(function(t){o.setFileCount(t),e(t)}).fail(function(e){console.log(e)})}},function(e,t,n){"use strict";var a=n(6),o=(n(1),{});e.exports=o,o.createFolder=function(e,t){a.createFolder(e).done(function(e){t(e)}).fail(function(e){})},o.renameFolder=function(e,t){},o.deleteFolder=function(e,t){}},function(e,t,n){"use strict";function a(){var e=o.getUin(),t=o.getParameter("gid"),n=function(){var n="refresh_"+e+"_"+t;return!!(1*o.getCookie(n))&&(o.getCookie(n),!0)}();/^\d+$/.test(t)||(t=parseInt(t,10),isNaN(t)&&(t="0"));var a=o.getParameter("visitor"),r="1"===a,l=i.getVersion().version;return{uin:parseInt(e),gc:parseInt(t),isVisitor:r,nickName:i.getNickName(e),fromRefresh:n,version:l}}var o=n(9),i=n(4);e.exports={getInfo:a}},function(e,t,n){"use strict";function a(e){return r.setAllNum(e),r.setRole(e),r.setFileList(e.list)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(6),r=n(1),l={};e.exports=l,l.getRedPoint=function(e){return i.getRedPoint(e)},l.getList=function(e){e=e||{};var t=e.folderId||"/",n=e.filterUin||void 0,r=0,l=e.filterCode||0,s=!1,d=void 0,c=!1,p=!1,f=!1;return function(e,u,m){if(!p){if(p=!0,s)return void u({ec:1e3,em:"no more items"});var v={folder_id:t,start_index:r,cnt:25,filter_code:l,filter_uin:n};"/"!==t||f||(v.show_onlinedoc_folder=1);var _=JSON.stringify(v)===d;if(d=JSON.stringify(v),c&&_)return void console.log("same params will be ignored");m&&m();var h=function(n){f=!0,p=!1,c=!0;var o={list:n.file_list,total:n.total_cnt,totalSpace:n.total_space,usedSpace:n.used_space,userRole:n.user_role,openFlag:n.open_flag};G.nowFolder=t,n.file_list&&n.file_list.length&&(r+=n.file_list.length),0===n.next_index&&(s=!0),e(a(o))};"object"===("undefined"==typeof nodeData?"undefined":o(nodeData))?(h(nodeData),nodeData=!1):i.getFileList(v).done(function(e){h(e)}).fail(function(e){report("getListError"),p=!1,c=!1,u(e)})}}},l.getFileList=function(e){i.getFileList(e).done(function(e){if(0===e.total_cnt&&"/"===folderId)return void suc(!1);console.log(e);var t={list:e.file_list,total:e.total_cnt,totalSpace:e.total_space,usedSpace:e.used_space,userRole:e.user_role,openFlag:e.open_flag};G.nowFolder=folderId,e.file_list&&e.file_list.length&&(startIndex+=e.file_list.length),0===e.next_index&&(isEnd=!0),suc(a(t))}).fail(function(e){console.log(e),e.fc&&e.fc})},l.setAllSpace=function(e,t){i.getSpace().done(function(t){var n={totalSpace:t.total_space,usedSpace:t.used_space};r.setAllSpace(n),e(t)}).fail(function(e){console.log(e)})}},function(e,t,n){"use strict";function a(){for(var e in i)i.hasOwnProperty(e)&&c.bind("box."+e,i[e])}function o(){var e=d.getTaskListAdv(),t=l.getClist();if(G.pList=s.cleanMap(e.map),G.compList=t,G.compList)for(var n=0,o=G.compList.length;n<o;n++){var i=G.compList[n],c=r.getData(i.filepath);c||(i.id=i.filepath,r.addData(i))}a()}var i=(n(231),n(232),n(15)),r=n(1),l=n(13),s=n(27),d=n(4),c=$(G.handler);window.client=d,e.exports={init:o}},function(e,t,n){"use strict";function a(e,t){var n=t;o.check(n)||o.add(n),i.addBoxRow(n)}var o=n(56),i=n(15);$(G.handler).bind("client.addTask",a)},function(e,t,n){"use strict";function a(e,t){var n=t;o.updateBoxRow(n)}var o=(n(56),n(15));$(G.handler).bind("client.updateTask",a)},function(e,t,n){"use strict";var a={},o=$("#groupSize"),i=$("#groupSizeBar");a.renderSpace=function(){if("/"===G.nowFolder){o.text(G.file.capacityused+"/"+G.file.capacitytotal),$("#fileNumText").text(G.file.allnum),$("#macFileNums").text("共"+G.file.allnum+"个文件");var e=parseInt(G.file.cu/G.file.ct*100);i.css("width",e+"%"),$("#fileNum").removeClass("hide"),$(".nav").addClass("hide"),$("#normalNav").removeClass("hide")}},e.exports=a},function(e,t,n){"use strict";function a(){var e=r(G.info);l.html(e)}function o(){var e=i({mac:G.mac});l.html(e)}var i=n(116),r=n(117),l=$("#fileMoreMenu");e.exports={renderFolder:a,renderFile:o}},function(e,t,n){"use strict";function a(){G.flagIsVip&&i.html('<i class="icons-vip"></i>极速下载特权</a>').addClass("is-vip")}function o(){G.flagIsVip&&(r.find(".tips-msg").text("尊贵的QQ超级会员，您已获得群文件极速下载特权，快去下载文件体验吧！"),r.find(".btn-ok").remove()),r.addClass("open"),r.find(".btn-ok").focus()}var i=$("#qqVip"),r=$("#openVip");e.exports={showQQVip:a,show:o}},,,function(e,t,n){e.exports=n(93)}]);